2024-10-31 06:05:06 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:06 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:06 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:06 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:06 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:06 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:06 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:05:06 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:05:06 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:05:06 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:05:06 - db_utils - INFO -   Database version: 0
2024-10-31 06:05:06 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:05:06 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:05:06 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:06 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:06 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:05:06 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:05:06 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:06 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:06 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:06 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:05:06 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:05:06 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:05:06 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:05:06 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:05:06 - db_utils - INFO -   Database version: 0
2024-10-31 06:05:06 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:05:06 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:05:06 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:06 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:06 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:05:06 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:05:06 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:06 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:06 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:06 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:06 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:06 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:06 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:06 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:06 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:06 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:06 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:06 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:06 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:05:06 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:05:06 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:05:06 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:05:06 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:05:06 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:05:06 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:05:06 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:05:06 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:05:06 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:05:06 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:05:06 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:05:06 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:05:06 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:05:06 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:05:06 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:05:06 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:05:06 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 06:05:06 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:05:06 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:05:06 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:05:06 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:05:06 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:05:06 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:05:06 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:05:06 - customer_utils - INFO - Consistency check completed
2024-10-31 06:05:06 - customer_utils - INFO - Database connection closed
2024-10-31 06:05:06 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:05:06 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:05:06 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:05:06 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:05:06 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:05:06 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:05:06 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:05:06 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:05:06 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:05:06 - db_utils - INFO - Database index creation completed
2024-10-31 06:05:06 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:05:06 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:05:06 - __main__ - INFO - Application setup complete
2024-10-31 06:05:06 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 06:05:06 - __main__ - INFO - Application shutting down
2024-10-31 06:05:32 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:05:32 - __main__ - INFO - Starting application initialization
2024-10-31 06:05:32 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:05:32 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:05:32 - db_utils - INFO -   Database version: 0
2024-10-31 06:05:32 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:05:32 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:05:32 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:05:32 - db_utils - INFO -   Row count in login_history: 460
2024-10-31 06:05:32 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:05:32 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:05:32 - db_utils - INFO -   Database version: 0
2024-10-31 06:05:32 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:05:32 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:05:32 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:05:32 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:05:32 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:05:32 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:05:32 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:05:32 - db_utils - INFO -   Database version: 0
2024-10-31 06:05:32 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:05:32 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:05:32 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:05:32 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:05:32 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:05:32 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:05:32 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:05:32 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:05:32 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:05:32 - db_utils - INFO -   Database version: 0
2024-10-31 06:05:32 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:05:32 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:05:32 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:05:32 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:05:32 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:05:32 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:05:32 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:05:32 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:05:32 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:05:32 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:05:32 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:05:32 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:05:32 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:05:32 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:05:32 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:05:32 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:05:32 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:05:32 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:05:32 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:05:32 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:05:32 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:05:32 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:05:32 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 06:05:32 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:05:32 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:05:32 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:05:32 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:05:32 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:05:32 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:05:32 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:05:32 - customer_utils - INFO - Consistency check completed
2024-10-31 06:05:32 - customer_utils - INFO - Database connection closed
2024-10-31 06:05:32 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:05:32 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:05:32 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:05:32 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:05:32 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:05:32 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:05:32 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:05:32 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:05:32 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:05:32 - db_utils - INFO - Database index creation completed
2024-10-31 06:05:32 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:05:32 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:05:32 - __main__ - INFO - Application setup complete
2024-10-31 06:05:32 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 06:05:36 - __main__ - INFO - Application shutting down
2024-10-31 06:08:42 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:08:42 - __main__ - INFO - Starting application initialization
2024-10-31 06:08:42 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:08:42 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:08:42 - db_utils - INFO -   Database version: 0
2024-10-31 06:08:42 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:08:42 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:08:42 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:08:42 - db_utils - INFO -   Row count in login_history: 460
2024-10-31 06:08:42 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:08:42 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:08:42 - db_utils - INFO -   Database version: 0
2024-10-31 06:08:42 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:08:42 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:08:42 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:08:42 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:08:42 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:08:42 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:08:42 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:08:42 - db_utils - INFO -   Database version: 0
2024-10-31 06:08:42 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:08:42 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:08:42 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:08:42 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:08:42 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:08:42 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:08:42 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:08:42 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:08:42 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:08:42 - db_utils - INFO -   Database version: 0
2024-10-31 06:08:42 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:08:42 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:08:42 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:08:42 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:08:42 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:42 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:08:42 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:08:42 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:08:42 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:08:42 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:08:42 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:08:42 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:08:42 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:08:42 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:08:42 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:08:42 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:08:42 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:08:42 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:08:42 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:08:42 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:08:42 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:08:42 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:08:42 - db_utils - INFO - Database login_history initialized, updated, and optimized
2024-10-31 06:08:42 - db_utils - INFO - Database tunbroyting initialized, updated, and optimized
2024-10-31 06:08:42 - db_utils - INFO - Database stroing initialized, updated, and optimized
2024-10-31 06:08:42 - db_utils - INFO - Database feedback initialized, updated, and optimized
2024-10-31 06:08:42 - db_utils - INFO - Database customer initialized, updated, and optimized
2024-10-31 06:08:42 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:08:42 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:08:42 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:08:42 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:08:42 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:08:42 - db_utils - INFO - Database index creation completed
2024-10-31 06:08:42 - db_utils - INFO - Database indexes created
2024-10-31 06:08:42 - db_utils - INFO - Successfully verified connection to stroing.db
2024-10-31 06:08:42 - db_utils - INFO - Successfully verified connection to tunbroyting.db
2024-10-31 06:08:42 - db_utils - INFO - Successfully verified connection to feedback.db
2024-10-31 06:08:42 - db_utils - INFO - Successfully verified connection to login_history.db
2024-10-31 06:08:42 - db_utils - INFO - Successfully verified connection to customer.db
2024-10-31 06:08:42 - db_utils - INFO - Database connections verified
2024-10-31 06:08:42 - db_utils - INFO - All databases initialized, updated, and verified
2024-10-31 06:08:42 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:08:42 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:08:42 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:08:42 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:08:42 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:08:42 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:08:42 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:08:42 - customer_utils - INFO - Consistency check completed
2024-10-31 06:08:42 - customer_utils - INFO - Database connection closed
2024-10-31 06:08:42 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:08:42 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:08:42 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:08:42 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:08:42 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:08:42 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:08:42 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:08:42 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:08:42 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:08:42 - db_utils - INFO - Database index creation completed
2024-10-31 06:08:42 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:08:42 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:08:42 - __main__ - INFO - Application setup complete
2024-10-31 06:08:42 - __main__ - INFO - Application shutting down
2024-10-31 06:08:44 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:08:44 - __main__ - INFO - Starting application initialization
2024-10-31 06:08:44 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:08:44 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:08:44 - db_utils - INFO -   Database version: 0
2024-10-31 06:08:44 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:08:44 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:08:44 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:08:44 - db_utils - INFO -   Row count in login_history: 460
2024-10-31 06:08:44 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:08:44 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:08:44 - db_utils - INFO -   Database version: 0
2024-10-31 06:08:44 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:08:44 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:08:44 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:08:44 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:08:44 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:08:44 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:08:44 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:08:44 - db_utils - INFO -   Database version: 0
2024-10-31 06:08:44 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:08:44 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:08:44 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:08:44 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:08:44 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:08:44 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:08:44 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:08:44 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:08:44 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:08:44 - db_utils - INFO -   Database version: 0
2024-10-31 06:08:44 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:08:44 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:08:44 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:08:44 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:08:44 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:08:44 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:08:44 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:08:44 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:08:44 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:08:44 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:08:44 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:08:44 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:08:44 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:08:44 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:08:44 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:08:44 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:08:44 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:08:44 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:08:44 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:08:44 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:08:44 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:08:44 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 06:08:44 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:08:44 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:08:44 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:08:44 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:08:44 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:08:44 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:08:44 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:08:44 - customer_utils - INFO - Consistency check completed
2024-10-31 06:08:44 - customer_utils - INFO - Database connection closed
2024-10-31 06:08:44 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:08:44 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:08:44 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:08:44 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:08:44 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:08:44 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:08:44 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:08:44 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:08:44 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:08:44 - db_utils - INFO - Database index creation completed
2024-10-31 06:08:44 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:08:44 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:08:44 - __main__ - INFO - Application setup complete
2024-10-31 06:08:44 - auth_utils - INFO - Login attempt for ID: 999
2024-10-31 06:08:44 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 06:08:44 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 06:08:44 - db_utils - INFO - Attempting to create database engine...
2024-10-31 06:08:44 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 06:08:44 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-31 06:08:44 - auth_utils - INFO - User 999 authenticated successfully
2024-10-31 06:08:44 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 06:08:44 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-31 06:08:44 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-31 06:08:44 - auth_utils - INFO - Successful login for ID: 999
2024-10-31 06:08:44 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-31 06:08:44 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 06:08:44 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 06:08:44 - db_utils - INFO - Attempting to create database engine...
2024-10-31 06:08:44 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 06:08:44 - auth_utils - INFO - Rate limit reset for user 999
2024-10-31 06:08:44 - __main__ - INFO - Application shutting down
2024-10-31 06:08:44 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:08:44 - __main__ - INFO - Starting application initialization
2024-10-31 06:08:44 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:08:44 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:08:44 - db_utils - INFO -   Database version: 0
2024-10-31 06:08:44 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:08:44 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:08:44 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:08:44 - db_utils - INFO -   Row count in login_history: 461
2024-10-31 06:08:44 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:08:44 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:08:44 - db_utils - INFO -   Database version: 0
2024-10-31 06:08:44 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:08:44 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:08:44 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:08:44 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:08:44 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:08:44 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:08:44 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:08:44 - db_utils - INFO -   Database version: 0
2024-10-31 06:08:44 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:08:44 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:08:44 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:08:44 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:08:44 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:08:44 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:08:44 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:08:44 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:08:44 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:08:44 - db_utils - INFO -   Database version: 0
2024-10-31 06:08:44 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:08:44 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:08:44 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:08:44 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:08:44 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:44 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:08:44 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:08:44 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:08:44 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:08:44 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:08:44 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:08:44 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:08:44 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:08:44 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:08:44 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:08:44 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:08:44 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:08:44 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:08:44 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:08:44 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:08:44 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:08:44 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:08:44 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 06:08:44 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:08:44 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:08:44 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:08:44 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:08:44 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:08:44 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:08:44 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:08:44 - customer_utils - INFO - Consistency check completed
2024-10-31 06:08:44 - customer_utils - INFO - Database connection closed
2024-10-31 06:08:44 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:08:44 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:08:44 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:08:44 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:08:44 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:08:44 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:08:44 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:08:44 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:08:44 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:08:44 - db_utils - INFO - Database index creation completed
2024-10-31 06:08:44 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:08:44 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:08:44 - __main__ - INFO - Application setup complete
2024-10-31 06:08:44 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 06:08:44 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-31 06:08:44 - tun_utils - WARNING - hent_bestillinger() is deprecated, use get_bookings() instead
2024-10-31 06:08:44 - tun_utils - INFO - Starting get_bookings with start_date=None, end_date=None
2024-10-31 06:08:44 - tun_utils - INFO - Successfully retrieved 2 bookings
2024-10-31 06:08:44 - __main__ - INFO - Application shutting down
2024-10-31 06:08:46 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:08:46 - __main__ - INFO - Starting application initialization
2024-10-31 06:08:46 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:08:46 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:08:46 - db_utils - INFO -   Database version: 0
2024-10-31 06:08:46 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:08:46 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:08:46 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:08:46 - db_utils - INFO -   Row count in login_history: 461
2024-10-31 06:08:46 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:08:46 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:08:46 - db_utils - INFO -   Database version: 0
2024-10-31 06:08:46 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:08:46 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:08:46 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:08:46 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:08:46 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:08:46 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:08:46 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:08:46 - db_utils - INFO -   Database version: 0
2024-10-31 06:08:46 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:08:46 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:08:46 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:08:46 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:08:46 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:08:46 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:08:46 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:08:46 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:08:46 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:08:46 - db_utils - INFO -   Database version: 0
2024-10-31 06:08:46 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:08:46 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:08:46 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:08:46 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:08:46 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:08:46 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:08:46 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:08:46 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:08:46 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:08:46 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:08:46 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:08:46 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:08:46 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:08:46 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:08:46 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:08:46 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:08:46 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:08:46 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:08:46 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:08:46 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:08:46 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:08:46 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:08:46 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 06:08:46 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:08:46 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:08:46 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:08:46 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:08:46 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:08:46 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:08:46 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:08:46 - customer_utils - INFO - Consistency check completed
2024-10-31 06:08:46 - customer_utils - INFO - Database connection closed
2024-10-31 06:08:46 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:08:46 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:08:46 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:08:46 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:08:46 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:08:46 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:08:46 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:08:46 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:08:46 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:08:46 - db_utils - INFO - Database index creation completed
2024-10-31 06:08:46 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:08:46 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:08:46 - __main__ - INFO - Application setup complete
2024-10-31 06:08:46 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 06:08:46 - __main__ - INFO - Application shutting down
2024-10-31 06:39:18 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:39:18 - __main__ - INFO - Starting application initialization
2024-10-31 06:39:18 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:39:18 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:39:18 - db_utils - INFO -   Database version: 0
2024-10-31 06:39:18 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:39:18 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:39:18 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:39:18 - db_utils - INFO -   Row count in login_history: 461
2024-10-31 06:39:18 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:39:18 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:39:18 - db_utils - INFO -   Database version: 0
2024-10-31 06:39:18 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:39:18 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:39:18 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:39:18 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:39:18 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:39:18 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:39:18 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:39:18 - db_utils - INFO -   Database version: 0
2024-10-31 06:39:18 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:39:18 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:39:18 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:39:18 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:39:18 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:39:18 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:39:18 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:39:18 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:39:18 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:39:18 - db_utils - INFO -   Database version: 0
2024-10-31 06:39:18 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:39:18 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:39:18 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:39:18 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:39:18 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:18 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:39:18 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:39:18 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:39:18 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:39:18 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:39:18 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:39:18 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:39:18 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:39:18 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:39:18 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:39:18 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:39:18 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:39:18 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:39:18 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:39:18 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:39:18 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:39:18 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:39:18 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 06:39:18 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:39:18 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:39:18 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:39:18 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:39:18 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:39:18 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:39:18 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:39:18 - customer_utils - INFO - Consistency check completed
2024-10-31 06:39:18 - customer_utils - INFO - Database connection closed
2024-10-31 06:39:18 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:39:18 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:39:18 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:39:18 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:39:18 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:39:18 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:39:18 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:39:18 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:39:18 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:39:18 - db_utils - INFO - Database index creation completed
2024-10-31 06:39:18 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:39:18 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:39:18 - __main__ - INFO - Application setup complete
2024-10-31 06:39:18 - __main__ - INFO - Application shutting down
2024-10-31 06:39:27 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:39:27 - __main__ - INFO - Starting application initialization
2024-10-31 06:39:27 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:39:27 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:39:27 - db_utils - INFO -   Database version: 0
2024-10-31 06:39:27 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:39:27 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:39:27 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:39:27 - db_utils - INFO -   Row count in login_history: 461
2024-10-31 06:39:27 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:39:27 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:39:27 - db_utils - INFO -   Database version: 0
2024-10-31 06:39:27 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:39:27 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:39:27 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:39:27 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:39:27 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:39:27 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:39:27 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:39:27 - db_utils - INFO -   Database version: 0
2024-10-31 06:39:27 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:39:27 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:39:27 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:39:27 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:39:27 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:39:27 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:39:27 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:39:27 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:39:27 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:39:27 - db_utils - INFO -   Database version: 0
2024-10-31 06:39:27 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:39:27 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:39:27 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:39:27 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:39:27 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:39:27 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:39:27 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:39:27 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:39:27 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:39:27 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:39:27 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:39:27 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:39:27 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:39:27 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:39:27 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:39:27 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:39:27 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:39:27 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:39:27 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:39:27 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:39:27 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:39:27 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 06:39:27 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:39:27 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:39:27 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:39:27 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:39:27 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:39:27 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:39:27 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:39:27 - customer_utils - INFO - Consistency check completed
2024-10-31 06:39:27 - customer_utils - INFO - Database connection closed
2024-10-31 06:39:27 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:39:27 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:39:27 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:39:27 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:39:27 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:39:27 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:39:27 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:39:27 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:39:27 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:39:27 - db_utils - INFO - Database index creation completed
2024-10-31 06:39:27 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:39:27 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:39:27 - __main__ - INFO - Application setup complete
2024-10-31 06:39:27 - auth_utils - INFO - Login attempt for ID: 999
2024-10-31 06:39:27 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 06:39:27 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 06:39:27 - db_utils - INFO - Attempting to create database engine...
2024-10-31 06:39:27 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 06:39:27 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-31 06:39:27 - auth_utils - INFO - User 999 authenticated successfully
2024-10-31 06:39:27 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 06:39:27 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-31 06:39:27 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-31 06:39:27 - auth_utils - INFO - Successful login for ID: 999
2024-10-31 06:39:27 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-31 06:39:27 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 06:39:27 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 06:39:27 - db_utils - INFO - Attempting to create database engine...
2024-10-31 06:39:27 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 06:39:27 - auth_utils - INFO - Rate limit reset for user 999
2024-10-31 06:39:27 - __main__ - INFO - Application shutting down
2024-10-31 06:39:27 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:39:27 - __main__ - INFO - Starting application initialization
2024-10-31 06:39:27 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:39:27 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:39:27 - db_utils - INFO -   Database version: 0
2024-10-31 06:39:27 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:39:27 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:39:27 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:39:27 - db_utils - INFO -   Row count in login_history: 462
2024-10-31 06:39:27 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:39:27 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:39:27 - db_utils - INFO -   Database version: 0
2024-10-31 06:39:27 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:39:27 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:39:27 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:39:27 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:39:27 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:39:27 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:39:27 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:39:27 - db_utils - INFO -   Database version: 0
2024-10-31 06:39:27 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:39:27 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:39:27 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:39:27 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:39:27 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:39:27 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:39:27 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:39:27 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:39:27 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:39:27 - db_utils - INFO -   Database version: 0
2024-10-31 06:39:27 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:39:27 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:39:27 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:39:27 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:39:27 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:27 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:39:27 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:39:27 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:39:27 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:39:27 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:39:27 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:39:27 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:39:27 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:39:27 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:39:27 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:39:27 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:39:27 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:39:27 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:39:27 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:39:27 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:39:27 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:39:27 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:39:27 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 06:39:27 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:39:27 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:39:27 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:39:27 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:39:27 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:39:27 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:39:27 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:39:27 - customer_utils - INFO - Consistency check completed
2024-10-31 06:39:27 - customer_utils - INFO - Database connection closed
2024-10-31 06:39:27 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:39:27 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:39:27 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:39:27 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:39:27 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:39:27 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:39:27 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:39:27 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:39:27 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:39:27 - db_utils - INFO - Database index creation completed
2024-10-31 06:39:27 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:39:27 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:39:27 - __main__ - INFO - Application setup complete
2024-10-31 06:39:27 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 06:39:27 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-31 06:39:27 - tun_utils - WARNING - hent_bestillinger() is deprecated, use get_bookings() instead
2024-10-31 06:39:27 - tun_utils - INFO - Starting get_bookings with start_date=None, end_date=None
2024-10-31 06:39:27 - tun_utils - INFO - Successfully retrieved 2 bookings
2024-10-31 06:39:27 - __main__ - INFO - Application shutting down
2024-10-31 06:39:29 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:39:29 - __main__ - INFO - Starting application initialization
2024-10-31 06:39:29 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:39:29 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:39:29 - db_utils - INFO -   Database version: 0
2024-10-31 06:39:29 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:39:29 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:39:29 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:39:29 - db_utils - INFO -   Row count in login_history: 462
2024-10-31 06:39:29 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:39:29 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:39:29 - db_utils - INFO -   Database version: 0
2024-10-31 06:39:29 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:39:29 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:39:29 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:39:29 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:39:29 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:39:29 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:39:29 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:39:29 - db_utils - INFO -   Database version: 0
2024-10-31 06:39:29 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:39:29 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:39:29 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:39:29 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:39:29 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:39:29 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:39:29 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:39:29 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:39:29 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:39:29 - db_utils - INFO -   Database version: 0
2024-10-31 06:39:29 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:39:29 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:39:29 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:39:29 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:39:29 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:39:29 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:39:29 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:39:29 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:39:29 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:39:29 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:39:29 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:39:29 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:39:29 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:39:29 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:39:29 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:39:29 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:39:29 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:39:29 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:39:29 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:39:29 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:39:29 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:39:29 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:39:29 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 06:39:29 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:39:29 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:39:29 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:39:29 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:39:29 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:39:29 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:39:29 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:39:29 - customer_utils - INFO - Consistency check completed
2024-10-31 06:39:29 - customer_utils - INFO - Database connection closed
2024-10-31 06:39:29 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:39:29 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:39:29 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:39:29 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:39:29 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:39:29 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:39:29 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:39:29 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:39:29 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:39:29 - db_utils - INFO - Database index creation completed
2024-10-31 06:39:29 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:39:29 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:39:29 - __main__ - INFO - Application setup complete
2024-10-31 06:39:29 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 06:39:29 - __main__ - INFO - Application shutting down
2024-10-31 06:43:28 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:43:28 - __main__ - INFO - Starting application initialization
2024-10-31 06:43:28 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:43:28 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:43:28 - db_utils - INFO -   Database version: 0
2024-10-31 06:43:28 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:43:28 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:43:28 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:43:28 - db_utils - INFO -   Row count in login_history: 462
2024-10-31 06:43:28 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:43:28 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:43:28 - db_utils - INFO -   Database version: 0
2024-10-31 06:43:28 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:43:28 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:43:28 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:43:28 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:43:28 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:43:28 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:43:28 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:43:28 - db_utils - INFO -   Database version: 0
2024-10-31 06:43:28 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:43:28 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:43:28 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:43:28 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:43:28 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:43:28 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:43:28 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:43:28 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:43:28 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:43:28 - db_utils - INFO -   Database version: 0
2024-10-31 06:43:28 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:43:28 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:43:28 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:43:28 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:43:28 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:28 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:43:28 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:43:28 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:43:28 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:43:28 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:43:28 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:43:28 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:43:28 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:43:28 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:43:28 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:43:28 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:43:28 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:43:28 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:43:28 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:43:28 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:43:28 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:43:28 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:43:28 - db_utils - INFO - Database login_history initialized, updated, and optimized
2024-10-31 06:43:28 - db_utils - INFO - Database tunbroyting initialized, updated, and optimized
2024-10-31 06:43:28 - db_utils - INFO - Database stroing initialized, updated, and optimized
2024-10-31 06:43:28 - db_utils - INFO - Database feedback initialized, updated, and optimized
2024-10-31 06:43:28 - db_utils - INFO - Database customer initialized, updated, and optimized
2024-10-31 06:43:28 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:43:28 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:43:28 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:43:28 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:43:28 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:43:28 - db_utils - INFO - Database index creation completed
2024-10-31 06:43:28 - db_utils - INFO - Database indexes created
2024-10-31 06:43:28 - db_utils - INFO - Successfully verified connection to stroing.db
2024-10-31 06:43:28 - db_utils - INFO - Successfully verified connection to tunbroyting.db
2024-10-31 06:43:28 - db_utils - INFO - Successfully verified connection to feedback.db
2024-10-31 06:43:28 - db_utils - INFO - Successfully verified connection to login_history.db
2024-10-31 06:43:28 - db_utils - INFO - Successfully verified connection to customer.db
2024-10-31 06:43:28 - db_utils - INFO - Database connections verified
2024-10-31 06:43:28 - db_utils - INFO - All databases initialized, updated, and verified
2024-10-31 06:43:28 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:43:28 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:43:28 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:43:28 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:43:28 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:43:28 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:43:28 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:43:28 - customer_utils - INFO - Consistency check completed
2024-10-31 06:43:28 - customer_utils - INFO - Database connection closed
2024-10-31 06:43:28 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:43:28 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:43:28 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:43:28 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:43:28 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:43:28 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:43:28 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:43:28 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:43:28 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:43:28 - db_utils - INFO - Database index creation completed
2024-10-31 06:43:28 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:43:28 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:43:28 - __main__ - INFO - Application setup complete
2024-10-31 06:43:28 - __main__ - INFO - Application shutting down
2024-10-31 06:43:32 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:43:32 - __main__ - INFO - Starting application initialization
2024-10-31 06:43:32 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:43:32 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:43:32 - db_utils - INFO -   Database version: 0
2024-10-31 06:43:32 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:43:32 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:43:32 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:43:32 - db_utils - INFO -   Row count in login_history: 462
2024-10-31 06:43:32 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:43:32 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:43:32 - db_utils - INFO -   Database version: 0
2024-10-31 06:43:32 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:43:32 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:43:32 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:43:32 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:43:32 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:43:32 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:43:32 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:43:32 - db_utils - INFO -   Database version: 0
2024-10-31 06:43:32 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:43:32 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:43:32 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:43:32 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:43:32 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:43:32 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:43:32 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:43:32 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:43:32 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:43:32 - db_utils - INFO -   Database version: 0
2024-10-31 06:43:32 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:43:32 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:43:32 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:43:32 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:43:32 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:43:32 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:43:32 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:43:32 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:43:32 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:43:32 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:43:32 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:43:32 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:43:32 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:43:32 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:43:32 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:43:32 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:43:32 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:43:32 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:43:32 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:43:32 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:43:32 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:43:32 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 06:43:32 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:43:32 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:43:32 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:43:32 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:43:32 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:43:32 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:43:32 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:43:32 - customer_utils - INFO - Consistency check completed
2024-10-31 06:43:32 - customer_utils - INFO - Database connection closed
2024-10-31 06:43:32 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:43:32 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:43:32 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:43:32 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:43:32 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:43:32 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:43:32 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:43:32 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:43:32 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:43:32 - db_utils - INFO - Database index creation completed
2024-10-31 06:43:32 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:43:32 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:43:32 - __main__ - INFO - Application setup complete
2024-10-31 06:43:32 - auth_utils - INFO - Login attempt for ID: 999
2024-10-31 06:43:32 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 06:43:32 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 06:43:32 - db_utils - INFO - Attempting to create database engine...
2024-10-31 06:43:32 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 06:43:32 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-31 06:43:32 - auth_utils - INFO - User 999 authenticated successfully
2024-10-31 06:43:32 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 06:43:32 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-31 06:43:32 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-31 06:43:32 - auth_utils - INFO - Successful login for ID: 999
2024-10-31 06:43:32 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-31 06:43:32 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 06:43:32 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 06:43:32 - db_utils - INFO - Attempting to create database engine...
2024-10-31 06:43:32 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 06:43:32 - auth_utils - INFO - Rate limit reset for user 999
2024-10-31 06:43:32 - __main__ - INFO - Application shutting down
2024-10-31 06:43:32 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:43:32 - __main__ - INFO - Starting application initialization
2024-10-31 06:43:32 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:43:32 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:43:32 - db_utils - INFO -   Database version: 0
2024-10-31 06:43:32 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:43:32 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:43:32 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:43:32 - db_utils - INFO -   Row count in login_history: 463
2024-10-31 06:43:32 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:43:32 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:43:32 - db_utils - INFO -   Database version: 0
2024-10-31 06:43:32 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:43:32 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:43:32 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:43:32 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:43:32 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:43:32 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:43:32 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:43:32 - db_utils - INFO -   Database version: 0
2024-10-31 06:43:32 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:43:32 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:43:32 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:43:32 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:43:32 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:43:32 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:43:32 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:43:32 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:43:32 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:43:32 - db_utils - INFO -   Database version: 0
2024-10-31 06:43:32 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:43:32 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:43:32 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:43:32 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:43:32 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:32 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:43:32 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:43:32 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:43:32 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:43:32 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:43:32 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:43:32 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:43:32 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:43:32 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:43:32 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:43:32 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:43:32 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:43:32 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:43:32 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:43:32 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:43:32 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:43:32 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:43:32 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 06:43:32 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:43:32 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:43:32 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:43:32 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:43:32 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:43:32 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:43:32 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:43:32 - customer_utils - INFO - Consistency check completed
2024-10-31 06:43:32 - customer_utils - INFO - Database connection closed
2024-10-31 06:43:32 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:43:32 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:43:32 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:43:32 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:43:32 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:43:32 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:43:32 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:43:32 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:43:32 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:43:32 - db_utils - INFO - Database index creation completed
2024-10-31 06:43:32 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:43:32 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:43:32 - __main__ - INFO - Application setup complete
2024-10-31 06:43:32 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 06:43:32 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-31 06:43:32 - tun_utils - WARNING - hent_bestillinger() is deprecated, use get_bookings() instead
2024-10-31 06:43:32 - tun_utils - INFO - Starting get_bookings with start_date=None, end_date=None
2024-10-31 06:43:32 - tun_utils - INFO - Successfully retrieved 2 bookings
2024-10-31 06:43:32 - __main__ - INFO - Application shutting down
2024-10-31 06:43:35 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:43:35 - __main__ - INFO - Starting application initialization
2024-10-31 06:43:35 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:43:35 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:43:35 - db_utils - INFO -   Database version: 0
2024-10-31 06:43:35 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:43:35 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:43:35 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:43:35 - db_utils - INFO -   Row count in login_history: 463
2024-10-31 06:43:35 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:43:35 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:43:35 - db_utils - INFO -   Database version: 0
2024-10-31 06:43:35 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:43:35 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:43:35 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:43:35 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:43:35 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:43:35 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:43:35 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:43:35 - db_utils - INFO -   Database version: 0
2024-10-31 06:43:35 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:43:35 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:43:35 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:43:35 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:43:35 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:43:35 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:43:35 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:43:35 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:43:35 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:43:35 - db_utils - INFO -   Database version: 0
2024-10-31 06:43:35 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:43:35 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:43:35 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:43:35 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:43:35 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:43:35 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:43:35 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:43:35 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:43:35 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:43:35 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:43:35 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:43:35 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:43:35 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:43:35 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:43:35 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:43:35 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:43:35 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:43:35 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:43:35 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:43:35 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:43:35 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:43:35 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:43:35 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 06:43:35 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:43:35 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:43:35 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:43:35 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:43:35 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:43:35 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:43:35 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:43:35 - customer_utils - INFO - Consistency check completed
2024-10-31 06:43:35 - customer_utils - INFO - Database connection closed
2024-10-31 06:43:35 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:43:35 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:43:35 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:43:35 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:43:35 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:43:35 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:43:35 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:43:35 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:43:35 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:43:35 - db_utils - INFO - Database index creation completed
2024-10-31 06:43:35 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:43:35 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:43:35 - __main__ - INFO - Application setup complete
2024-10-31 06:43:35 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 06:43:35 - __main__ - INFO - Application shutting down
2024-10-31 06:45:57 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:45:57 - __main__ - INFO - Starting application initialization
2024-10-31 06:45:57 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:45:57 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:45:57 - db_utils - INFO -   Database version: 0
2024-10-31 06:45:57 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:45:57 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:45:57 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:45:57 - db_utils - INFO -   Row count in login_history: 463
2024-10-31 06:45:57 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:45:57 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:45:57 - db_utils - INFO -   Database version: 0
2024-10-31 06:45:57 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:45:57 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:45:57 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:45:57 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:45:57 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:45:57 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:45:57 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:45:57 - db_utils - INFO -   Database version: 0
2024-10-31 06:45:57 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:45:57 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:45:57 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:45:57 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:45:57 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:45:57 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:45:57 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:45:57 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:45:57 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:45:57 - db_utils - INFO -   Database version: 0
2024-10-31 06:45:57 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:45:57 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:45:57 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:45:57 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:45:57 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:45:57 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:45:57 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:45:57 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:45:57 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:45:57 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:45:57 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:45:57 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:45:57 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:45:57 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:45:57 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:45:57 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:45:57 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:45:57 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:45:57 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:45:57 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:45:57 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:45:57 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:45:57 - db_utils - INFO - Database login_history initialized, updated, and optimized
2024-10-31 06:45:57 - db_utils - INFO - Database tunbroyting initialized, updated, and optimized
2024-10-31 06:45:57 - db_utils - INFO - Database stroing initialized, updated, and optimized
2024-10-31 06:45:57 - db_utils - INFO - Database feedback initialized, updated, and optimized
2024-10-31 06:45:57 - db_utils - INFO - Database customer initialized, updated, and optimized
2024-10-31 06:45:57 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:45:57 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:45:57 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:45:57 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:45:57 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:45:57 - db_utils - INFO - Database index creation completed
2024-10-31 06:45:57 - db_utils - INFO - Database indexes created
2024-10-31 06:45:57 - db_utils - INFO - Successfully verified connection to stroing.db
2024-10-31 06:45:57 - db_utils - INFO - Successfully verified connection to tunbroyting.db
2024-10-31 06:45:57 - db_utils - INFO - Successfully verified connection to feedback.db
2024-10-31 06:45:57 - db_utils - INFO - Successfully verified connection to login_history.db
2024-10-31 06:45:57 - db_utils - INFO - Successfully verified connection to customer.db
2024-10-31 06:45:57 - db_utils - INFO - Database connections verified
2024-10-31 06:45:57 - db_utils - INFO - All databases initialized, updated, and verified
2024-10-31 06:45:57 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:45:57 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:45:57 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:45:57 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:45:57 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:45:57 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:45:57 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:45:57 - customer_utils - INFO - Consistency check completed
2024-10-31 06:45:57 - customer_utils - INFO - Database connection closed
2024-10-31 06:45:57 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:45:57 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:45:57 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:45:57 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:45:57 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:45:57 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:45:57 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:45:57 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:45:57 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:45:57 - db_utils - INFO - Database index creation completed
2024-10-31 06:45:57 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:45:57 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:45:57 - __main__ - INFO - Application setup complete
2024-10-31 06:45:57 - __main__ - INFO - Application shutting down
2024-10-31 06:46:01 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:46:01 - __main__ - INFO - Starting application initialization
2024-10-31 06:46:01 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:46:01 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:46:01 - db_utils - INFO -   Database version: 0
2024-10-31 06:46:01 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:46:01 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:46:01 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:46:01 - db_utils - INFO -   Row count in login_history: 463
2024-10-31 06:46:01 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:46:01 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:46:01 - db_utils - INFO -   Database version: 0
2024-10-31 06:46:01 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:46:01 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:46:01 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:46:01 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:46:01 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:46:01 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:46:01 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:46:01 - db_utils - INFO -   Database version: 0
2024-10-31 06:46:01 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:46:01 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:46:01 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:46:01 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:46:01 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:46:01 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:46:01 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:46:01 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:46:01 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:46:01 - db_utils - INFO -   Database version: 0
2024-10-31 06:46:01 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:46:01 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:46:01 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:46:01 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:46:01 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:46:01 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:46:01 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:46:01 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:46:01 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:46:01 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:46:01 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:46:01 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:46:01 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:46:01 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:46:01 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:46:01 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:46:01 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:46:01 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:46:01 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:46:01 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:46:01 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:46:01 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 06:46:01 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:46:01 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:46:01 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:46:01 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:46:01 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:46:01 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:46:01 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:46:01 - customer_utils - INFO - Consistency check completed
2024-10-31 06:46:01 - customer_utils - INFO - Database connection closed
2024-10-31 06:46:01 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:46:01 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:46:01 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:46:01 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:46:01 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:46:01 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:46:01 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:46:01 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:46:01 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:46:01 - db_utils - INFO - Database index creation completed
2024-10-31 06:46:01 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:46:01 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:46:01 - __main__ - INFO - Application setup complete
2024-10-31 06:46:01 - auth_utils - INFO - Login attempt for ID: 999
2024-10-31 06:46:01 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 06:46:01 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 06:46:01 - db_utils - INFO - Attempting to create database engine...
2024-10-31 06:46:01 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 06:46:01 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-31 06:46:01 - auth_utils - INFO - User 999 authenticated successfully
2024-10-31 06:46:01 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 06:46:01 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-31 06:46:01 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-31 06:46:01 - auth_utils - INFO - Successful login for ID: 999
2024-10-31 06:46:01 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-31 06:46:01 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 06:46:01 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 06:46:01 - db_utils - INFO - Attempting to create database engine...
2024-10-31 06:46:01 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 06:46:01 - auth_utils - INFO - Rate limit reset for user 999
2024-10-31 06:46:01 - __main__ - INFO - Application shutting down
2024-10-31 06:46:01 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:46:01 - __main__ - INFO - Starting application initialization
2024-10-31 06:46:01 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:46:01 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:46:01 - db_utils - INFO -   Database version: 0
2024-10-31 06:46:01 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:46:01 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:46:01 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:46:01 - db_utils - INFO -   Row count in login_history: 464
2024-10-31 06:46:01 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:46:01 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:46:01 - db_utils - INFO -   Database version: 0
2024-10-31 06:46:01 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:46:01 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:46:01 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:46:01 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:46:01 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:46:01 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:46:01 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:46:01 - db_utils - INFO -   Database version: 0
2024-10-31 06:46:01 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:46:01 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:46:01 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:46:01 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:46:01 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:46:01 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:46:01 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:46:01 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:46:01 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:46:01 - db_utils - INFO -   Database version: 0
2024-10-31 06:46:01 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:46:01 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:46:01 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:46:01 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:46:01 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:01 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:46:01 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:46:01 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:46:01 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:46:01 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:46:01 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:46:01 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:46:01 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:46:01 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:46:01 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:46:01 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:46:01 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:46:01 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:46:01 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:46:01 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:46:01 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:46:01 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:46:01 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 06:46:01 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:46:01 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:46:01 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:46:01 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:46:01 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:46:01 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:46:01 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:46:01 - customer_utils - INFO - Consistency check completed
2024-10-31 06:46:01 - customer_utils - INFO - Database connection closed
2024-10-31 06:46:01 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:46:01 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:46:01 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:46:01 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:46:01 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:46:01 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:46:01 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:46:01 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:46:01 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:46:01 - db_utils - INFO - Database index creation completed
2024-10-31 06:46:01 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:46:01 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:46:01 - __main__ - INFO - Application setup complete
2024-10-31 06:46:01 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 06:46:01 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-31 06:46:01 - tun_utils - WARNING - hent_bestillinger() is deprecated, use get_bookings() instead
2024-10-31 06:46:01 - tun_utils - INFO - Starting get_bookings with start_date=None, end_date=None
2024-10-31 06:46:01 - tun_utils - INFO - Successfully retrieved 2 bookings
2024-10-31 06:46:01 - __main__ - INFO - Application shutting down
2024-10-31 06:46:05 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:46:05 - __main__ - INFO - Starting application initialization
2024-10-31 06:46:05 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:46:05 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:46:05 - db_utils - INFO -   Database version: 0
2024-10-31 06:46:05 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:46:05 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:46:05 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:46:05 - db_utils - INFO -   Row count in login_history: 464
2024-10-31 06:46:05 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:46:05 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:46:05 - db_utils - INFO -   Database version: 0
2024-10-31 06:46:05 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:46:05 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:46:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:46:05 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:46:05 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:46:05 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:46:05 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:46:05 - db_utils - INFO -   Database version: 0
2024-10-31 06:46:05 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:46:05 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:46:05 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:46:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:46:05 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:46:05 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:46:05 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:46:05 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:46:05 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:46:05 - db_utils - INFO -   Database version: 0
2024-10-31 06:46:05 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:46:05 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:46:05 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:46:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:46:05 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:46:05 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:46:05 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:46:05 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:46:05 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:46:05 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:46:05 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:46:05 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:46:05 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:46:05 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:46:05 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:46:05 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:46:05 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:46:05 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:46:05 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:46:05 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:46:05 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:46:05 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:46:05 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 06:46:05 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:46:05 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:46:05 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:46:05 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:46:05 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:46:05 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:46:05 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:46:05 - customer_utils - INFO - Consistency check completed
2024-10-31 06:46:05 - customer_utils - INFO - Database connection closed
2024-10-31 06:46:05 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:46:05 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:46:05 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:46:05 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:46:05 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:46:05 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:46:05 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:46:05 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:46:05 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:46:05 - db_utils - INFO - Database index creation completed
2024-10-31 06:46:05 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:46:05 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:46:05 - __main__ - INFO - Application setup complete
2024-10-31 06:46:05 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 06:46:05 - __main__ - INFO - Application shutting down
2024-10-31 06:51:48 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:51:48 - __main__ - INFO - Starting application initialization
2024-10-31 06:51:48 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:51:48 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:51:48 - db_utils - INFO -   Database version: 0
2024-10-31 06:51:48 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:51:48 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:51:48 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:51:48 - db_utils - INFO -   Row count in login_history: 464
2024-10-31 06:51:48 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:51:48 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:51:48 - db_utils - INFO -   Database version: 0
2024-10-31 06:51:48 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:51:48 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:51:48 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:51:48 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:51:48 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:51:48 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:51:48 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:51:48 - db_utils - INFO -   Database version: 0
2024-10-31 06:51:48 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:51:48 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:51:48 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:51:48 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:51:48 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:51:48 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:51:48 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:51:48 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:51:48 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:51:48 - db_utils - INFO -   Database version: 0
2024-10-31 06:51:48 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:51:48 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:51:48 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:51:48 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:51:48 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:48 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:51:48 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:51:48 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:51:48 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:51:48 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:51:48 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:51:48 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:51:48 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:51:48 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:51:48 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:51:48 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:51:48 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:51:48 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:51:48 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:51:48 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:51:48 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:51:48 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:51:48 - db_utils - INFO - Database login_history initialized, updated, and optimized
2024-10-31 06:51:48 - db_utils - INFO - Database tunbroyting initialized, updated, and optimized
2024-10-31 06:51:48 - db_utils - INFO - Database stroing initialized, updated, and optimized
2024-10-31 06:51:48 - db_utils - INFO - Database feedback initialized, updated, and optimized
2024-10-31 06:51:48 - db_utils - INFO - Database customer initialized, updated, and optimized
2024-10-31 06:51:48 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:51:48 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:51:48 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:51:48 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:51:48 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:51:48 - db_utils - INFO - Database index creation completed
2024-10-31 06:51:48 - db_utils - INFO - Database indexes created
2024-10-31 06:51:48 - db_utils - INFO - Successfully verified connection to stroing.db
2024-10-31 06:51:48 - db_utils - INFO - Successfully verified connection to tunbroyting.db
2024-10-31 06:51:48 - db_utils - INFO - Successfully verified connection to feedback.db
2024-10-31 06:51:48 - db_utils - INFO - Successfully verified connection to login_history.db
2024-10-31 06:51:48 - db_utils - INFO - Successfully verified connection to customer.db
2024-10-31 06:51:48 - db_utils - INFO - Database connections verified
2024-10-31 06:51:48 - db_utils - INFO - All databases initialized, updated, and verified
2024-10-31 06:51:48 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:51:48 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:51:48 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:51:48 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:51:48 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:51:48 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:51:48 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:51:48 - customer_utils - INFO - Consistency check completed
2024-10-31 06:51:48 - customer_utils - INFO - Database connection closed
2024-10-31 06:51:48 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:51:48 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:51:48 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:51:48 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:51:48 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:51:48 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:51:48 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:51:48 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:51:48 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:51:48 - db_utils - INFO - Database index creation completed
2024-10-31 06:51:48 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:51:48 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:51:48 - __main__ - INFO - Application setup complete
2024-10-31 06:51:48 - __main__ - INFO - Application shutting down
2024-10-31 06:51:53 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:51:53 - __main__ - INFO - Starting application initialization
2024-10-31 06:51:53 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:51:53 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:51:53 - db_utils - INFO -   Database version: 0
2024-10-31 06:51:53 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:51:53 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:51:53 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:51:53 - db_utils - INFO -   Row count in login_history: 464
2024-10-31 06:51:53 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:51:53 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:51:53 - db_utils - INFO -   Database version: 0
2024-10-31 06:51:53 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:51:53 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:51:53 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:51:53 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:51:53 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:51:53 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:51:53 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:51:53 - db_utils - INFO -   Database version: 0
2024-10-31 06:51:53 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:51:53 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:51:53 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:51:53 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:51:53 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:51:53 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:51:53 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:51:53 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:51:53 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:51:53 - db_utils - INFO -   Database version: 0
2024-10-31 06:51:53 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:51:53 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:51:53 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:51:53 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:51:53 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:51:53 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:51:53 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:51:53 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:51:53 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:51:53 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:51:53 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:51:53 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:51:53 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:51:53 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:51:53 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:51:53 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:51:53 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:51:53 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:51:53 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:51:53 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:51:53 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:51:53 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 06:51:53 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:51:53 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:51:53 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:51:53 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:51:53 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:51:53 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:51:53 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:51:53 - customer_utils - INFO - Consistency check completed
2024-10-31 06:51:53 - customer_utils - INFO - Database connection closed
2024-10-31 06:51:53 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:51:53 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:51:53 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:51:53 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:51:53 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:51:53 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:51:53 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:51:53 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:51:53 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:51:53 - db_utils - INFO - Database index creation completed
2024-10-31 06:51:53 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:51:53 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:51:53 - __main__ - INFO - Application setup complete
2024-10-31 06:51:53 - auth_utils - INFO - Login attempt for ID: 999
2024-10-31 06:51:53 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 06:51:53 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 06:51:53 - db_utils - INFO - Attempting to create database engine...
2024-10-31 06:51:53 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 06:51:53 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-31 06:51:53 - auth_utils - INFO - User 999 authenticated successfully
2024-10-31 06:51:53 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 06:51:53 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-31 06:51:53 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-31 06:51:53 - auth_utils - INFO - Successful login for ID: 999
2024-10-31 06:51:53 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-31 06:51:53 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 06:51:53 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 06:51:53 - db_utils - INFO - Attempting to create database engine...
2024-10-31 06:51:53 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 06:51:53 - auth_utils - INFO - Rate limit reset for user 999
2024-10-31 06:51:53 - __main__ - INFO - Application shutting down
2024-10-31 06:51:53 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:51:53 - __main__ - INFO - Starting application initialization
2024-10-31 06:51:53 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:51:53 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:51:53 - db_utils - INFO -   Database version: 0
2024-10-31 06:51:53 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:51:53 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:51:53 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:51:53 - db_utils - INFO -   Row count in login_history: 465
2024-10-31 06:51:53 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:51:53 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:51:53 - db_utils - INFO -   Database version: 0
2024-10-31 06:51:53 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:51:53 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:51:53 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:51:53 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:51:53 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:51:53 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:51:53 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:51:53 - db_utils - INFO -   Database version: 0
2024-10-31 06:51:53 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:51:53 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:51:53 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:51:53 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:51:53 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:51:53 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:51:53 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:51:53 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:51:53 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:51:53 - db_utils - INFO -   Database version: 0
2024-10-31 06:51:53 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:51:53 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:51:53 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:51:53 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:51:53 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:53 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:51:53 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:51:53 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:51:53 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:51:53 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:51:53 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:51:53 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:51:53 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:51:53 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:51:53 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:51:53 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:51:53 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:51:53 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:51:53 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:51:53 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:51:53 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:51:53 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:51:53 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 06:51:53 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:51:53 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:51:53 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:51:53 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:51:53 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:51:53 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:51:53 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:51:53 - customer_utils - INFO - Consistency check completed
2024-10-31 06:51:53 - customer_utils - INFO - Database connection closed
2024-10-31 06:51:53 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:51:53 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:51:53 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:51:53 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:51:53 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:51:53 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:51:53 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:51:53 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:51:53 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:51:53 - db_utils - INFO - Database index creation completed
2024-10-31 06:51:53 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:51:53 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:51:53 - __main__ - INFO - Application setup complete
2024-10-31 06:51:53 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 06:51:53 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-31 06:51:53 - tun_utils - WARNING - hent_bestillinger() is deprecated, use get_bookings() instead
2024-10-31 06:51:53 - tun_utils - INFO - Starting get_bookings with start_date=None, end_date=None
2024-10-31 06:51:53 - tun_utils - INFO - Successfully retrieved 2 bookings
2024-10-31 06:51:53 - __main__ - INFO - Application shutting down
2024-10-31 06:51:55 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:51:55 - __main__ - INFO - Starting application initialization
2024-10-31 06:51:55 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:51:55 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:51:55 - db_utils - INFO -   Database version: 0
2024-10-31 06:51:55 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:51:55 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:51:55 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:51:55 - db_utils - INFO -   Row count in login_history: 465
2024-10-31 06:51:55 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:51:55 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:51:55 - db_utils - INFO -   Database version: 0
2024-10-31 06:51:55 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:51:55 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:51:55 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:51:55 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:51:55 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:51:55 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:51:55 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:51:55 - db_utils - INFO -   Database version: 0
2024-10-31 06:51:55 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:51:55 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:51:55 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:51:55 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:51:55 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:51:55 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:51:55 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:51:55 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:51:55 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:51:55 - db_utils - INFO -   Database version: 0
2024-10-31 06:51:55 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:51:55 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:51:55 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:51:55 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:51:55 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:51:55 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:51:55 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:51:55 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:51:55 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:51:55 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:51:55 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:51:55 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:51:55 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:51:55 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:51:55 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:51:55 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:51:55 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:51:55 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:51:55 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:51:55 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:51:55 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:51:55 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:51:55 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 06:51:55 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:51:55 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:51:55 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:51:55 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:51:55 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:51:55 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:51:55 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:51:55 - customer_utils - INFO - Consistency check completed
2024-10-31 06:51:55 - customer_utils - INFO - Database connection closed
2024-10-31 06:51:55 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:51:55 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:51:55 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:51:55 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:51:55 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:51:55 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:51:55 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:51:55 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:51:55 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:51:55 - db_utils - INFO - Database index creation completed
2024-10-31 06:51:55 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:51:55 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:51:55 - __main__ - INFO - Application setup complete
2024-10-31 06:51:55 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 06:51:55 - __main__ - INFO - Application shutting down
2024-10-31 06:52:54 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:52:54 - __main__ - INFO - Starting application initialization
2024-10-31 06:52:54 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:52:54 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:52:54 - db_utils - INFO -   Database version: 0
2024-10-31 06:52:54 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:52:54 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:52:54 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:52:54 - db_utils - INFO -   Row count in login_history: 465
2024-10-31 06:52:54 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:52:54 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:52:54 - db_utils - INFO -   Database version: 0
2024-10-31 06:52:54 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:52:54 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:52:54 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:52:54 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:52:54 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:52:54 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:52:54 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:52:54 - db_utils - INFO -   Database version: 0
2024-10-31 06:52:54 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:52:54 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:52:54 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:52:54 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:52:54 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:52:54 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:52:54 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:52:54 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:52:54 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:52:54 - db_utils - INFO -   Database version: 0
2024-10-31 06:52:54 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:52:54 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:52:54 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:52:54 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:52:54 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:54 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:52:54 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:52:54 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:52:54 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:52:54 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:52:54 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:52:54 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:52:54 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:52:54 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:52:54 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:52:54 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:52:54 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:52:54 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:52:54 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:52:54 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:52:54 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:52:54 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:52:54 - db_utils - INFO - Database login_history initialized, updated, and optimized
2024-10-31 06:52:54 - db_utils - INFO - Database tunbroyting initialized, updated, and optimized
2024-10-31 06:52:54 - db_utils - INFO - Database stroing initialized, updated, and optimized
2024-10-31 06:52:54 - db_utils - INFO - Database feedback initialized, updated, and optimized
2024-10-31 06:52:54 - db_utils - INFO - Database customer initialized, updated, and optimized
2024-10-31 06:52:54 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:52:54 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:52:54 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:52:54 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:52:54 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:52:54 - db_utils - INFO - Database index creation completed
2024-10-31 06:52:54 - db_utils - INFO - Database indexes created
2024-10-31 06:52:54 - db_utils - INFO - Successfully verified connection to stroing.db
2024-10-31 06:52:54 - db_utils - INFO - Successfully verified connection to tunbroyting.db
2024-10-31 06:52:54 - db_utils - INFO - Successfully verified connection to feedback.db
2024-10-31 06:52:54 - db_utils - INFO - Successfully verified connection to login_history.db
2024-10-31 06:52:54 - db_utils - INFO - Successfully verified connection to customer.db
2024-10-31 06:52:54 - db_utils - INFO - Database connections verified
2024-10-31 06:52:54 - db_utils - INFO - All databases initialized, updated, and verified
2024-10-31 06:52:54 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:52:54 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:52:54 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:52:54 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:52:54 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:52:54 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:52:54 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:52:54 - customer_utils - INFO - Consistency check completed
2024-10-31 06:52:54 - customer_utils - INFO - Database connection closed
2024-10-31 06:52:54 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:52:54 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:52:54 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:52:54 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:52:54 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:52:54 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:52:54 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:52:54 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:52:54 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:52:54 - db_utils - INFO - Database index creation completed
2024-10-31 06:52:54 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:52:54 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:52:54 - __main__ - INFO - Application setup complete
2024-10-31 06:52:54 - __main__ - INFO - Application shutting down
2024-10-31 06:52:56 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:52:56 - __main__ - INFO - Starting application initialization
2024-10-31 06:52:56 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:52:56 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:52:56 - db_utils - INFO -   Database version: 0
2024-10-31 06:52:56 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:52:56 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:52:56 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:52:56 - db_utils - INFO -   Row count in login_history: 465
2024-10-31 06:52:56 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:52:56 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:52:56 - db_utils - INFO -   Database version: 0
2024-10-31 06:52:56 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:52:56 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:52:56 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:52:56 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:52:56 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:52:56 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:52:56 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:52:56 - db_utils - INFO -   Database version: 0
2024-10-31 06:52:56 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:52:56 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:52:56 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:52:56 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:52:56 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:52:56 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:52:56 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:52:56 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:52:56 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:52:56 - db_utils - INFO -   Database version: 0
2024-10-31 06:52:56 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:52:56 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:52:56 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:52:56 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:52:56 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:52:56 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:52:56 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:52:56 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:52:56 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:52:56 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:52:56 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:52:56 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:52:56 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:52:56 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:52:56 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:52:56 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:52:56 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:52:56 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:52:56 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:52:56 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:52:56 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:52:56 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 06:52:56 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:52:56 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:52:56 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:52:56 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:52:56 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:52:56 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:52:56 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:52:56 - customer_utils - INFO - Consistency check completed
2024-10-31 06:52:56 - customer_utils - INFO - Database connection closed
2024-10-31 06:52:56 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:52:56 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:52:56 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:52:56 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:52:56 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:52:56 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:52:56 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:52:56 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:52:56 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:52:56 - db_utils - INFO - Database index creation completed
2024-10-31 06:52:56 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:52:56 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:52:56 - __main__ - INFO - Application setup complete
2024-10-31 06:52:56 - auth_utils - INFO - Login attempt for ID: 999
2024-10-31 06:52:56 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 06:52:56 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 06:52:56 - db_utils - INFO - Attempting to create database engine...
2024-10-31 06:52:56 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 06:52:56 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-31 06:52:56 - auth_utils - INFO - User 999 authenticated successfully
2024-10-31 06:52:56 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 06:52:56 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-31 06:52:56 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-31 06:52:56 - auth_utils - INFO - Successful login for ID: 999
2024-10-31 06:52:56 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-31 06:52:56 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 06:52:56 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 06:52:56 - db_utils - INFO - Attempting to create database engine...
2024-10-31 06:52:56 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 06:52:56 - auth_utils - INFO - Rate limit reset for user 999
2024-10-31 06:52:56 - __main__ - INFO - Application shutting down
2024-10-31 06:52:56 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:52:56 - __main__ - INFO - Starting application initialization
2024-10-31 06:52:56 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:52:56 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:52:56 - db_utils - INFO -   Database version: 0
2024-10-31 06:52:56 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:52:56 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:52:56 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:52:56 - db_utils - INFO -   Row count in login_history: 466
2024-10-31 06:52:56 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:52:56 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:52:56 - db_utils - INFO -   Database version: 0
2024-10-31 06:52:56 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:52:56 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:52:56 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:52:56 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:52:56 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:52:56 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:52:56 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:52:56 - db_utils - INFO -   Database version: 0
2024-10-31 06:52:56 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:52:56 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:52:56 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:52:56 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:52:56 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:52:56 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:52:56 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:52:56 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:52:56 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:52:56 - db_utils - INFO -   Database version: 0
2024-10-31 06:52:56 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:52:56 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:52:56 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:52:56 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:52:56 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:56 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:52:56 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:52:56 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:52:56 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:52:56 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:52:56 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:52:56 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:52:56 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:52:56 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:52:56 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:52:56 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:52:56 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:52:56 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:52:56 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:52:56 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:52:56 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:52:56 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:52:56 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 06:52:56 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:52:56 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:52:56 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:52:56 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:52:56 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:52:56 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:52:56 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:52:56 - customer_utils - INFO - Consistency check completed
2024-10-31 06:52:56 - customer_utils - INFO - Database connection closed
2024-10-31 06:52:56 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:52:56 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:52:56 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:52:56 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:52:56 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:52:56 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:52:56 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:52:56 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:52:56 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:52:56 - db_utils - INFO - Database index creation completed
2024-10-31 06:52:56 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:52:56 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:52:56 - __main__ - INFO - Application setup complete
2024-10-31 06:52:56 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 06:52:56 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-31 06:52:56 - tun_utils - WARNING - hent_bestillinger() is deprecated, use get_bookings() instead
2024-10-31 06:52:56 - tun_utils - INFO - Starting get_bookings with start_date=None, end_date=None
2024-10-31 06:52:56 - tun_utils - INFO - Successfully retrieved 2 bookings
2024-10-31 06:52:56 - __main__ - INFO - Application shutting down
2024-10-31 06:52:57 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:52:57 - __main__ - INFO - Starting application initialization
2024-10-31 06:52:57 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:52:57 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:52:57 - db_utils - INFO -   Database version: 0
2024-10-31 06:52:57 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:52:57 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:52:57 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:52:57 - db_utils - INFO -   Row count in login_history: 466
2024-10-31 06:52:57 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:52:57 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:52:57 - db_utils - INFO -   Database version: 0
2024-10-31 06:52:57 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:52:57 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:52:57 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:52:57 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:52:57 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:52:57 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:52:57 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:52:57 - db_utils - INFO -   Database version: 0
2024-10-31 06:52:57 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:52:57 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:52:57 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:52:57 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:52:57 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:52:57 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:52:57 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:52:57 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:52:57 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:52:57 - db_utils - INFO -   Database version: 0
2024-10-31 06:52:57 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:52:57 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:52:57 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:52:57 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:52:57 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:52:57 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:52:57 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:52:57 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:52:57 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:52:57 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:52:57 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:52:57 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:52:57 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:52:57 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:52:57 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:52:57 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:52:57 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:52:57 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:52:57 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:52:57 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:52:57 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:52:57 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:52:57 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 06:52:57 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:52:57 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:52:57 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:52:57 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:52:57 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:52:57 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:52:57 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:52:57 - customer_utils - INFO - Consistency check completed
2024-10-31 06:52:57 - customer_utils - INFO - Database connection closed
2024-10-31 06:52:57 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:52:57 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:52:57 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:52:57 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:52:57 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:52:57 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:52:57 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:52:57 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:52:57 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:52:57 - db_utils - INFO - Database index creation completed
2024-10-31 06:52:57 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:52:57 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:52:57 - __main__ - INFO - Application setup complete
2024-10-31 06:52:57 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 06:52:58 - __main__ - INFO - Application shutting down
2024-10-31 06:58:15 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:58:15 - __main__ - INFO - Starting application initialization
2024-10-31 06:58:15 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:58:15 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:58:15 - db_utils - INFO -   Database version: 0
2024-10-31 06:58:15 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:58:15 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:58:15 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:58:15 - db_utils - INFO -   Row count in login_history: 466
2024-10-31 06:58:15 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:58:15 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:58:15 - db_utils - INFO -   Database version: 0
2024-10-31 06:58:15 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:58:15 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:58:15 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:58:15 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:58:15 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:58:15 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:58:15 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:58:15 - db_utils - INFO -   Database version: 0
2024-10-31 06:58:15 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:58:15 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:58:15 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:58:15 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:58:15 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:58:15 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:58:15 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:58:15 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:58:15 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:58:15 - db_utils - INFO -   Database version: 0
2024-10-31 06:58:15 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:58:15 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:58:15 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:58:15 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:58:15 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:15 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:58:15 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:58:15 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:58:15 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:58:15 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:58:15 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:58:15 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:58:15 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:58:15 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:58:15 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:58:15 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:58:15 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:58:15 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:58:15 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:58:15 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:58:15 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:58:15 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:58:15 - db_utils - INFO - Database login_history initialized, updated, and optimized
2024-10-31 06:58:15 - db_utils - INFO - Database tunbroyting initialized, updated, and optimized
2024-10-31 06:58:15 - db_utils - INFO - Database stroing initialized, updated, and optimized
2024-10-31 06:58:15 - db_utils - INFO - Database feedback initialized, updated, and optimized
2024-10-31 06:58:15 - db_utils - INFO - Database customer initialized, updated, and optimized
2024-10-31 06:58:15 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:58:15 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:58:15 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:58:15 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:58:15 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:58:15 - db_utils - INFO - Database index creation completed
2024-10-31 06:58:15 - db_utils - INFO - Database indexes created
2024-10-31 06:58:15 - db_utils - INFO - Successfully verified connection to stroing.db
2024-10-31 06:58:15 - db_utils - INFO - Successfully verified connection to tunbroyting.db
2024-10-31 06:58:15 - db_utils - INFO - Successfully verified connection to feedback.db
2024-10-31 06:58:15 - db_utils - INFO - Successfully verified connection to login_history.db
2024-10-31 06:58:15 - db_utils - INFO - Successfully verified connection to customer.db
2024-10-31 06:58:15 - db_utils - INFO - Database connections verified
2024-10-31 06:58:15 - db_utils - INFO - All databases initialized, updated, and verified
2024-10-31 06:58:15 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:58:15 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:58:15 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:58:15 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:58:15 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:58:15 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:58:15 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:58:15 - customer_utils - INFO - Consistency check completed
2024-10-31 06:58:15 - customer_utils - INFO - Database connection closed
2024-10-31 06:58:15 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:58:15 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:58:15 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:58:15 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:58:15 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:58:15 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:58:15 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:58:15 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:58:15 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:58:15 - db_utils - INFO - Database index creation completed
2024-10-31 06:58:15 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:58:15 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:58:15 - __main__ - INFO - Application setup complete
2024-10-31 06:58:15 - __main__ - INFO - Application shutting down
2024-10-31 06:58:17 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:58:17 - __main__ - INFO - Starting application initialization
2024-10-31 06:58:17 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:58:17 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:58:17 - db_utils - INFO -   Database version: 0
2024-10-31 06:58:17 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:58:17 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:58:17 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:58:17 - db_utils - INFO -   Row count in login_history: 466
2024-10-31 06:58:17 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:58:17 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:58:17 - db_utils - INFO -   Database version: 0
2024-10-31 06:58:17 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:58:17 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:58:17 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:58:17 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:58:17 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:58:17 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:58:17 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:58:17 - db_utils - INFO -   Database version: 0
2024-10-31 06:58:17 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:58:17 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:58:17 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:58:17 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:58:17 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:58:17 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:58:17 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:58:17 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:58:17 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:58:17 - db_utils - INFO -   Database version: 0
2024-10-31 06:58:17 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:58:17 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:58:17 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:58:17 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:58:17 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:58:17 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:58:17 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:58:17 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:58:17 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:58:17 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:58:17 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:58:17 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:58:17 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:58:17 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:58:17 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:58:17 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:58:17 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:58:17 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:58:17 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:58:17 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:58:17 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:58:17 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 06:58:17 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:58:17 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:58:17 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:58:17 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:58:17 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:58:17 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:58:17 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:58:17 - customer_utils - INFO - Consistency check completed
2024-10-31 06:58:17 - customer_utils - INFO - Database connection closed
2024-10-31 06:58:17 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:58:17 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:58:17 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:58:17 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:58:17 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:58:17 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:58:17 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:58:17 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:58:17 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:58:17 - db_utils - INFO - Database index creation completed
2024-10-31 06:58:17 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:58:17 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:58:17 - __main__ - INFO - Application setup complete
2024-10-31 06:58:17 - auth_utils - INFO - Login attempt for ID: 999
2024-10-31 06:58:17 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 06:58:17 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 06:58:17 - db_utils - INFO - Attempting to create database engine...
2024-10-31 06:58:17 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 06:58:17 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-31 06:58:17 - auth_utils - INFO - User 999 authenticated successfully
2024-10-31 06:58:17 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 06:58:17 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-31 06:58:17 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-31 06:58:17 - auth_utils - INFO - Successful login for ID: 999
2024-10-31 06:58:17 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-31 06:58:17 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 06:58:17 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 06:58:17 - db_utils - INFO - Attempting to create database engine...
2024-10-31 06:58:17 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 06:58:17 - auth_utils - INFO - Rate limit reset for user 999
2024-10-31 06:58:17 - __main__ - INFO - Application shutting down
2024-10-31 06:58:17 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:58:17 - __main__ - INFO - Starting application initialization
2024-10-31 06:58:17 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:58:17 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:58:17 - db_utils - INFO -   Database version: 0
2024-10-31 06:58:17 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:58:17 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:58:17 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:58:17 - db_utils - INFO -   Row count in login_history: 467
2024-10-31 06:58:17 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:58:17 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:58:17 - db_utils - INFO -   Database version: 0
2024-10-31 06:58:17 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:58:17 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:58:17 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:58:17 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:58:17 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:58:17 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:58:17 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:58:17 - db_utils - INFO -   Database version: 0
2024-10-31 06:58:17 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:58:17 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:58:17 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:58:17 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:58:17 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:58:17 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:58:17 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:58:17 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:58:17 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:58:17 - db_utils - INFO -   Database version: 0
2024-10-31 06:58:17 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:58:17 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:58:17 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:58:17 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:58:17 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:17 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:58:17 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:58:17 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:58:17 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:58:17 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:58:17 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:58:17 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:58:17 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:58:17 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:58:17 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:58:17 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:58:17 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:58:17 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:58:17 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:58:17 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:58:17 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:58:17 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:58:17 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 06:58:17 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:58:17 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:58:17 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:58:17 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:58:17 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:58:17 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:58:17 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:58:17 - customer_utils - INFO - Consistency check completed
2024-10-31 06:58:17 - customer_utils - INFO - Database connection closed
2024-10-31 06:58:17 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:58:17 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:58:17 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:58:17 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:58:17 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:58:17 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:58:17 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:58:17 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:58:17 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:58:17 - db_utils - INFO - Database index creation completed
2024-10-31 06:58:17 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:58:17 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:58:17 - __main__ - INFO - Application setup complete
2024-10-31 06:58:17 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 06:58:17 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-31 06:58:17 - tun_utils - WARNING - hent_bestillinger() is deprecated, use get_bookings() instead
2024-10-31 06:58:17 - tun_utils - INFO - Starting get_bookings with start_date=None, end_date=None
2024-10-31 06:58:17 - tun_utils - INFO - Successfully retrieved 2 bookings
2024-10-31 06:58:17 - __main__ - INFO - Application shutting down
2024-10-31 06:58:19 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 06:58:19 - __main__ - INFO - Starting application initialization
2024-10-31 06:58:19 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 06:58:19 - db_utils - INFO - Debugging login_history database:
2024-10-31 06:58:19 - db_utils - INFO -   Database version: 0
2024-10-31 06:58:19 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 06:58:19 - db_utils - INFO -   Structure of login_history table:
2024-10-31 06:58:19 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 06:58:19 - db_utils - INFO -   Row count in login_history: 467
2024-10-31 06:58:19 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:58:19 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 06:58:19 - db_utils - INFO -   Database version: 0
2024-10-31 06:58:19 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 06:58:19 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 06:58:19 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:58:19 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 06:58:19 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 06:58:19 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:58:19 - db_utils - INFO - Debugging stroing database:
2024-10-31 06:58:19 - db_utils - INFO -   Database version: 0
2024-10-31 06:58:19 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 06:58:19 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:58:19 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 06:58:19 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:58:19 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 06:58:19 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:58:19 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 06:58:19 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:58:19 - db_utils - INFO - Debugging feedback database:
2024-10-31 06:58:19 - db_utils - INFO -   Database version: 0
2024-10-31 06:58:19 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 06:58:19 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 06:58:19 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -   Structure of feedback table:
2024-10-31 06:58:19 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 06:58:19 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 06:58:19 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 06:58:19 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 06:58:19 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 06:58:19 - db_utils - INFO -   Test query result: (1,)
2024-10-31 06:58:19 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 06:58:19 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:58:19 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:58:19 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:58:19 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:58:19 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:58:19 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:58:19 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 06:58:19 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 06:58:19 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 06:58:19 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 06:58:19 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 06:58:19 - db_utils - INFO - All database schemas verified and updated
2024-10-31 06:58:19 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 06:58:19 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 06:58:19 - db_utils - INFO - login_history table structure is correct
2024-10-31 06:58:19 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 06:58:19 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:58:19 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:58:19 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 06:58:19 - customer_utils - INFO - Found 94 customers in database
2024-10-31 06:58:19 - customer_utils - INFO - Consistency check completed
2024-10-31 06:58:19 - customer_utils - INFO - Database connection closed
2024-10-31 06:58:19 - customer_utils - INFO - Validating customers and passwords
2024-10-31 06:58:19 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 06:58:19 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 06:58:19 - customer_utils - INFO - Customer and password validation complete
2024-10-31 06:58:19 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 06:58:19 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 06:58:19 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 06:58:19 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 06:58:19 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 06:58:19 - db_utils - INFO - Database index creation completed
2024-10-31 06:58:19 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:58:19 - __main__ - INFO - Application initialization completed successfully
2024-10-31 06:58:19 - __main__ - INFO - Application setup complete
2024-10-31 06:58:19 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 06:58:20 - __main__ - INFO - Application shutting down
2024-10-31 07:05:07 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:05:07 - __main__ - INFO - Starting application initialization
2024-10-31 07:05:07 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:05:07 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:05:07 - db_utils - INFO -   Database version: 0
2024-10-31 07:05:07 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:05:07 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:05:07 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:05:07 - db_utils - INFO -   Row count in login_history: 467
2024-10-31 07:05:07 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:05:07 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:05:07 - db_utils - INFO -   Database version: 0
2024-10-31 07:05:07 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:05:07 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:05:07 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:05:07 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:05:07 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:05:07 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:05:07 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:05:07 - db_utils - INFO -   Database version: 0
2024-10-31 07:05:07 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:05:07 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:05:07 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:05:07 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:05:07 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:05:07 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:05:07 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:05:07 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:05:07 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:05:07 - db_utils - INFO -   Database version: 0
2024-10-31 07:05:07 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:05:07 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:05:07 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:05:07 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:05:07 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:07 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:05:07 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:05:07 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:05:07 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:05:07 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:05:07 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:05:07 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:05:07 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:05:07 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:05:07 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:05:07 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:05:07 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:05:07 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:05:07 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:05:07 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:05:07 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:05:07 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:05:07 - db_utils - INFO - Database login_history initialized, updated, and optimized
2024-10-31 07:05:07 - db_utils - INFO - Database tunbroyting initialized, updated, and optimized
2024-10-31 07:05:07 - db_utils - INFO - Database stroing initialized, updated, and optimized
2024-10-31 07:05:07 - db_utils - INFO - Database feedback initialized, updated, and optimized
2024-10-31 07:05:07 - db_utils - INFO - Database customer initialized, updated, and optimized
2024-10-31 07:05:07 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:05:07 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:05:07 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:05:07 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:05:07 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:05:07 - db_utils - INFO - Database index creation completed
2024-10-31 07:05:07 - db_utils - INFO - Database indexes created
2024-10-31 07:05:07 - db_utils - INFO - Successfully verified connection to stroing.db
2024-10-31 07:05:07 - db_utils - INFO - Successfully verified connection to tunbroyting.db
2024-10-31 07:05:07 - db_utils - INFO - Successfully verified connection to feedback.db
2024-10-31 07:05:07 - db_utils - INFO - Successfully verified connection to login_history.db
2024-10-31 07:05:07 - db_utils - INFO - Successfully verified connection to customer.db
2024-10-31 07:05:07 - db_utils - INFO - Database connections verified
2024-10-31 07:05:07 - db_utils - INFO - All databases initialized, updated, and verified
2024-10-31 07:05:07 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:05:07 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:05:07 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:05:07 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:05:07 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:05:07 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:05:07 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:05:07 - customer_utils - INFO - Consistency check completed
2024-10-31 07:05:07 - customer_utils - INFO - Database connection closed
2024-10-31 07:05:07 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:05:07 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:05:07 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:05:07 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:05:07 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:05:07 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:05:07 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:05:07 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:05:07 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:05:07 - db_utils - INFO - Database index creation completed
2024-10-31 07:05:07 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:05:07 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:05:07 - __main__ - INFO - Application setup complete
2024-10-31 07:05:07 - __main__ - INFO - Application shutting down
2024-10-31 07:05:29 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:05:29 - __main__ - INFO - Starting application initialization
2024-10-31 07:05:29 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:05:29 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:05:29 - db_utils - INFO -   Database version: 0
2024-10-31 07:05:29 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:05:29 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:05:29 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:05:29 - db_utils - INFO -   Row count in login_history: 467
2024-10-31 07:05:29 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:05:29 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:05:29 - db_utils - INFO -   Database version: 0
2024-10-31 07:05:29 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:05:29 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:05:29 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:05:29 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:05:29 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:05:29 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:05:29 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:05:29 - db_utils - INFO -   Database version: 0
2024-10-31 07:05:29 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:05:29 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:05:29 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:05:29 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:05:29 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:05:29 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:05:29 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:05:29 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:05:29 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:05:29 - db_utils - INFO -   Database version: 0
2024-10-31 07:05:29 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:05:29 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:05:29 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:05:29 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:05:29 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:05:29 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:05:29 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:05:29 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:05:29 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:05:29 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:05:29 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:05:29 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:05:29 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:05:29 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:05:29 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:05:29 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:05:29 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:05:29 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:05:29 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:05:29 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:05:29 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:05:29 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:05:29 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:05:29 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:05:29 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:05:29 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:05:29 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:05:29 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:05:29 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:05:29 - customer_utils - INFO - Consistency check completed
2024-10-31 07:05:29 - customer_utils - INFO - Database connection closed
2024-10-31 07:05:29 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:05:29 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:05:29 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:05:29 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:05:29 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:05:29 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:05:29 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:05:29 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:05:29 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:05:29 - db_utils - INFO - Database index creation completed
2024-10-31 07:05:29 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:05:29 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:05:29 - __main__ - INFO - Application setup complete
2024-10-31 07:05:29 - auth_utils - INFO - Login attempt for ID: 999
2024-10-31 07:05:29 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 07:05:29 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 07:05:29 - db_utils - INFO - Attempting to create database engine...
2024-10-31 07:05:29 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 07:05:29 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-31 07:05:29 - auth_utils - INFO - User 999 authenticated successfully
2024-10-31 07:05:29 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:05:29 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-31 07:05:29 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-31 07:05:29 - auth_utils - INFO - Successful login for ID: 999
2024-10-31 07:05:29 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-31 07:05:29 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 07:05:29 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 07:05:29 - db_utils - INFO - Attempting to create database engine...
2024-10-31 07:05:29 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 07:05:29 - auth_utils - INFO - Rate limit reset for user 999
2024-10-31 07:05:29 - __main__ - INFO - Application shutting down
2024-10-31 07:05:29 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:05:29 - __main__ - INFO - Starting application initialization
2024-10-31 07:05:29 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:05:29 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:05:29 - db_utils - INFO -   Database version: 0
2024-10-31 07:05:29 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:05:29 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:05:29 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:05:29 - db_utils - INFO -   Row count in login_history: 468
2024-10-31 07:05:29 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:05:29 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:05:29 - db_utils - INFO -   Database version: 0
2024-10-31 07:05:29 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:05:29 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:05:29 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:05:29 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:05:29 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:05:29 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:05:29 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:05:29 - db_utils - INFO -   Database version: 0
2024-10-31 07:05:29 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:05:29 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:05:29 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:05:29 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:05:29 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:05:29 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:05:29 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:05:29 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:05:29 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:05:29 - db_utils - INFO -   Database version: 0
2024-10-31 07:05:29 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:05:29 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:05:29 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:05:29 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:05:29 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:29 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:05:29 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:05:29 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:05:29 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:05:29 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:05:29 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:05:29 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:05:29 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:05:29 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:05:29 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:05:29 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:05:29 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:05:29 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:05:29 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:05:29 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:05:29 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:05:29 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:05:29 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:05:29 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:05:29 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:05:29 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:05:29 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:05:29 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:05:29 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:05:29 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:05:29 - customer_utils - INFO - Consistency check completed
2024-10-31 07:05:29 - customer_utils - INFO - Database connection closed
2024-10-31 07:05:29 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:05:29 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:05:29 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:05:29 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:05:29 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:05:29 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:05:29 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:05:29 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:05:29 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:05:29 - db_utils - INFO - Database index creation completed
2024-10-31 07:05:29 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:05:29 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:05:29 - __main__ - INFO - Application setup complete
2024-10-31 07:05:29 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:05:29 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-31 07:05:29 - tun_utils - WARNING - hent_bestillinger() is deprecated, use get_bookings() instead
2024-10-31 07:05:29 - tun_utils - INFO - Starting get_bookings with start_date=None, end_date=None
2024-10-31 07:05:29 - tun_utils - INFO - Successfully retrieved 2 bookings
2024-10-31 07:05:29 - __main__ - INFO - Application shutting down
2024-10-31 07:05:31 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:05:31 - __main__ - INFO - Starting application initialization
2024-10-31 07:05:31 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:05:31 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:05:31 - db_utils - INFO -   Database version: 0
2024-10-31 07:05:31 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:05:31 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:05:31 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:05:31 - db_utils - INFO -   Row count in login_history: 468
2024-10-31 07:05:31 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:05:31 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:05:31 - db_utils - INFO -   Database version: 0
2024-10-31 07:05:31 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:05:31 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:05:31 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:05:31 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:05:31 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:05:31 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:05:31 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:05:31 - db_utils - INFO -   Database version: 0
2024-10-31 07:05:31 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:05:31 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:05:31 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:05:31 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:05:31 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:05:31 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:05:31 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:05:31 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:05:31 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:05:31 - db_utils - INFO -   Database version: 0
2024-10-31 07:05:31 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:05:31 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:05:31 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:05:31 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:05:31 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:05:31 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:05:31 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:05:31 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:05:31 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:05:31 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:05:31 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:05:31 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:05:31 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:05:31 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:05:31 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:05:31 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:05:31 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:05:31 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:05:31 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:05:31 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:05:31 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:05:31 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:05:31 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:05:31 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:05:31 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:05:31 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:05:31 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:05:31 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:05:31 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:05:31 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:05:31 - customer_utils - INFO - Consistency check completed
2024-10-31 07:05:31 - customer_utils - INFO - Database connection closed
2024-10-31 07:05:31 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:05:31 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:05:31 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:05:31 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:05:31 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:05:31 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:05:31 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:05:31 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:05:31 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:05:31 - db_utils - INFO - Database index creation completed
2024-10-31 07:05:31 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:05:31 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:05:31 - __main__ - INFO - Application setup complete
2024-10-31 07:05:31 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:05:31 - __main__ - INFO - Application shutting down
2024-10-31 07:11:29 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:11:29 - __main__ - INFO - Starting application initialization
2024-10-31 07:11:29 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:11:29 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:11:29 - db_utils - INFO -   Database version: 0
2024-10-31 07:11:29 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:11:29 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:11:29 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:11:29 - db_utils - INFO -   Row count in login_history: 468
2024-10-31 07:11:29 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:11:29 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:11:29 - db_utils - INFO -   Database version: 0
2024-10-31 07:11:29 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:11:29 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:11:29 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:11:29 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:11:29 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:11:29 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:11:29 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:11:29 - db_utils - INFO -   Database version: 0
2024-10-31 07:11:29 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:11:29 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:11:29 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:11:29 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:11:29 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:11:29 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:11:29 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:11:29 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:11:29 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:11:29 - db_utils - INFO -   Database version: 0
2024-10-31 07:11:29 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:11:29 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:11:29 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:11:29 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:11:29 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:29 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:11:29 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:11:29 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:11:29 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:11:29 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:11:29 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:11:29 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:11:29 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:11:29 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:11:29 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:11:29 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:11:29 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:11:29 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:11:29 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:11:29 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:11:29 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:11:29 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:11:29 - db_utils - INFO - Database login_history initialized, updated, and optimized
2024-10-31 07:11:29 - db_utils - INFO - Database tunbroyting initialized, updated, and optimized
2024-10-31 07:11:29 - db_utils - INFO - Database stroing initialized, updated, and optimized
2024-10-31 07:11:29 - db_utils - INFO - Database feedback initialized, updated, and optimized
2024-10-31 07:11:29 - db_utils - INFO - Database customer initialized, updated, and optimized
2024-10-31 07:11:29 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:11:29 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:11:29 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:11:29 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:11:29 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:11:29 - db_utils - INFO - Database index creation completed
2024-10-31 07:11:29 - db_utils - INFO - Database indexes created
2024-10-31 07:11:29 - db_utils - INFO - Successfully verified connection to stroing.db
2024-10-31 07:11:29 - db_utils - INFO - Successfully verified connection to tunbroyting.db
2024-10-31 07:11:29 - db_utils - INFO - Successfully verified connection to feedback.db
2024-10-31 07:11:29 - db_utils - INFO - Successfully verified connection to login_history.db
2024-10-31 07:11:29 - db_utils - INFO - Successfully verified connection to customer.db
2024-10-31 07:11:29 - db_utils - INFO - Database connections verified
2024-10-31 07:11:29 - db_utils - INFO - All databases initialized, updated, and verified
2024-10-31 07:11:29 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:11:29 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:11:29 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:11:29 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:11:29 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:11:29 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:11:29 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:11:29 - customer_utils - INFO - Consistency check completed
2024-10-31 07:11:29 - customer_utils - INFO - Database connection closed
2024-10-31 07:11:29 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:11:29 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:11:29 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:11:29 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:11:29 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:11:29 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:11:29 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:11:29 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:11:29 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:11:29 - db_utils - INFO - Database index creation completed
2024-10-31 07:11:29 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:11:29 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:11:29 - __main__ - INFO - Application setup complete
2024-10-31 07:11:29 - __main__ - INFO - Application shutting down
2024-10-31 07:11:31 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:11:31 - __main__ - INFO - Starting application initialization
2024-10-31 07:11:31 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:11:31 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:11:31 - db_utils - INFO -   Database version: 0
2024-10-31 07:11:31 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:11:31 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:11:31 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:11:31 - db_utils - INFO -   Row count in login_history: 468
2024-10-31 07:11:31 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:11:31 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:11:31 - db_utils - INFO -   Database version: 0
2024-10-31 07:11:31 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:11:31 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:11:31 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:11:31 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:11:31 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:11:31 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:11:31 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:11:31 - db_utils - INFO -   Database version: 0
2024-10-31 07:11:31 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:11:31 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:11:31 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:11:31 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:11:31 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:11:31 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:11:31 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:11:31 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:11:31 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:11:31 - db_utils - INFO -   Database version: 0
2024-10-31 07:11:31 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:11:31 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:11:31 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:11:31 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:11:31 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:31 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:11:31 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:11:31 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:11:31 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:11:31 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:11:31 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:11:31 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:11:31 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:11:31 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:11:31 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:11:31 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:11:31 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:11:31 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:11:31 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:11:31 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:11:31 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:11:31 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:11:31 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:11:31 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:11:31 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:11:31 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:11:31 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:11:31 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:11:31 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:11:31 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:11:31 - customer_utils - INFO - Consistency check completed
2024-10-31 07:11:31 - customer_utils - INFO - Database connection closed
2024-10-31 07:11:31 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:11:31 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:11:31 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:11:31 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:11:31 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:11:31 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:11:31 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:11:31 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:11:31 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:11:31 - db_utils - INFO - Database index creation completed
2024-10-31 07:11:31 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:11:31 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:11:31 - __main__ - INFO - Application setup complete
2024-10-31 07:11:31 - auth_utils - INFO - Login attempt for ID: 999
2024-10-31 07:11:31 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 07:11:31 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 07:11:31 - db_utils - INFO - Attempting to create database engine...
2024-10-31 07:11:32 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 07:11:32 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-31 07:11:32 - auth_utils - INFO - User 999 authenticated successfully
2024-10-31 07:11:32 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:11:32 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-31 07:11:32 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-31 07:11:32 - auth_utils - INFO - Successful login for ID: 999
2024-10-31 07:11:32 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-31 07:11:32 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 07:11:32 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 07:11:32 - db_utils - INFO - Attempting to create database engine...
2024-10-31 07:11:32 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 07:11:32 - auth_utils - INFO - Rate limit reset for user 999
2024-10-31 07:11:32 - __main__ - INFO - Application shutting down
2024-10-31 07:11:32 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:11:32 - __main__ - INFO - Starting application initialization
2024-10-31 07:11:32 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:11:32 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:11:32 - db_utils - INFO -   Database version: 0
2024-10-31 07:11:32 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:11:32 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:11:32 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:11:32 - db_utils - INFO -   Row count in login_history: 469
2024-10-31 07:11:32 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:11:32 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:11:32 - db_utils - INFO -   Database version: 0
2024-10-31 07:11:32 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:11:32 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:11:32 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:11:32 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:11:32 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:11:32 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:11:32 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:11:32 - db_utils - INFO -   Database version: 0
2024-10-31 07:11:32 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:11:32 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:11:32 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:11:32 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:11:32 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:11:32 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:11:32 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:11:32 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:11:32 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:11:32 - db_utils - INFO -   Database version: 0
2024-10-31 07:11:32 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:11:32 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:11:32 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:11:32 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:11:32 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:32 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:11:32 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:11:32 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:11:32 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:11:32 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:11:32 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:11:32 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:11:32 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:11:32 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:11:32 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:11:32 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:11:32 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:11:32 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:11:32 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:11:32 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:11:32 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:11:32 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:11:32 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:11:32 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:11:32 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:11:32 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:11:32 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:11:32 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:11:32 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:11:32 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:11:32 - customer_utils - INFO - Consistency check completed
2024-10-31 07:11:32 - customer_utils - INFO - Database connection closed
2024-10-31 07:11:32 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:11:32 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:11:32 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:11:32 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:11:32 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:11:32 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:11:32 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:11:32 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:11:32 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:11:32 - db_utils - INFO - Database index creation completed
2024-10-31 07:11:32 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:11:32 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:11:32 - __main__ - INFO - Application setup complete
2024-10-31 07:11:32 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:11:32 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-31 07:11:32 - tun_utils - WARNING - hent_bestillinger() is deprecated, use get_bookings() instead
2024-10-31 07:11:32 - tun_utils - INFO - Starting get_bookings with start_date=None, end_date=None
2024-10-31 07:11:32 - tun_utils - INFO - Successfully retrieved 2 bookings
2024-10-31 07:11:32 - __main__ - INFO - Application shutting down
2024-10-31 07:11:34 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:11:34 - __main__ - INFO - Starting application initialization
2024-10-31 07:11:34 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:11:34 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:11:34 - db_utils - INFO -   Database version: 0
2024-10-31 07:11:34 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:11:34 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:11:34 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:11:34 - db_utils - INFO -   Row count in login_history: 469
2024-10-31 07:11:34 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:11:34 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:11:34 - db_utils - INFO -   Database version: 0
2024-10-31 07:11:34 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:11:34 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:11:34 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:11:34 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:11:34 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:11:34 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:11:34 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:11:34 - db_utils - INFO -   Database version: 0
2024-10-31 07:11:34 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:11:34 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:11:34 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:11:34 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:11:34 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:11:34 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:11:34 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:11:34 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:11:34 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:11:34 - db_utils - INFO -   Database version: 0
2024-10-31 07:11:34 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:11:34 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:11:34 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:11:34 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:11:34 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:34 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:11:34 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:11:34 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:11:34 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:11:34 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:11:34 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:11:34 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:11:34 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:11:34 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:11:34 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:11:34 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:11:34 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:11:34 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:11:34 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:11:34 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:11:34 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:11:34 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:11:34 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:11:34 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:11:34 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:11:34 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:11:34 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:11:34 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:11:34 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:11:34 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:11:34 - customer_utils - INFO - Consistency check completed
2024-10-31 07:11:34 - customer_utils - INFO - Database connection closed
2024-10-31 07:11:34 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:11:34 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:11:34 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:11:34 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:11:34 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:11:34 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:11:34 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:11:34 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:11:34 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:11:34 - db_utils - INFO - Database index creation completed
2024-10-31 07:11:34 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:11:34 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:11:34 - __main__ - INFO - Application setup complete
2024-10-31 07:11:34 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:11:35 - __main__ - INFO - Application shutting down
2024-10-31 07:11:46 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:11:46 - __main__ - INFO - Starting application initialization
2024-10-31 07:11:46 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:11:46 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:11:46 - db_utils - INFO -   Database version: 0
2024-10-31 07:11:46 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:11:46 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:11:46 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:11:46 - db_utils - INFO -   Row count in login_history: 469
2024-10-31 07:11:46 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:11:46 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:11:46 - db_utils - INFO -   Database version: 0
2024-10-31 07:11:46 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:11:46 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:11:46 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:11:46 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:11:46 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:11:46 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:11:46 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:11:46 - db_utils - INFO -   Database version: 0
2024-10-31 07:11:46 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:11:46 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:11:46 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:11:46 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:11:46 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:11:46 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:11:46 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:11:46 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:11:46 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:11:46 - db_utils - INFO -   Database version: 0
2024-10-31 07:11:46 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:11:46 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:11:46 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:11:46 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:11:46 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:46 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:11:46 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:11:46 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:11:46 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:11:46 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:11:46 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:11:46 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:11:46 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:11:46 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:11:46 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:11:46 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:11:46 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:11:46 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:11:46 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:11:46 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:11:46 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:11:46 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:11:46 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:11:46 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:11:46 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:11:46 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:11:46 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:11:46 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:11:46 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:11:46 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:11:46 - customer_utils - INFO - Consistency check completed
2024-10-31 07:11:46 - customer_utils - INFO - Database connection closed
2024-10-31 07:11:46 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:11:46 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:11:46 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:11:46 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:11:46 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:11:46 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:11:46 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:11:46 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:11:46 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:11:46 - db_utils - INFO - Database index creation completed
2024-10-31 07:11:46 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:11:46 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:11:46 - __main__ - INFO - Application setup complete
2024-10-31 07:11:46 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:11:47 - __main__ - INFO - Application shutting down
2024-10-31 07:11:58 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:11:58 - __main__ - INFO - Starting application initialization
2024-10-31 07:11:58 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:11:58 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:11:58 - db_utils - INFO -   Database version: 0
2024-10-31 07:11:58 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:11:58 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:11:58 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:11:58 - db_utils - INFO -   Row count in login_history: 469
2024-10-31 07:11:58 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:11:58 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:11:58 - db_utils - INFO -   Database version: 0
2024-10-31 07:11:58 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:11:58 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:11:58 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:11:58 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:11:58 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:11:58 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:11:58 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:11:58 - db_utils - INFO -   Database version: 0
2024-10-31 07:11:58 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:11:58 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:11:58 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:11:58 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:11:58 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:11:58 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:11:58 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:11:58 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:11:58 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:11:58 - db_utils - INFO -   Database version: 0
2024-10-31 07:11:58 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:11:58 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:11:58 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:11:58 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:11:58 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:11:58 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:11:58 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:11:58 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:11:58 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:11:58 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:11:58 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:11:58 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:11:58 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:11:58 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:11:58 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:11:58 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:11:58 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:11:58 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:11:58 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:11:58 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:11:58 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:11:58 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:11:58 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:11:58 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:11:58 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:11:58 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:11:58 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:11:58 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:11:58 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:11:58 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:11:58 - customer_utils - INFO - Consistency check completed
2024-10-31 07:11:58 - customer_utils - INFO - Database connection closed
2024-10-31 07:11:58 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:11:58 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:11:58 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:11:58 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:11:58 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:11:58 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:11:58 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:11:58 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:11:58 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:11:58 - db_utils - INFO - Database index creation completed
2024-10-31 07:11:58 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:11:58 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:11:58 - __main__ - INFO - Application setup complete
2024-10-31 07:11:58 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:11:59 - weather_display_utils - ERROR - Uventet feil i display_weather_data: "['snow_depth_change'] not in index"
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_display_utils.py", line 52, in display_weather_data
    display_additional_data(df, df.columns)
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_display_utils.py", line 353, in display_additional_data
    display_alarms(df, available_columns)
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_display_utils.py", line 417, in display_alarms
    snow_drift_alarms[
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/frame.py", line 4108, in __getitem__
    indexer = self.columns._get_indexer_strict(key, "columns")[1]
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/indexes/base.py", line 6200, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/indexes/base.py", line 6252, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['snow_depth_change'] not in index"
2024-10-31 07:11:59 - __main__ - INFO - Application shutting down
2024-10-31 07:12:18 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:12:18 - __main__ - INFO - Starting application initialization
2024-10-31 07:12:18 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:12:18 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:12:18 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:18 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:12:18 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:12:18 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:12:18 - db_utils - INFO -   Row count in login_history: 469
2024-10-31 07:12:18 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:18 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:12:18 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:18 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:12:18 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:12:18 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:18 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:12:18 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:12:18 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:18 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:12:18 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:18 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:12:18 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:12:18 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:12:18 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:18 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:12:18 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:12:18 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:12:18 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:18 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:12:18 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:18 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:12:18 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:12:18 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:12:18 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:18 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:18 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:12:18 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:12:18 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:12:18 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:18 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:12:18 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:12:18 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:12:18 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:12:18 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:12:18 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:12:18 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:12:18 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:12:18 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:12:18 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:12:18 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:12:18 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:12:18 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:12:18 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:12:18 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:12:18 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:12:18 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:12:18 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:12:18 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:12:18 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:12:18 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:12:18 - customer_utils - INFO - Consistency check completed
2024-10-31 07:12:18 - customer_utils - INFO - Database connection closed
2024-10-31 07:12:18 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:12:18 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:12:18 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:12:18 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:12:18 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:12:18 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:12:18 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:12:18 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:12:18 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:12:18 - db_utils - INFO - Database index creation completed
2024-10-31 07:12:18 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:12:18 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:12:18 - __main__ - INFO - Application setup complete
2024-10-31 07:12:18 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:12:19 - weather_display_utils - ERROR - Uventet feil i display_weather_data: "['air_temperature', 'snow_depth_change'] not in index"
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_display_utils.py", line 52, in display_weather_data
    display_additional_data(df, df.columns)
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_display_utils.py", line 353, in display_additional_data
    display_alarms(df, available_columns)
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_display_utils.py", line 417, in display_alarms
    snow_drift_alarms[
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/frame.py", line 4108, in __getitem__
    indexer = self.columns._get_indexer_strict(key, "columns")[1]
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/indexes/base.py", line 6200, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/indexes/base.py", line 6252, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['air_temperature', 'snow_depth_change'] not in index"
2024-10-31 07:12:19 - __main__ - INFO - Application shutting down
2024-10-31 07:12:19 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:12:19 - __main__ - INFO - Starting application initialization
2024-10-31 07:12:19 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:12:19 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:12:19 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:19 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:12:19 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:12:19 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:12:19 - db_utils - INFO -   Row count in login_history: 469
2024-10-31 07:12:19 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:19 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:12:19 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:19 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:12:19 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:12:19 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:19 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:12:19 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:12:19 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:19 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:12:19 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:19 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:12:19 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:12:19 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:12:19 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:19 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:12:19 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:12:19 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:12:19 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:19 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:12:19 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:19 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:12:19 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:12:19 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:12:19 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:19 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:19 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:12:19 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:12:19 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:12:19 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:19 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:12:19 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:12:19 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:12:19 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:12:19 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:12:19 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:12:19 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:12:19 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:12:19 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:12:19 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:12:19 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:12:19 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:12:19 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:12:19 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:12:19 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:12:19 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:12:19 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:12:19 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:12:19 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:12:19 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:12:19 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:12:19 - customer_utils - INFO - Consistency check completed
2024-10-31 07:12:19 - customer_utils - INFO - Database connection closed
2024-10-31 07:12:19 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:12:19 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:12:19 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:12:19 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:12:19 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:12:19 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:12:19 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:12:19 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:12:19 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:12:19 - db_utils - INFO - Database index creation completed
2024-10-31 07:12:19 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:12:19 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:12:19 - __main__ - INFO - Application setup complete
2024-10-31 07:12:19 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:12:20 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:12:20 - __main__ - INFO - Starting application initialization
2024-10-31 07:12:20 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:12:20 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:12:20 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:20 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:12:20 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:12:20 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:12:20 - db_utils - INFO -   Row count in login_history: 469
2024-10-31 07:12:20 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:20 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:12:20 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:20 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:12:20 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:12:20 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:20 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:12:20 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:12:20 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:20 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:12:20 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:20 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:12:20 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:12:20 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:12:20 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:20 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:12:20 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:12:20 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:12:20 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:20 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:12:20 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:20 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:12:20 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:12:20 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:12:20 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:20 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:20 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:12:20 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:12:20 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:12:20 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:20 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:12:20 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:12:20 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:12:20 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:12:20 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:12:20 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:12:20 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:12:20 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:12:20 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:12:20 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:12:20 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:12:20 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:12:20 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:12:20 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:12:20 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:12:20 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:12:20 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:12:20 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:12:20 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:12:20 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:12:20 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:12:20 - customer_utils - INFO - Consistency check completed
2024-10-31 07:12:20 - customer_utils - INFO - Database connection closed
2024-10-31 07:12:20 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:12:20 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:12:20 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:12:20 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:12:20 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:12:20 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:12:20 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:12:20 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:12:20 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:12:20 - db_utils - INFO - Database index creation completed
2024-10-31 07:12:20 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:12:20 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:12:20 - __main__ - INFO - Application setup complete
2024-10-31 07:12:20 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:12:20 - __main__ - INFO - Application shutting down
2024-10-31 07:12:21 - weather_display_utils - ERROR - Uventet feil i display_weather_data: 'snow_drift_alarm'
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/indexes/base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas/_libs/hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas/_libs/hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'snow_drift_alarm'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_display_utils.py", line 52, in display_weather_data
    display_additional_data(df, df.columns)
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_display_utils.py", line 353, in display_additional_data
    display_alarms(df, available_columns)
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_display_utils.py", line 414, in display_alarms
    snow_drift_alarms = df[df["snow_drift_alarm"] == 1]
                           ~~^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/indexes/base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'snow_drift_alarm'
2024-10-31 07:12:21 - __main__ - INFO - Application shutting down
2024-10-31 07:12:21 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:12:21 - __main__ - INFO - Starting application initialization
2024-10-31 07:12:21 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:12:21 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:12:21 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:21 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:12:21 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:12:21 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:12:21 - db_utils - INFO -   Row count in login_history: 469
2024-10-31 07:12:21 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:21 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:12:21 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:21 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:12:21 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:12:21 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:21 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:12:21 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:12:21 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:21 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:12:21 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:21 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:12:21 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:12:21 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:12:21 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:21 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:12:21 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:12:21 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:12:21 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:21 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:12:21 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:21 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:12:21 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:12:21 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:12:21 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:21 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:21 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:12:21 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:12:21 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:12:21 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:21 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:12:21 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:12:21 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:12:21 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:12:21 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:12:21 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:12:21 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:12:21 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:12:21 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:12:21 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:12:21 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:12:21 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:12:21 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:12:21 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:12:21 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:12:21 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:12:21 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:12:21 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:12:21 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:12:21 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:12:21 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:12:21 - customer_utils - INFO - Consistency check completed
2024-10-31 07:12:21 - customer_utils - INFO - Database connection closed
2024-10-31 07:12:21 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:12:21 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:12:21 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:12:21 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:12:21 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:12:21 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:12:21 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:12:21 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:12:21 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:12:21 - db_utils - INFO - Database index creation completed
2024-10-31 07:12:21 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:12:21 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:12:21 - __main__ - INFO - Application setup complete
2024-10-31 07:12:21 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:12:22 - weather_display_utils - ERROR - Uventet feil i display_weather_data: 'snow_drift_alarm'
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/indexes/base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas/_libs/hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas/_libs/hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'snow_drift_alarm'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_display_utils.py", line 52, in display_weather_data
    display_additional_data(df, df.columns)
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_display_utils.py", line 353, in display_additional_data
    display_alarms(df, available_columns)
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_display_utils.py", line 414, in display_alarms
    snow_drift_alarms = df[df["snow_drift_alarm"] == 1]
                           ~~^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/indexes/base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'snow_drift_alarm'
2024-10-31 07:12:22 - __main__ - INFO - Application shutting down
2024-10-31 07:12:25 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:12:25 - __main__ - INFO - Starting application initialization
2024-10-31 07:12:25 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:12:25 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:12:25 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:25 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:12:25 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:12:25 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:12:25 - db_utils - INFO -   Row count in login_history: 469
2024-10-31 07:12:25 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:25 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:12:25 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:25 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:12:25 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:12:25 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:25 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:12:25 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:12:25 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:25 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:12:25 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:25 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:12:25 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:12:25 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:12:25 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:25 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:12:25 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:12:25 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:12:25 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:25 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:12:25 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:25 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:12:25 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:12:25 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:12:25 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:25 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:25 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:12:25 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:12:25 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:12:25 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:25 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:12:25 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:12:25 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:12:25 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:12:25 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:12:25 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:12:25 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:12:25 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:12:25 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:12:25 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:12:25 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:12:25 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:12:25 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:12:25 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:12:25 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:12:25 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:12:25 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:12:25 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:12:25 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:12:25 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:12:25 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:12:25 - customer_utils - INFO - Consistency check completed
2024-10-31 07:12:25 - customer_utils - INFO - Database connection closed
2024-10-31 07:12:25 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:12:25 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:12:25 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:12:25 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:12:25 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:12:25 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:12:25 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:12:25 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:12:25 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:12:25 - db_utils - INFO - Database index creation completed
2024-10-31 07:12:25 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:12:25 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:12:25 - __main__ - INFO - Application setup complete
2024-10-31 07:12:25 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:12:25 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:12:25 - __main__ - INFO - Application shutting down
2024-10-31 07:12:26 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:12:26 - __main__ - INFO - Starting application initialization
2024-10-31 07:12:26 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:12:26 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:12:26 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:26 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:12:26 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:12:26 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:12:26 - db_utils - INFO -   Row count in login_history: 469
2024-10-31 07:12:26 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:26 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:12:26 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:26 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:12:26 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:12:26 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:26 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:12:26 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:12:26 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:26 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:12:26 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:26 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:12:26 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:12:26 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:12:26 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:26 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:12:26 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:12:26 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:12:26 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:26 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:12:26 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:26 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:12:26 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:12:26 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:12:26 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:26 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:26 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:12:26 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:12:26 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:12:26 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:26 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:12:26 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:12:26 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:12:26 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:12:26 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:12:26 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:12:26 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:12:26 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:12:26 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:12:26 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:12:26 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:12:26 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:12:26 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:12:26 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:12:26 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:12:26 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:12:26 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:12:26 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:12:26 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:12:26 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:12:26 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:12:26 - customer_utils - INFO - Consistency check completed
2024-10-31 07:12:26 - customer_utils - INFO - Database connection closed
2024-10-31 07:12:26 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:12:26 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:12:26 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:12:26 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:12:26 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:12:26 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:12:26 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:12:26 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:12:26 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:12:26 - db_utils - INFO - Database index creation completed
2024-10-31 07:12:26 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:12:26 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:12:26 - __main__ - INFO - Application setup complete
2024-10-31 07:12:26 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:12:26 - __main__ - INFO - Application shutting down
2024-10-31 07:12:30 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:12:30 - __main__ - INFO - Starting application initialization
2024-10-31 07:12:30 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:12:30 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:12:30 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:30 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:12:30 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:12:30 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:12:30 - db_utils - INFO -   Row count in login_history: 469
2024-10-31 07:12:30 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:30 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:12:30 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:30 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:12:30 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:12:30 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:30 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:12:30 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:12:30 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:30 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:12:30 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:30 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:12:30 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:12:30 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:12:30 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:30 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:12:30 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:12:30 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:12:30 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:30 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:12:30 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:30 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:12:30 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:12:30 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:12:30 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:30 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:30 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:12:30 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:12:30 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:12:30 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:30 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:12:30 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:12:30 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:12:30 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:12:30 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:12:30 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:12:30 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:12:30 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:12:30 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:12:30 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:12:30 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:12:30 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:12:30 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:12:30 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:12:30 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:12:30 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:12:30 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:12:30 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:12:30 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:12:30 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:12:30 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:12:30 - customer_utils - INFO - Consistency check completed
2024-10-31 07:12:30 - customer_utils - INFO - Database connection closed
2024-10-31 07:12:30 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:12:30 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:12:30 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:12:30 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:12:30 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:12:30 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:12:30 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:12:30 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:12:30 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:12:30 - db_utils - INFO - Database index creation completed
2024-10-31 07:12:30 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:12:30 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:12:30 - __main__ - INFO - Application setup complete
2024-10-31 07:12:30 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:12:31 - __main__ - INFO - Application shutting down
2024-10-31 07:12:40 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:12:40 - __main__ - INFO - Starting application initialization
2024-10-31 07:12:40 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:12:40 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:12:40 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:40 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:12:40 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:12:40 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:12:40 - db_utils - INFO -   Row count in login_history: 469
2024-10-31 07:12:40 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:40 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:12:40 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:40 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:12:40 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:12:40 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:40 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:12:40 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:12:40 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:40 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:12:40 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:40 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:12:40 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:12:40 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:12:40 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:40 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:12:40 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:12:40 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:12:40 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:40 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:12:40 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:40 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:12:40 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:12:40 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:12:40 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:40 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:40 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:12:40 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:12:40 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:12:40 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:40 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:12:40 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:12:40 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:12:40 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:12:40 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:12:40 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:12:40 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:12:40 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:12:40 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:12:40 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:12:40 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:12:40 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:12:40 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:12:40 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:12:40 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:12:40 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:12:40 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:12:40 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:12:40 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:12:40 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:12:40 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:12:40 - customer_utils - INFO - Consistency check completed
2024-10-31 07:12:40 - customer_utils - INFO - Database connection closed
2024-10-31 07:12:40 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:12:40 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:12:40 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:12:40 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:12:40 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:12:40 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:12:40 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:12:40 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:12:40 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:12:40 - db_utils - INFO - Database index creation completed
2024-10-31 07:12:40 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:12:40 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:12:40 - __main__ - INFO - Application setup complete
2024-10-31 07:12:40 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:12:40 - __main__ - INFO - Application shutting down
2024-10-31 07:12:48 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:12:48 - __main__ - INFO - Starting application initialization
2024-10-31 07:12:48 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:12:48 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:12:48 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:48 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:12:48 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:12:48 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:12:48 - db_utils - INFO -   Row count in login_history: 469
2024-10-31 07:12:48 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:48 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:12:48 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:48 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:12:48 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:12:48 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:48 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:12:48 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:12:48 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:48 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:12:48 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:48 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:12:48 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:12:48 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:12:48 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:48 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:12:48 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:12:48 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:12:48 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:48 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:12:48 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:48 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:12:48 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:12:48 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:12:48 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:48 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:48 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:12:48 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:12:48 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:12:48 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:48 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:12:48 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:12:48 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:12:48 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:12:48 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:12:48 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:12:48 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:12:48 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:12:48 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:12:48 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:12:48 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:12:48 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:12:48 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:12:48 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:12:48 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:12:48 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:12:48 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:12:48 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:12:48 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:12:48 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:12:48 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:12:48 - customer_utils - INFO - Consistency check completed
2024-10-31 07:12:48 - customer_utils - INFO - Database connection closed
2024-10-31 07:12:48 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:12:48 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:12:48 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:12:48 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:12:48 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:12:48 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:12:48 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:12:48 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:12:48 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:12:48 - db_utils - INFO - Database index creation completed
2024-10-31 07:12:48 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:12:48 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:12:48 - __main__ - INFO - Application setup complete
2024-10-31 07:12:48 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:12:49 - __main__ - INFO - Application shutting down
2024-10-31 07:12:54 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:12:54 - __main__ - INFO - Starting application initialization
2024-10-31 07:12:54 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:12:54 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:12:54 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:54 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:12:54 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:12:54 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:12:54 - db_utils - INFO -   Row count in login_history: 469
2024-10-31 07:12:54 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:54 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:12:54 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:54 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:12:54 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:12:54 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:54 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:12:54 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:12:54 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:54 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:12:54 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:54 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:12:54 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:12:54 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:12:54 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:54 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:12:54 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:12:54 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:12:54 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:54 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:12:54 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:54 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:12:54 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:12:54 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:12:54 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:54 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:54 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:12:54 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:12:54 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:12:54 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:54 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:12:54 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:12:54 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:12:54 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:12:54 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:12:54 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:12:54 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:12:54 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:12:54 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:12:54 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:12:54 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:12:54 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:12:54 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:12:54 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:12:54 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:12:54 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:12:54 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:12:54 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:12:54 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:12:54 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:12:54 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:12:54 - customer_utils - INFO - Consistency check completed
2024-10-31 07:12:54 - customer_utils - INFO - Database connection closed
2024-10-31 07:12:54 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:12:54 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:12:54 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:12:54 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:12:54 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:12:54 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:12:54 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:12:54 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:12:54 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:12:54 - db_utils - INFO - Database index creation completed
2024-10-31 07:12:54 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:12:54 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:12:54 - __main__ - INFO - Application setup complete
2024-10-31 07:12:54 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:12:55 - weather_display_utils - ERROR - Uventet feil i display_weather_data: 'snow_drift_alarm'
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/indexes/base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas/_libs/hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas/_libs/hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'snow_drift_alarm'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_display_utils.py", line 52, in display_weather_data
    display_additional_data(df, df.columns)
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_display_utils.py", line 353, in display_additional_data
    display_alarms(df, available_columns)
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_display_utils.py", line 414, in display_alarms
    snow_drift_alarms = df[df["snow_drift_alarm"] == 1]
                           ~~^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/indexes/base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'snow_drift_alarm'
2024-10-31 07:12:55 - __main__ - INFO - Application shutting down
2024-10-31 07:12:55 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:12:55 - __main__ - INFO - Starting application initialization
2024-10-31 07:12:55 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:12:55 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:12:55 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:55 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:12:55 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:12:55 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:12:55 - db_utils - INFO -   Row count in login_history: 469
2024-10-31 07:12:55 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:55 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:12:55 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:55 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:12:55 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:12:55 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:55 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:12:55 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:12:55 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:55 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:12:55 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:55 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:12:55 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:12:55 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:12:55 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:55 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:12:55 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:12:55 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:12:55 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:55 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:12:55 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:55 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:12:55 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:12:55 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:12:55 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:55 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:55 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:12:55 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:12:55 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:12:55 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:55 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:12:55 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:12:55 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:12:55 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:12:55 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:12:55 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:12:55 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:12:55 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:12:55 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:12:55 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:12:55 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:12:55 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:12:55 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:12:55 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:12:55 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:12:55 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:12:55 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:12:55 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:12:55 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:12:55 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:12:55 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:12:55 - customer_utils - INFO - Consistency check completed
2024-10-31 07:12:55 - customer_utils - INFO - Database connection closed
2024-10-31 07:12:55 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:12:55 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:12:55 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:12:55 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:12:55 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:12:55 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:12:55 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:12:55 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:12:55 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:12:55 - db_utils - INFO - Database index creation completed
2024-10-31 07:12:55 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:12:55 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:12:55 - __main__ - INFO - Application setup complete
2024-10-31 07:12:55 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:12:55 - weather_display_utils - ERROR - Uventet feil i display_weather_data: 'snow_drift_alarm'
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/indexes/base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas/_libs/hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas/_libs/hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'snow_drift_alarm'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_display_utils.py", line 52, in display_weather_data
    display_additional_data(df, df.columns)
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_display_utils.py", line 353, in display_additional_data
    display_alarms(df, available_columns)
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_display_utils.py", line 414, in display_alarms
    snow_drift_alarms = df[df["snow_drift_alarm"] == 1]
                           ~~^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/indexes/base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'snow_drift_alarm'
2024-10-31 07:12:55 - __main__ - INFO - Application shutting down
2024-10-31 07:12:57 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:12:57 - __main__ - INFO - Starting application initialization
2024-10-31 07:12:57 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:12:57 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:12:57 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:57 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:12:57 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:12:57 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:12:57 - db_utils - INFO -   Row count in login_history: 469
2024-10-31 07:12:57 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:57 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:12:57 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:57 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:12:57 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:12:57 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:57 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:12:57 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:12:57 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:57 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:12:57 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:57 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:12:57 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:12:57 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:12:57 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:57 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:12:57 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:12:57 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:12:57 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:57 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:12:57 - db_utils - INFO -   Database version: 0
2024-10-31 07:12:57 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:12:57 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:12:57 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:12:57 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:12:57 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:12:57 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:12:57 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:12:57 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:12:57 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:12:57 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:12:57 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:12:57 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:12:57 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:12:57 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:12:57 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:12:57 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:12:57 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:12:57 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:12:57 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:12:57 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:12:57 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:12:57 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:12:57 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:12:57 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:12:57 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:12:57 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:12:57 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:12:57 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:12:57 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:12:57 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:12:57 - customer_utils - INFO - Consistency check completed
2024-10-31 07:12:57 - customer_utils - INFO - Database connection closed
2024-10-31 07:12:57 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:12:57 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:12:57 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:12:57 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:12:57 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:12:57 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:12:57 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:12:57 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:12:57 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:12:57 - db_utils - INFO - Database index creation completed
2024-10-31 07:12:57 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:12:57 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:12:57 - __main__ - INFO - Application setup complete
2024-10-31 07:12:57 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:12:58 - weather_display_utils - ERROR - Uventet feil i display_weather_data: 'snow_drift_alarm'
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/indexes/base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas/_libs/hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas/_libs/hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'snow_drift_alarm'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_display_utils.py", line 52, in display_weather_data
    display_additional_data(df, df.columns)
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_display_utils.py", line 353, in display_additional_data
    display_alarms(df, available_columns)
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_display_utils.py", line 414, in display_alarms
    snow_drift_alarms = df[df["snow_drift_alarm"] == 1]
                           ~~^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/indexes/base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'snow_drift_alarm'
2024-10-31 07:12:58 - __main__ - INFO - Application shutting down
2024-10-31 07:13:27 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:13:27 - __main__ - INFO - Starting application initialization
2024-10-31 07:13:27 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:13:27 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:13:27 - db_utils - INFO -   Database version: 0
2024-10-31 07:13:27 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:13:27 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:13:27 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:13:27 - db_utils - INFO -   Row count in login_history: 469
2024-10-31 07:13:27 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:13:27 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:13:27 - db_utils - INFO -   Database version: 0
2024-10-31 07:13:27 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:13:27 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:13:27 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:13:27 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:13:27 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:13:27 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:13:27 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:13:27 - db_utils - INFO -   Database version: 0
2024-10-31 07:13:27 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:13:27 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:13:27 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:13:27 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:13:27 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:13:27 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:13:27 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:13:27 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:13:27 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:13:27 - db_utils - INFO -   Database version: 0
2024-10-31 07:13:27 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:13:27 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:13:27 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:13:27 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:13:27 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:27 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:13:27 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:13:27 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:13:27 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:13:27 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:13:27 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:13:27 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:13:27 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:13:27 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:13:27 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:13:27 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:13:27 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:13:27 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:13:27 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:13:27 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:13:27 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:13:27 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:13:27 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:13:27 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:13:27 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:13:27 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:13:27 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:13:27 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:13:27 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:13:27 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:13:27 - customer_utils - INFO - Consistency check completed
2024-10-31 07:13:27 - customer_utils - INFO - Database connection closed
2024-10-31 07:13:27 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:13:27 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:13:27 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:13:27 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:13:27 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:13:27 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:13:27 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:13:27 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:13:27 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:13:27 - db_utils - INFO - Database index creation completed
2024-10-31 07:13:27 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:13:27 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:13:27 - __main__ - INFO - Application setup complete
2024-10-31 07:13:27 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:13:27 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:13:27 - __main__ - INFO - Application shutting down
2024-10-31 07:13:28 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:13:28 - __main__ - INFO - Starting application initialization
2024-10-31 07:13:28 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:13:28 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:13:28 - db_utils - INFO -   Database version: 0
2024-10-31 07:13:28 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:13:28 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:13:28 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:13:28 - db_utils - INFO -   Row count in login_history: 469
2024-10-31 07:13:28 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:13:28 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:13:28 - db_utils - INFO -   Database version: 0
2024-10-31 07:13:28 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:13:28 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:13:28 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:13:28 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:13:28 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:13:28 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:13:28 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:13:28 - db_utils - INFO -   Database version: 0
2024-10-31 07:13:28 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:13:28 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:13:28 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:13:28 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:13:28 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:13:28 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:13:28 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:13:28 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:13:28 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:13:28 - db_utils - INFO -   Database version: 0
2024-10-31 07:13:28 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:13:28 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:13:28 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:13:28 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:13:28 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:28 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:13:28 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:13:28 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:13:28 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:13:28 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:13:28 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:13:28 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:13:28 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:13:28 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:13:28 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:13:28 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:13:28 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:13:28 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:13:28 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:13:28 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:13:28 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:13:28 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:13:28 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:13:28 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:13:28 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:13:28 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:13:28 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:13:28 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:13:28 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:13:28 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:13:28 - customer_utils - INFO - Consistency check completed
2024-10-31 07:13:28 - customer_utils - INFO - Database connection closed
2024-10-31 07:13:28 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:13:28 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:13:28 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:13:28 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:13:28 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:13:28 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:13:28 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:13:28 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:13:28 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:13:28 - db_utils - INFO - Database index creation completed
2024-10-31 07:13:28 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:13:28 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:13:28 - __main__ - INFO - Application setup complete
2024-10-31 07:13:28 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:13:28 - __main__ - INFO - Application shutting down
2024-10-31 07:13:40 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:13:40 - __main__ - INFO - Starting application initialization
2024-10-31 07:13:40 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:13:40 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:13:40 - db_utils - INFO -   Database version: 0
2024-10-31 07:13:40 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:13:40 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:13:40 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:13:40 - db_utils - INFO -   Row count in login_history: 469
2024-10-31 07:13:40 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:13:40 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:13:40 - db_utils - INFO -   Database version: 0
2024-10-31 07:13:40 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:13:40 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:13:40 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:13:40 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:13:40 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:13:40 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:13:40 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:13:40 - db_utils - INFO -   Database version: 0
2024-10-31 07:13:40 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:13:40 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:13:40 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:13:40 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:13:40 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:13:40 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:13:40 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:13:40 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:13:40 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:13:40 - db_utils - INFO -   Database version: 0
2024-10-31 07:13:40 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:13:40 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:13:40 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:13:40 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:13:40 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:13:40 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:13:40 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:13:40 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:13:40 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:13:40 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:13:40 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:13:40 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:13:40 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:13:40 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:13:40 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:13:40 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:13:40 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:13:40 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:13:40 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:13:40 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:13:40 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:13:40 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:13:40 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:13:40 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:13:40 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:13:40 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:13:40 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:13:40 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:13:40 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:13:40 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:13:40 - customer_utils - INFO - Consistency check completed
2024-10-31 07:13:40 - customer_utils - INFO - Database connection closed
2024-10-31 07:13:40 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:13:40 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:13:40 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:13:40 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:13:40 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:13:40 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:13:40 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:13:40 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:13:40 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:13:40 - db_utils - INFO - Database index creation completed
2024-10-31 07:13:40 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:13:40 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:13:40 - __main__ - INFO - Application setup complete
2024-10-31 07:13:40 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:13:51 - weather_display_utils - ERROR - Uventet feil i display_weather_data: "['snow_depth_change'] not in index"
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_display_utils.py", line 52, in display_weather_data
    display_additional_data(df, df.columns)
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_display_utils.py", line 353, in display_additional_data
    display_alarms(df, available_columns)
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_display_utils.py", line 417, in display_alarms
    snow_drift_alarms[
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/frame.py", line 4108, in __getitem__
    indexer = self.columns._get_indexer_strict(key, "columns")[1]
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/indexes/base.py", line 6200, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/indexes/base.py", line 6252, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['snow_depth_change'] not in index"
2024-10-31 07:13:51 - __main__ - INFO - Application shutting down
2024-10-31 07:18:02 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:18:02 - __main__ - INFO - Starting application initialization
2024-10-31 07:18:02 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:18:02 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:18:02 - db_utils - INFO -   Database version: 0
2024-10-31 07:18:02 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:18:02 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:18:02 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:18:02 - db_utils - INFO -   Row count in login_history: 469
2024-10-31 07:18:02 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:18:02 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:18:02 - db_utils - INFO -   Database version: 0
2024-10-31 07:18:02 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:18:02 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:18:02 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:18:02 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:18:02 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:18:02 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:18:02 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:18:02 - db_utils - INFO -   Database version: 0
2024-10-31 07:18:02 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:18:02 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:18:02 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:18:02 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:18:02 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:18:02 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:18:02 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:18:02 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:18:02 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:18:02 - db_utils - INFO -   Database version: 0
2024-10-31 07:18:02 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:18:02 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:18:02 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:18:02 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:18:02 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:02 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:18:02 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:18:02 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:18:02 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:18:02 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:18:02 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:18:02 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:18:02 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:18:02 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:18:02 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:18:02 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:18:02 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:18:02 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:18:02 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:18:02 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:18:02 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:18:02 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:18:02 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:18:02 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:18:02 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:18:02 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:18:02 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:18:02 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:18:02 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:18:02 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:18:02 - customer_utils - INFO - Consistency check completed
2024-10-31 07:18:02 - customer_utils - INFO - Database connection closed
2024-10-31 07:18:02 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:18:02 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:18:02 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:18:02 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:18:02 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:18:02 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:18:02 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:18:02 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:18:02 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:18:02 - db_utils - INFO - Database index creation completed
2024-10-31 07:18:02 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:18:02 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:18:02 - __main__ - INFO - Application setup complete
2024-10-31 07:18:02 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:18:02 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:18:02 - __main__ - INFO - Application shutting down
2024-10-31 07:18:03 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:18:03 - __main__ - INFO - Starting application initialization
2024-10-31 07:18:03 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:18:03 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:18:03 - db_utils - INFO -   Database version: 0
2024-10-31 07:18:03 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:18:03 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:18:03 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:18:03 - db_utils - INFO -   Row count in login_history: 469
2024-10-31 07:18:03 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:18:03 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:18:03 - db_utils - INFO -   Database version: 0
2024-10-31 07:18:03 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:18:03 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:18:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:18:03 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:18:03 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:18:03 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:18:03 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:18:03 - db_utils - INFO -   Database version: 0
2024-10-31 07:18:03 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:18:03 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:18:03 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:18:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:18:03 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:18:03 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:18:03 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:18:03 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:18:03 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:18:03 - db_utils - INFO -   Database version: 0
2024-10-31 07:18:03 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:18:03 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:18:03 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:18:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:18:03 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:18:03 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:18:03 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:18:03 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:18:03 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:18:03 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:18:03 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:18:03 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:18:03 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:18:03 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:18:03 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:18:03 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:18:03 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:18:03 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:18:03 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:18:03 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:18:03 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:18:03 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:18:03 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:18:03 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:18:03 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:18:03 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:18:03 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:18:03 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:18:03 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:18:03 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:18:03 - customer_utils - INFO - Consistency check completed
2024-10-31 07:18:03 - customer_utils - INFO - Database connection closed
2024-10-31 07:18:03 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:18:03 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:18:03 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:18:03 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:18:03 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:18:03 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:18:03 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:18:03 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:18:03 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:18:03 - db_utils - INFO - Database index creation completed
2024-10-31 07:18:03 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:18:03 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:18:03 - __main__ - INFO - Application setup complete
2024-10-31 07:18:03 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:18:03 - __main__ - INFO - Application shutting down
2024-10-31 07:20:55 - db_utils - INFO - Starting to close all database connections
2024-10-31 07:20:55 - db_utils - INFO - Finished closing all database connections and cleaning up files
2024-10-31 07:59:19 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:59:19 - __main__ - INFO - Starting application initialization
2024-10-31 07:59:19 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:59:19 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:59:19 - db_utils - INFO -   Database version: 0
2024-10-31 07:59:19 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:59:19 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:59:19 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:59:19 - db_utils - INFO -   Row count in login_history: 469
2024-10-31 07:59:19 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:59:19 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:59:19 - db_utils - INFO -   Database version: 0
2024-10-31 07:59:19 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:59:19 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:59:19 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:59:19 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:59:19 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:59:19 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:59:19 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:59:19 - db_utils - INFO -   Database version: 0
2024-10-31 07:59:19 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:59:19 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:59:19 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:59:19 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:59:19 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:59:19 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:59:19 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:59:19 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:59:19 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:59:19 - db_utils - INFO -   Database version: 0
2024-10-31 07:59:19 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:59:19 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:59:19 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:59:19 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:59:19 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:19 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:59:19 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:59:19 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:59:19 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:59:19 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:59:19 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:59:19 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:59:19 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:59:19 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:59:19 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:59:19 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:59:19 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:59:19 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:59:19 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:59:19 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:59:19 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:59:19 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:59:19 - db_utils - INFO - Database login_history initialized, updated, and optimized
2024-10-31 07:59:19 - db_utils - INFO - Database tunbroyting initialized, updated, and optimized
2024-10-31 07:59:19 - db_utils - INFO - Database stroing initialized, updated, and optimized
2024-10-31 07:59:19 - db_utils - INFO - Database feedback initialized, updated, and optimized
2024-10-31 07:59:19 - db_utils - INFO - Database customer initialized, updated, and optimized
2024-10-31 07:59:19 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:59:19 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:59:19 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:59:19 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:59:19 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:59:19 - db_utils - INFO - Database index creation completed
2024-10-31 07:59:19 - db_utils - INFO - Database indexes created
2024-10-31 07:59:19 - db_utils - INFO - Successfully verified connection to stroing.db
2024-10-31 07:59:19 - db_utils - INFO - Successfully verified connection to tunbroyting.db
2024-10-31 07:59:19 - db_utils - INFO - Successfully verified connection to feedback.db
2024-10-31 07:59:19 - db_utils - INFO - Successfully verified connection to login_history.db
2024-10-31 07:59:19 - db_utils - INFO - Successfully verified connection to customer.db
2024-10-31 07:59:19 - db_utils - INFO - Database connections verified
2024-10-31 07:59:19 - db_utils - INFO - All databases initialized, updated, and verified
2024-10-31 07:59:19 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:59:19 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:59:19 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:59:19 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:59:19 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:59:19 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:59:19 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:59:19 - customer_utils - INFO - Consistency check completed
2024-10-31 07:59:19 - customer_utils - INFO - Database connection closed
2024-10-31 07:59:19 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:59:19 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:59:19 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:59:19 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:59:19 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:59:19 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:59:19 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:59:19 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:59:19 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:59:19 - db_utils - INFO - Database index creation completed
2024-10-31 07:59:19 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:59:19 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:59:19 - __main__ - INFO - Application setup complete
2024-10-31 07:59:19 - __main__ - INFO - Application shutting down
2024-10-31 07:59:21 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:59:21 - __main__ - INFO - Starting application initialization
2024-10-31 07:59:21 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:59:21 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:59:21 - db_utils - INFO -   Database version: 0
2024-10-31 07:59:21 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:59:21 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:59:21 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:59:21 - db_utils - INFO -   Row count in login_history: 469
2024-10-31 07:59:21 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:59:21 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:59:21 - db_utils - INFO -   Database version: 0
2024-10-31 07:59:21 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:59:21 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:59:21 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:59:21 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:59:21 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:59:21 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:59:21 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:59:21 - db_utils - INFO -   Database version: 0
2024-10-31 07:59:21 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:59:21 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:59:21 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:59:21 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:59:21 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:59:21 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:59:21 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:59:21 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:59:21 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:59:21 - db_utils - INFO -   Database version: 0
2024-10-31 07:59:21 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:59:21 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:59:21 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:59:21 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:59:21 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:59:21 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:59:21 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:59:21 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:59:21 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:59:21 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:59:21 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:59:21 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:59:21 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:59:21 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:59:21 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:59:21 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:59:21 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:59:21 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:59:21 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:59:21 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:59:21 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:59:21 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:59:21 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:59:21 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:59:21 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:59:21 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:59:21 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:59:21 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:59:21 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:59:21 - customer_utils - INFO - Consistency check completed
2024-10-31 07:59:21 - customer_utils - INFO - Database connection closed
2024-10-31 07:59:21 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:59:21 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:59:21 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:59:21 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:59:21 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:59:21 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:59:21 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:59:21 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:59:21 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:59:21 - db_utils - INFO - Database index creation completed
2024-10-31 07:59:21 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:59:21 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:59:21 - __main__ - INFO - Application setup complete
2024-10-31 07:59:21 - auth_utils - INFO - Login attempt for ID: 999
2024-10-31 07:59:21 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 07:59:21 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 07:59:21 - db_utils - INFO - Attempting to create database engine...
2024-10-31 07:59:21 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 07:59:21 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-31 07:59:21 - auth_utils - INFO - User 999 authenticated successfully
2024-10-31 07:59:21 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:59:21 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-31 07:59:21 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-31 07:59:21 - auth_utils - INFO - Successful login for ID: 999
2024-10-31 07:59:21 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-31 07:59:21 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 07:59:21 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 07:59:21 - db_utils - INFO - Attempting to create database engine...
2024-10-31 07:59:21 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 07:59:21 - auth_utils - INFO - Rate limit reset for user 999
2024-10-31 07:59:21 - __main__ - INFO - Application shutting down
2024-10-31 07:59:21 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:59:21 - __main__ - INFO - Starting application initialization
2024-10-31 07:59:21 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:59:21 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:59:21 - db_utils - INFO -   Database version: 0
2024-10-31 07:59:21 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:59:21 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:59:21 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:59:21 - db_utils - INFO -   Row count in login_history: 470
2024-10-31 07:59:21 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:59:21 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:59:21 - db_utils - INFO -   Database version: 0
2024-10-31 07:59:21 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:59:21 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:59:21 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:59:21 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:59:21 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:59:21 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:59:21 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:59:21 - db_utils - INFO -   Database version: 0
2024-10-31 07:59:21 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:59:21 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:59:21 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:59:21 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:59:21 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:59:21 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:59:21 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:59:21 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:59:21 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:59:21 - db_utils - INFO -   Database version: 0
2024-10-31 07:59:21 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:59:21 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:59:21 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:59:21 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:59:21 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:21 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:59:21 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:59:21 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:59:21 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:59:21 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:59:21 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:59:21 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:59:21 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:59:21 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:59:21 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:59:21 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:59:21 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:59:21 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:59:21 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:59:21 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:59:21 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:59:21 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:59:21 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:59:21 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:59:21 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:59:21 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:59:21 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:59:21 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:59:21 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:59:21 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:59:21 - customer_utils - INFO - Consistency check completed
2024-10-31 07:59:21 - customer_utils - INFO - Database connection closed
2024-10-31 07:59:21 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:59:21 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:59:21 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:59:21 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:59:21 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:59:21 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:59:21 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:59:21 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:59:21 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:59:21 - db_utils - INFO - Database index creation completed
2024-10-31 07:59:21 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:59:21 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:59:21 - __main__ - INFO - Application setup complete
2024-10-31 07:59:21 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:59:21 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-31 07:59:21 - tun_utils - WARNING - hent_bestillinger() is deprecated, use get_bookings() instead
2024-10-31 07:59:21 - tun_utils - INFO - Starting get_bookings with start_date=None, end_date=None
2024-10-31 07:59:21 - tun_utils - INFO - Successfully retrieved 2 bookings
2024-10-31 07:59:21 - __main__ - INFO - Application shutting down
2024-10-31 07:59:22 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 07:59:22 - __main__ - INFO - Starting application initialization
2024-10-31 07:59:22 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 07:59:22 - db_utils - INFO - Debugging login_history database:
2024-10-31 07:59:22 - db_utils - INFO -   Database version: 0
2024-10-31 07:59:22 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 07:59:22 - db_utils - INFO -   Structure of login_history table:
2024-10-31 07:59:22 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 07:59:22 - db_utils - INFO -   Row count in login_history: 470
2024-10-31 07:59:22 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:59:22 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 07:59:22 - db_utils - INFO -   Database version: 0
2024-10-31 07:59:22 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 07:59:22 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 07:59:22 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:59:22 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 07:59:22 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 07:59:22 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:59:22 - db_utils - INFO - Debugging stroing database:
2024-10-31 07:59:22 - db_utils - INFO -   Database version: 0
2024-10-31 07:59:22 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 07:59:22 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:59:22 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 07:59:22 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:59:22 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 07:59:22 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:59:22 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 07:59:22 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:59:22 - db_utils - INFO - Debugging feedback database:
2024-10-31 07:59:22 - db_utils - INFO -   Database version: 0
2024-10-31 07:59:22 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 07:59:22 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 07:59:22 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -   Structure of feedback table:
2024-10-31 07:59:22 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 07:59:22 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 07:59:22 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 07:59:22 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 07:59:22 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 07:59:22 - db_utils - INFO -   Test query result: (1,)
2024-10-31 07:59:22 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 07:59:22 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:59:22 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:59:22 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:59:22 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:59:22 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:59:22 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:59:22 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 07:59:22 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 07:59:22 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 07:59:22 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 07:59:22 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 07:59:22 - db_utils - INFO - All database schemas verified and updated
2024-10-31 07:59:22 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 07:59:22 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 07:59:22 - db_utils - INFO - login_history table structure is correct
2024-10-31 07:59:22 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 07:59:22 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:59:22 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:59:22 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 07:59:22 - customer_utils - INFO - Found 94 customers in database
2024-10-31 07:59:22 - customer_utils - INFO - Consistency check completed
2024-10-31 07:59:22 - customer_utils - INFO - Database connection closed
2024-10-31 07:59:22 - customer_utils - INFO - Validating customers and passwords
2024-10-31 07:59:22 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 07:59:22 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 07:59:22 - customer_utils - INFO - Customer and password validation complete
2024-10-31 07:59:22 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 07:59:22 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 07:59:22 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 07:59:22 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 07:59:22 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 07:59:22 - db_utils - INFO - Database index creation completed
2024-10-31 07:59:22 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:59:22 - __main__ - INFO - Application initialization completed successfully
2024-10-31 07:59:22 - __main__ - INFO - Application setup complete
2024-10-31 07:59:22 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 07:59:22 - weather_utils - INFO - Element statistikk:
2024-10-31 07:59:22 - weather_utils - INFO - ElementId: air_temperature
2024-10-31 07:59:22 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 07:59:22 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 07:59:22 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 07:59:22 - weather_utils - INFO -   - Eksempelverdi: 4
2024-10-31 07:59:22 - weather_utils - INFO - ElementId: surface_snow_thickness
2024-10-31 07:59:22 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 07:59:22 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 07:59:22 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 07:59:22 - weather_utils - INFO -   - Eksempelverdi: -1
2024-10-31 07:59:22 - weather_utils - INFO - ElementId: sum(precipitation_amount PT1H)
2024-10-31 07:59:22 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 07:59:22 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 07:59:22 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 07:59:22 - weather_utils - INFO -   - Eksempelverdi: 0
2024-10-31 07:59:22 - weather_utils - INFO - ElementId: max_wind_speed(wind_from_direction PT1H)
2024-10-31 07:59:22 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 07:59:22 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 07:59:22 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 07:59:22 - weather_utils - INFO -   - Eksempelverdi: 322
2024-10-31 07:59:22 - weather_utils - INFO - ElementId: max(wind_speed_of_gust PT1H)
2024-10-31 07:59:22 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 07:59:22 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 07:59:22 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 07:59:22 - weather_utils - INFO -   - Eksempelverdi: 8.7
2024-10-31 07:59:22 - weather_utils - INFO - ElementId: wind_speed
2024-10-31 07:59:22 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 07:59:22 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 07:59:22 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 07:59:22 - weather_utils - INFO -   - Eksempelverdi: 5.3
2024-10-31 07:59:22 - weather_utils - INFO - ElementId: surface_temperature
2024-10-31 07:59:22 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 07:59:22 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 07:59:22 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 07:59:22 - weather_utils - INFO -   - Eksempelverdi: 3.7
2024-10-31 07:59:22 - weather_utils - INFO - ElementId: relative_humidity
2024-10-31 07:59:22 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 07:59:22 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 07:59:22 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 07:59:22 - weather_utils - INFO -   - Eksempelverdi: 90
2024-10-31 07:59:22 - weather_utils - INFO - ElementId: dew_point_temperature
2024-10-31 07:59:22 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 07:59:22 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 07:59:22 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 07:59:22 - weather_utils - INFO -   - Eksempelverdi: 2.5
2024-10-31 07:59:22 - weather_utils - INFO - ElementId: sum(duration_of_precipitation PT1H)
2024-10-31 07:59:22 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 07:59:22 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 07:59:22 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 07:59:22 - weather_utils - INFO -   - Eksempelverdi: 11
2024-10-31 07:59:23 - weather_utils - ERROR - Feil ved datahenting eller -behandling: name 'processed_data' is not defined
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 217, in fetch_and_process_data
    processed_df = pd.DataFrame(processed_data, index=df.index)
                                ^^^^^^^^^^^^^^
NameError: name 'processed_data' is not defined
2024-10-31 07:59:23 - __main__ - INFO - Application shutting down
2024-10-31 08:21:40 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 08:21:41 - __main__ - INFO - Starting application initialization
2024-10-31 08:21:41 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 08:21:41 - db_utils - INFO - Debugging login_history database:
2024-10-31 08:21:41 - db_utils - INFO -   Database version: 0
2024-10-31 08:21:41 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 08:21:41 - db_utils - INFO -   Structure of login_history table:
2024-10-31 08:21:41 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 08:21:41 - db_utils - INFO -   Row count in login_history: 470
2024-10-31 08:21:41 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:21:41 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 08:21:41 - db_utils - INFO -   Database version: 0
2024-10-31 08:21:41 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 08:21:41 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 08:21:41 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:21:41 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 08:21:41 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 08:21:41 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:21:41 - db_utils - INFO - Debugging stroing database:
2024-10-31 08:21:41 - db_utils - INFO -   Database version: 0
2024-10-31 08:21:41 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 08:21:41 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:21:41 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 08:21:41 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:21:41 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 08:21:41 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:21:41 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 08:21:41 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:21:41 - db_utils - INFO - Debugging feedback database:
2024-10-31 08:21:41 - db_utils - INFO -   Database version: 0
2024-10-31 08:21:41 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 08:21:41 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:21:41 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -   Structure of feedback table:
2024-10-31 08:21:41 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:21:41 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:21:41 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 08:21:41 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:21:41 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 08:21:41 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:21:41 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 08:21:41 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:21:41 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:21:41 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:21:41 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:21:41 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:21:41 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:21:41 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:21:41 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:21:41 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:21:41 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:21:41 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:21:41 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:21:41 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 08:21:41 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 08:21:41 - db_utils - INFO - login_history table structure is correct
2024-10-31 08:21:41 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 08:21:41 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:21:41 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:21:41 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 08:21:41 - customer_utils - INFO - Found 94 customers in database
2024-10-31 08:21:41 - customer_utils - INFO - Consistency check completed
2024-10-31 08:21:41 - customer_utils - INFO - Database connection closed
2024-10-31 08:21:41 - customer_utils - INFO - Validating customers and passwords
2024-10-31 08:21:41 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:21:41 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:21:41 - customer_utils - INFO - Customer and password validation complete
2024-10-31 08:21:41 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 08:21:41 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 08:21:41 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 08:21:41 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 08:21:41 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 08:21:41 - db_utils - INFO - Database index creation completed
2024-10-31 08:21:41 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:21:41 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:21:41 - __main__ - INFO - Application setup complete
2024-10-31 08:21:42 - __main__ - INFO - Application shutting down
2024-10-31 08:22:09 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 08:22:09 - __main__ - INFO - Starting application initialization
2024-10-31 08:22:09 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 08:22:09 - db_utils - INFO - Debugging login_history database:
2024-10-31 08:22:09 - db_utils - INFO -   Database version: 0
2024-10-31 08:22:09 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 08:22:09 - db_utils - INFO -   Structure of login_history table:
2024-10-31 08:22:09 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 08:22:09 - db_utils - INFO -   Row count in login_history: 470
2024-10-31 08:22:09 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:22:09 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 08:22:09 - db_utils - INFO -   Database version: 0
2024-10-31 08:22:09 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 08:22:09 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 08:22:09 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:22:09 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 08:22:09 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 08:22:09 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:22:09 - db_utils - INFO - Debugging stroing database:
2024-10-31 08:22:09 - db_utils - INFO -   Database version: 0
2024-10-31 08:22:09 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 08:22:09 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:22:09 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 08:22:09 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:22:09 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 08:22:09 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:22:09 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 08:22:09 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:22:09 - db_utils - INFO - Debugging feedback database:
2024-10-31 08:22:09 - db_utils - INFO -   Database version: 0
2024-10-31 08:22:09 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 08:22:09 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:22:09 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -   Structure of feedback table:
2024-10-31 08:22:09 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:22:09 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 08:22:09 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:22:09 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 08:22:09 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:22:09 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 08:22:09 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:22:09 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:22:09 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:22:09 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:22:09 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:22:09 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:22:09 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:22:09 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:22:09 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:22:09 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:22:09 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:22:09 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:22:09 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 08:22:09 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 08:22:09 - db_utils - INFO - login_history table structure is correct
2024-10-31 08:22:09 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 08:22:09 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:22:09 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:22:09 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 08:22:09 - customer_utils - INFO - Found 94 customers in database
2024-10-31 08:22:09 - customer_utils - INFO - Consistency check completed
2024-10-31 08:22:09 - customer_utils - INFO - Database connection closed
2024-10-31 08:22:09 - customer_utils - INFO - Validating customers and passwords
2024-10-31 08:22:09 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:22:09 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:22:09 - customer_utils - INFO - Customer and password validation complete
2024-10-31 08:22:09 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 08:22:09 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 08:22:09 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 08:22:09 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 08:22:09 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 08:22:09 - db_utils - INFO - Database index creation completed
2024-10-31 08:22:09 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:22:09 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:22:09 - __main__ - INFO - Application setup complete
2024-10-31 08:22:09 - auth_utils - INFO - Login attempt for ID: 999
2024-10-31 08:22:09 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 08:22:09 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 08:22:09 - db_utils - INFO - Attempting to create database engine...
2024-10-31 08:22:09 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 08:22:09 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-31 08:22:09 - auth_utils - INFO - User 999 authenticated successfully
2024-10-31 08:22:09 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 08:22:09 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-31 08:22:09 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-31 08:22:09 - auth_utils - INFO - Successful login for ID: 999
2024-10-31 08:22:09 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-31 08:22:09 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 08:22:09 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 08:22:09 - db_utils - INFO - Attempting to create database engine...
2024-10-31 08:22:09 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 08:22:09 - auth_utils - INFO - Rate limit reset for user 999
2024-10-31 08:22:09 - __main__ - INFO - Application shutting down
2024-10-31 08:22:09 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 08:22:09 - __main__ - INFO - Starting application initialization
2024-10-31 08:22:09 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 08:22:09 - db_utils - INFO - Debugging login_history database:
2024-10-31 08:22:09 - db_utils - INFO -   Database version: 0
2024-10-31 08:22:09 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 08:22:09 - db_utils - INFO -   Structure of login_history table:
2024-10-31 08:22:09 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 08:22:09 - db_utils - INFO -   Row count in login_history: 471
2024-10-31 08:22:09 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:22:09 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 08:22:09 - db_utils - INFO -   Database version: 0
2024-10-31 08:22:09 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 08:22:09 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 08:22:09 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:22:09 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 08:22:09 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 08:22:09 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:22:09 - db_utils - INFO - Debugging stroing database:
2024-10-31 08:22:09 - db_utils - INFO -   Database version: 0
2024-10-31 08:22:09 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 08:22:09 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:22:09 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 08:22:09 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:22:09 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 08:22:09 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:22:09 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 08:22:09 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:22:09 - db_utils - INFO - Debugging feedback database:
2024-10-31 08:22:09 - db_utils - INFO -   Database version: 0
2024-10-31 08:22:09 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 08:22:09 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:22:09 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -   Structure of feedback table:
2024-10-31 08:22:09 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:22:09 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:09 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 08:22:09 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:22:09 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 08:22:09 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:22:09 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 08:22:09 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:22:09 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:22:09 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:22:09 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:22:09 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:22:09 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:22:09 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:22:09 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:22:09 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:22:09 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:22:09 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:22:09 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:22:09 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 08:22:09 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 08:22:09 - db_utils - INFO - login_history table structure is correct
2024-10-31 08:22:09 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 08:22:09 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:22:09 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:22:09 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 08:22:09 - customer_utils - INFO - Found 94 customers in database
2024-10-31 08:22:09 - customer_utils - INFO - Consistency check completed
2024-10-31 08:22:09 - customer_utils - INFO - Database connection closed
2024-10-31 08:22:09 - customer_utils - INFO - Validating customers and passwords
2024-10-31 08:22:09 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:22:09 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:22:09 - customer_utils - INFO - Customer and password validation complete
2024-10-31 08:22:09 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 08:22:09 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 08:22:09 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 08:22:09 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 08:22:09 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 08:22:09 - db_utils - INFO - Database index creation completed
2024-10-31 08:22:09 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:22:09 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:22:09 - __main__ - INFO - Application setup complete
2024-10-31 08:22:09 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 08:22:09 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-31 08:22:09 - tun_utils - WARNING - hent_bestillinger() is deprecated, use get_bookings() instead
2024-10-31 08:22:09 - tun_utils - INFO - Starting get_bookings with start_date=None, end_date=None
2024-10-31 08:22:09 - tun_utils - INFO - Successfully retrieved 2 bookings
2024-10-31 08:22:09 - __main__ - INFO - Application shutting down
2024-10-31 08:22:11 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 08:22:11 - __main__ - INFO - Starting application initialization
2024-10-31 08:22:11 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 08:22:11 - db_utils - INFO - Debugging login_history database:
2024-10-31 08:22:11 - db_utils - INFO -   Database version: 0
2024-10-31 08:22:11 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 08:22:11 - db_utils - INFO -   Structure of login_history table:
2024-10-31 08:22:11 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 08:22:11 - db_utils - INFO -   Row count in login_history: 471
2024-10-31 08:22:11 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:22:11 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 08:22:11 - db_utils - INFO -   Database version: 0
2024-10-31 08:22:11 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 08:22:11 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 08:22:11 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:22:11 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 08:22:11 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 08:22:11 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:22:11 - db_utils - INFO - Debugging stroing database:
2024-10-31 08:22:11 - db_utils - INFO -   Database version: 0
2024-10-31 08:22:11 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 08:22:11 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:22:11 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 08:22:11 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:22:11 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 08:22:11 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:22:11 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 08:22:11 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:22:11 - db_utils - INFO - Debugging feedback database:
2024-10-31 08:22:11 - db_utils - INFO -   Database version: 0
2024-10-31 08:22:11 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 08:22:11 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:22:11 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -   Structure of feedback table:
2024-10-31 08:22:11 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:22:11 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:22:11 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 08:22:11 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:22:11 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 08:22:11 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:22:11 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 08:22:11 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:22:11 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:22:11 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:22:11 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:22:11 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:22:11 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:22:11 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:22:11 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:22:11 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:22:11 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:22:11 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:22:11 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:22:11 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 08:22:11 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 08:22:11 - db_utils - INFO - login_history table structure is correct
2024-10-31 08:22:11 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 08:22:11 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:22:11 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:22:11 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 08:22:11 - customer_utils - INFO - Found 94 customers in database
2024-10-31 08:22:11 - customer_utils - INFO - Consistency check completed
2024-10-31 08:22:11 - customer_utils - INFO - Database connection closed
2024-10-31 08:22:11 - customer_utils - INFO - Validating customers and passwords
2024-10-31 08:22:11 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:22:11 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:22:11 - customer_utils - INFO - Customer and password validation complete
2024-10-31 08:22:11 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 08:22:11 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 08:22:11 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 08:22:11 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 08:22:11 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 08:22:11 - db_utils - INFO - Database index creation completed
2024-10-31 08:22:11 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:22:11 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:22:11 - __main__ - INFO - Application setup complete
2024-10-31 08:22:11 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 08:22:12 - weather_utils - INFO - Element statistikk:
2024-10-31 08:22:12 - weather_utils - INFO - ElementId: air_temperature
2024-10-31 08:22:12 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:22:12 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:22:12 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:22:12 - weather_utils - INFO -   - Eksempelverdi: 4.8
2024-10-31 08:22:12 - weather_utils - INFO - ElementId: surface_snow_thickness
2024-10-31 08:22:12 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:22:12 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:22:12 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:22:12 - weather_utils - INFO -   - Eksempelverdi: -1
2024-10-31 08:22:12 - weather_utils - INFO - ElementId: sum(precipitation_amount PT1H)
2024-10-31 08:22:12 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:22:12 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:22:12 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:22:12 - weather_utils - INFO -   - Eksempelverdi: 0.1
2024-10-31 08:22:12 - weather_utils - INFO - ElementId: max_wind_speed(wind_from_direction PT1H)
2024-10-31 08:22:12 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:22:12 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:22:12 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:22:12 - weather_utils - INFO -   - Eksempelverdi: 325
2024-10-31 08:22:12 - weather_utils - INFO - ElementId: max(wind_speed_of_gust PT1H)
2024-10-31 08:22:12 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:22:12 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:22:12 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:22:12 - weather_utils - INFO -   - Eksempelverdi: 8.4
2024-10-31 08:22:12 - weather_utils - INFO - ElementId: wind_speed
2024-10-31 08:22:12 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:22:12 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:22:12 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:22:12 - weather_utils - INFO -   - Eksempelverdi: 4.5
2024-10-31 08:22:12 - weather_utils - INFO - ElementId: surface_temperature
2024-10-31 08:22:12 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:22:12 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:22:12 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:22:12 - weather_utils - INFO -   - Eksempelverdi: 4.6
2024-10-31 08:22:12 - weather_utils - INFO - ElementId: relative_humidity
2024-10-31 08:22:12 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:22:12 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:22:12 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:22:12 - weather_utils - INFO -   - Eksempelverdi: 88
2024-10-31 08:22:12 - weather_utils - INFO - ElementId: dew_point_temperature
2024-10-31 08:22:12 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:22:12 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:22:12 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:22:12 - weather_utils - INFO -   - Eksempelverdi: 3
2024-10-31 08:22:12 - weather_utils - INFO - ElementId: sum(duration_of_precipitation PT1H)
2024-10-31 08:22:12 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:22:12 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:22:12 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:22:12 - weather_utils - INFO -   - Eksempelverdi: 13
2024-10-31 08:22:12 - weather_utils - ERROR - Feil ved datahenting eller -behandling: name 'processed_data' is not defined
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 217, in fetch_and_process_data
    processed_df = pd.DataFrame(processed_data, index=df.index)
                                ^^^^^^^^^^^^^^
NameError: name 'processed_data' is not defined
2024-10-31 08:22:12 - __main__ - INFO - Application shutting down
2024-10-31 08:25:41 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 08:25:41 - __main__ - INFO - Starting application initialization
2024-10-31 08:25:41 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 08:25:41 - db_utils - INFO - Debugging login_history database:
2024-10-31 08:25:41 - db_utils - INFO -   Database version: 0
2024-10-31 08:25:41 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 08:25:41 - db_utils - INFO -   Structure of login_history table:
2024-10-31 08:25:41 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 08:25:41 - db_utils - INFO -   Row count in login_history: 471
2024-10-31 08:25:41 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:25:41 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 08:25:41 - db_utils - INFO -   Database version: 0
2024-10-31 08:25:41 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 08:25:41 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 08:25:41 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:25:41 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 08:25:41 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 08:25:41 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:25:41 - db_utils - INFO - Debugging stroing database:
2024-10-31 08:25:41 - db_utils - INFO -   Database version: 0
2024-10-31 08:25:41 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 08:25:41 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:25:41 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 08:25:41 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:25:41 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 08:25:41 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:25:41 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 08:25:41 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:25:41 - db_utils - INFO - Debugging feedback database:
2024-10-31 08:25:41 - db_utils - INFO -   Database version: 0
2024-10-31 08:25:41 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 08:25:41 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:25:41 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -   Structure of feedback table:
2024-10-31 08:25:41 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:25:41 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 08:25:41 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:25:41 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 08:25:41 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:25:41 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 08:25:41 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:25:41 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:25:41 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:25:41 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:25:41 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:25:41 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:25:41 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:25:41 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:25:41 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:25:41 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:25:41 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:25:41 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:25:41 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 08:25:41 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 08:25:41 - db_utils - INFO - login_history table structure is correct
2024-10-31 08:25:41 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 08:25:41 - __main__ - INFO - Starting application initialization
2024-10-31 08:25:41 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 08:25:41 - db_utils - INFO - Debugging login_history database:
2024-10-31 08:25:41 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 08:25:41 - db_utils - INFO -   Database version: 0
2024-10-31 08:25:41 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:25:41 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:25:41 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 08:25:41 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 08:25:41 - db_utils - INFO -   Structure of login_history table:
2024-10-31 08:25:41 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 08:25:41 - db_utils - INFO -   Row count in login_history: 471
2024-10-31 08:25:41 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:25:41 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 08:25:41 - db_utils - INFO -   Database version: 0
2024-10-31 08:25:41 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 08:25:41 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 08:25:41 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:25:41 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 08:25:41 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 08:25:41 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:25:41 - db_utils - INFO - Debugging stroing database:
2024-10-31 08:25:41 - customer_utils - INFO - Found 94 customers in database
2024-10-31 08:25:41 - customer_utils - INFO - Consistency check completed
2024-10-31 08:25:41 - db_utils - INFO -   Database version: 0
2024-10-31 08:25:41 - customer_utils - INFO - Database connection closed
2024-10-31 08:25:41 - customer_utils - INFO - Validating customers and passwords
2024-10-31 08:25:41 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 08:25:41 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:25:41 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:25:41 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:25:41 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 08:25:41 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:25:41 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - customer_utils - INFO - Customer and password validation complete
2024-10-31 08:25:41 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 08:25:41 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:25:41 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 08:25:41 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:25:41 - db_utils - INFO - Debugging feedback database:
2024-10-31 08:25:41 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 08:25:41 - db_utils - INFO -   Database version: 0
2024-10-31 08:25:41 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 08:25:41 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:25:41 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 08:25:41 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -   Structure of feedback table:
2024-10-31 08:25:41 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:25:41 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 08:25:41 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:41 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 08:25:41 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 08:25:41 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:25:41 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 08:25:41 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:25:41 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 08:25:41 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 08:25:41 - db_utils - INFO - Database index creation completed
2024-10-31 08:25:41 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:25:41 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:25:41 - __main__ - INFO - Application shutting down
2024-10-31 08:25:41 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:25:42 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:25:42 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:25:42 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:25:42 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:25:42 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:25:42 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:25:42 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:25:42 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:25:42 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:25:42 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:25:42 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 08:25:42 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 08:25:42 - db_utils - INFO - login_history table structure is correct
2024-10-31 08:25:42 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 08:25:42 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:25:42 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:25:42 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 08:25:42 - customer_utils - INFO - Found 94 customers in database
2024-10-31 08:25:42 - customer_utils - INFO - Consistency check completed
2024-10-31 08:25:42 - customer_utils - INFO - Database connection closed
2024-10-31 08:25:42 - customer_utils - INFO - Validating customers and passwords
2024-10-31 08:25:42 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:25:42 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:25:42 - customer_utils - INFO - Customer and password validation complete
2024-10-31 08:25:42 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 08:25:42 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 08:25:42 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 08:25:42 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 08:25:42 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 08:25:42 - db_utils - INFO - Database index creation completed
2024-10-31 08:25:42 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:25:42 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:25:42 - __main__ - INFO - Application setup complete
2024-10-31 08:25:42 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 08:25:42 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 08:25:42 - __main__ - INFO - Application shutting down
2024-10-31 08:25:42 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 08:25:42 - __main__ - INFO - Starting application initialization
2024-10-31 08:25:42 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 08:25:42 - db_utils - INFO - Debugging login_history database:
2024-10-31 08:25:42 - db_utils - INFO -   Database version: 0
2024-10-31 08:25:42 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 08:25:42 - db_utils - INFO -   Structure of login_history table:
2024-10-31 08:25:42 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 08:25:42 - db_utils - INFO -   Row count in login_history: 471
2024-10-31 08:25:42 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:25:42 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 08:25:42 - db_utils - INFO -   Database version: 0
2024-10-31 08:25:42 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 08:25:42 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 08:25:42 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:25:42 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 08:25:42 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 08:25:42 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:25:42 - db_utils - INFO - Debugging stroing database:
2024-10-31 08:25:42 - db_utils - INFO -   Database version: 0
2024-10-31 08:25:42 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 08:25:42 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:25:42 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 08:25:42 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:25:42 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 08:25:42 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:25:42 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 08:25:42 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:25:42 - db_utils - INFO - Debugging feedback database:
2024-10-31 08:25:42 - db_utils - INFO -   Database version: 0
2024-10-31 08:25:42 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 08:25:42 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:25:42 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -   Structure of feedback table:
2024-10-31 08:25:42 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:25:42 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:42 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 08:25:42 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:25:42 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 08:25:42 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:25:42 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 08:25:42 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:25:42 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:25:42 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:25:42 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:25:42 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:25:42 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:25:42 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:25:42 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:25:42 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:25:42 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:25:42 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:25:42 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:25:42 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 08:25:42 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 08:25:42 - db_utils - INFO - login_history table structure is correct
2024-10-31 08:25:42 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 08:25:42 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:25:42 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:25:42 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 08:25:42 - customer_utils - INFO - Found 94 customers in database
2024-10-31 08:25:42 - customer_utils - INFO - Consistency check completed
2024-10-31 08:25:42 - customer_utils - INFO - Database connection closed
2024-10-31 08:25:42 - customer_utils - INFO - Validating customers and passwords
2024-10-31 08:25:42 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:25:42 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:25:42 - customer_utils - INFO - Customer and password validation complete
2024-10-31 08:25:42 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 08:25:42 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 08:25:42 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 08:25:42 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 08:25:42 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 08:25:42 - db_utils - INFO - Database index creation completed
2024-10-31 08:25:42 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:25:42 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:25:42 - __main__ - INFO - Application setup complete
2024-10-31 08:25:42 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 08:25:42 - weather_utils - INFO - Element statistikk:
2024-10-31 08:25:42 - weather_utils - INFO - ElementId: air_temperature
2024-10-31 08:25:42 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:25:42 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:25:42 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:25:42 - weather_utils - INFO -   - Eksempelverdi: 4.8
2024-10-31 08:25:42 - weather_utils - INFO - ElementId: surface_snow_thickness
2024-10-31 08:25:42 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:25:42 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:25:42 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:25:42 - weather_utils - INFO -   - Eksempelverdi: -1
2024-10-31 08:25:42 - weather_utils - INFO - ElementId: sum(precipitation_amount PT1H)
2024-10-31 08:25:42 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:25:42 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:25:42 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:25:42 - weather_utils - INFO -   - Eksempelverdi: 0.1
2024-10-31 08:25:42 - weather_utils - INFO - ElementId: max_wind_speed(wind_from_direction PT1H)
2024-10-31 08:25:42 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:25:42 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:25:42 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:25:42 - weather_utils - INFO -   - Eksempelverdi: 325
2024-10-31 08:25:42 - weather_utils - INFO - ElementId: max(wind_speed_of_gust PT1H)
2024-10-31 08:25:42 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:25:42 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:25:42 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:25:42 - weather_utils - INFO -   - Eksempelverdi: 8.4
2024-10-31 08:25:42 - weather_utils - INFO - ElementId: wind_speed
2024-10-31 08:25:42 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:25:42 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:25:42 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:25:42 - weather_utils - INFO -   - Eksempelverdi: 4.5
2024-10-31 08:25:42 - weather_utils - INFO - ElementId: surface_temperature
2024-10-31 08:25:42 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:25:42 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:25:42 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:25:42 - weather_utils - INFO -   - Eksempelverdi: 4.6
2024-10-31 08:25:42 - weather_utils - INFO - ElementId: relative_humidity
2024-10-31 08:25:42 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:25:42 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:25:42 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:25:42 - weather_utils - INFO -   - Eksempelverdi: 88
2024-10-31 08:25:42 - weather_utils - INFO - ElementId: dew_point_temperature
2024-10-31 08:25:42 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:25:42 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:25:42 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:25:42 - weather_utils - INFO -   - Eksempelverdi: 3
2024-10-31 08:25:42 - weather_utils - INFO - ElementId: sum(duration_of_precipitation PT1H)
2024-10-31 08:25:42 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:25:42 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:25:42 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:25:42 - weather_utils - INFO -   - Eksempelverdi: 13
2024-10-31 08:25:42 - weather_utils - ERROR - Feil ved datahenting eller -behandling: name 'processed_data' is not defined
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 217, in fetch_and_process_data
    # Beregn endring i sndybde
                               ^
NameError: name 'processed_data' is not defined
2024-10-31 08:25:43 - __main__ - INFO - Application shutting down
2024-10-31 08:25:43 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 08:25:43 - __main__ - INFO - Starting application initialization
2024-10-31 08:25:43 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 08:25:43 - db_utils - INFO - Debugging login_history database:
2024-10-31 08:25:43 - db_utils - INFO -   Database version: 0
2024-10-31 08:25:43 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 08:25:43 - db_utils - INFO -   Structure of login_history table:
2024-10-31 08:25:43 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 08:25:43 - db_utils - INFO -   Row count in login_history: 471
2024-10-31 08:25:43 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:25:43 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 08:25:43 - db_utils - INFO -   Database version: 0
2024-10-31 08:25:43 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 08:25:43 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 08:25:43 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:25:43 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 08:25:43 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 08:25:43 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:25:43 - db_utils - INFO - Debugging stroing database:
2024-10-31 08:25:43 - db_utils - INFO -   Database version: 0
2024-10-31 08:25:43 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 08:25:43 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:25:43 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 08:25:43 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:25:43 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 08:25:43 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:25:43 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 08:25:43 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:25:43 - db_utils - INFO - Debugging feedback database:
2024-10-31 08:25:43 - db_utils - INFO -   Database version: 0
2024-10-31 08:25:43 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 08:25:43 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:25:43 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -   Structure of feedback table:
2024-10-31 08:25:43 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:25:43 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:43 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 08:25:43 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:25:43 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 08:25:43 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:25:43 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 08:25:43 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:25:43 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:25:43 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:25:43 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:25:43 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:25:43 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:25:43 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:25:43 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:25:43 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:25:43 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:25:43 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:25:43 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:25:43 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 08:25:43 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 08:25:43 - db_utils - INFO - login_history table structure is correct
2024-10-31 08:25:43 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 08:25:43 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:25:43 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:25:43 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 08:25:43 - customer_utils - INFO - Found 94 customers in database
2024-10-31 08:25:43 - customer_utils - INFO - Consistency check completed
2024-10-31 08:25:43 - customer_utils - INFO - Database connection closed
2024-10-31 08:25:43 - customer_utils - INFO - Validating customers and passwords
2024-10-31 08:25:43 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:25:43 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:25:43 - customer_utils - INFO - Customer and password validation complete
2024-10-31 08:25:43 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 08:25:43 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 08:25:43 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 08:25:43 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 08:25:43 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 08:25:43 - db_utils - INFO - Database index creation completed
2024-10-31 08:25:43 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:25:43 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:25:43 - __main__ - INFO - Application setup complete
2024-10-31 08:25:43 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 08:25:43 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 08:25:43 - __main__ - INFO - Application shutting down
2024-10-31 08:25:44 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 08:25:44 - __main__ - INFO - Starting application initialization
2024-10-31 08:25:44 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 08:25:44 - db_utils - INFO - Debugging login_history database:
2024-10-31 08:25:44 - db_utils - INFO -   Database version: 0
2024-10-31 08:25:44 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 08:25:44 - db_utils - INFO -   Structure of login_history table:
2024-10-31 08:25:44 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 08:25:44 - db_utils - INFO -   Row count in login_history: 471
2024-10-31 08:25:44 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:25:44 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 08:25:44 - db_utils - INFO -   Database version: 0
2024-10-31 08:25:44 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 08:25:44 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 08:25:44 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:25:44 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 08:25:44 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 08:25:44 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:25:44 - db_utils - INFO - Debugging stroing database:
2024-10-31 08:25:44 - db_utils - INFO -   Database version: 0
2024-10-31 08:25:44 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 08:25:44 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:25:44 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 08:25:44 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:25:44 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 08:25:44 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:25:44 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 08:25:44 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:25:44 - db_utils - INFO - Debugging feedback database:
2024-10-31 08:25:44 - db_utils - INFO -   Database version: 0
2024-10-31 08:25:44 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 08:25:44 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:25:44 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -   Structure of feedback table:
2024-10-31 08:25:44 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:25:44 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:25:44 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 08:25:44 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:25:44 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 08:25:44 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:25:44 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 08:25:44 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:25:44 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:25:44 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:25:44 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:25:44 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:25:44 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:25:44 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:25:44 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:25:44 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:25:44 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:25:44 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:25:44 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:25:44 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 08:25:44 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 08:25:44 - db_utils - INFO - login_history table structure is correct
2024-10-31 08:25:44 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 08:25:44 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:25:44 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:25:44 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 08:25:44 - customer_utils - INFO - Found 94 customers in database
2024-10-31 08:25:44 - customer_utils - INFO - Consistency check completed
2024-10-31 08:25:44 - customer_utils - INFO - Database connection closed
2024-10-31 08:25:44 - customer_utils - INFO - Validating customers and passwords
2024-10-31 08:25:44 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:25:44 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:25:44 - customer_utils - INFO - Customer and password validation complete
2024-10-31 08:25:44 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 08:25:44 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 08:25:44 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 08:25:44 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 08:25:44 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 08:25:44 - db_utils - INFO - Database index creation completed
2024-10-31 08:25:44 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:25:44 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:25:44 - __main__ - INFO - Application setup complete
2024-10-31 08:25:44 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 08:25:44 - weather_utils - INFO - Element statistikk:
2024-10-31 08:25:44 - weather_utils - INFO - ElementId: air_temperature
2024-10-31 08:25:44 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:25:44 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:25:44 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:25:44 - weather_utils - INFO -   - Eksempelverdi: 4.8
2024-10-31 08:25:44 - weather_utils - INFO - ElementId: surface_snow_thickness
2024-10-31 08:25:44 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:25:44 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:25:44 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:25:44 - weather_utils - INFO -   - Eksempelverdi: -1
2024-10-31 08:25:44 - weather_utils - INFO - ElementId: sum(precipitation_amount PT1H)
2024-10-31 08:25:44 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:25:44 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:25:44 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:25:44 - weather_utils - INFO -   - Eksempelverdi: 0.1
2024-10-31 08:25:44 - weather_utils - INFO - ElementId: max_wind_speed(wind_from_direction PT1H)
2024-10-31 08:25:44 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:25:44 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:25:44 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:25:44 - weather_utils - INFO -   - Eksempelverdi: 325
2024-10-31 08:25:44 - weather_utils - INFO - ElementId: max(wind_speed_of_gust PT1H)
2024-10-31 08:25:44 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:25:44 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:25:44 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:25:44 - weather_utils - INFO -   - Eksempelverdi: 8.4
2024-10-31 08:25:44 - weather_utils - INFO - ElementId: wind_speed
2024-10-31 08:25:44 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:25:44 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:25:44 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:25:44 - weather_utils - INFO -   - Eksempelverdi: 4.5
2024-10-31 08:25:44 - weather_utils - INFO - ElementId: surface_temperature
2024-10-31 08:25:44 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:25:44 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:25:44 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:25:44 - weather_utils - INFO -   - Eksempelverdi: 4.6
2024-10-31 08:25:44 - weather_utils - INFO - ElementId: relative_humidity
2024-10-31 08:25:44 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:25:44 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:25:44 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:25:44 - weather_utils - INFO -   - Eksempelverdi: 88
2024-10-31 08:25:44 - weather_utils - INFO - ElementId: dew_point_temperature
2024-10-31 08:25:44 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:25:44 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:25:44 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:25:44 - weather_utils - INFO -   - Eksempelverdi: 3
2024-10-31 08:25:44 - weather_utils - INFO - ElementId: sum(duration_of_precipitation PT1H)
2024-10-31 08:25:44 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:25:44 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:25:44 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:25:44 - weather_utils - INFO -   - Eksempelverdi: 13
2024-10-31 08:25:44 - weather_utils - ERROR - Feil ved datahenting eller -behandling: name 'processed_data' is not defined
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 217, in fetch_and_process_data
    # Beregn endring i sndybde
                               ^
NameError: name 'processed_data' is not defined
2024-10-31 08:25:44 - __main__ - INFO - Application shutting down
2024-10-31 08:26:37 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 08:26:37 - __main__ - INFO - Starting application initialization
2024-10-31 08:26:37 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 08:26:37 - db_utils - INFO - Debugging login_history database:
2024-10-31 08:26:37 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:37 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 08:26:37 - db_utils - INFO -   Structure of login_history table:
2024-10-31 08:26:37 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 08:26:37 - db_utils - INFO -   Row count in login_history: 471
2024-10-31 08:26:37 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:37 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 08:26:37 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:37 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 08:26:37 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 08:26:37 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:37 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 08:26:37 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 08:26:37 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:37 - db_utils - INFO - Debugging stroing database:
2024-10-31 08:26:37 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:37 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 08:26:37 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:26:37 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 08:26:37 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:37 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 08:26:37 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:26:37 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 08:26:37 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:37 - db_utils - INFO - Debugging feedback database:
2024-10-31 08:26:37 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:37 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 08:26:37 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:26:37 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -   Structure of feedback table:
2024-10-31 08:26:37 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:37 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 08:26:37 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:26:37 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 08:26:37 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:37 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 08:26:37 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:26:37 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:26:37 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:26:37 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:26:37 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:26:37 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:26:37 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:26:37 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:26:37 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:26:37 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:26:37 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:26:37 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:26:37 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 08:26:37 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 08:26:37 - db_utils - INFO - login_history table structure is correct
2024-10-31 08:26:37 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 08:26:37 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:26:37 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:26:37 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 08:26:37 - customer_utils - INFO - Found 94 customers in database
2024-10-31 08:26:37 - customer_utils - INFO - Consistency check completed
2024-10-31 08:26:37 - customer_utils - INFO - Database connection closed
2024-10-31 08:26:37 - customer_utils - INFO - Validating customers and passwords
2024-10-31 08:26:37 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:26:37 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:26:37 - customer_utils - INFO - Customer and password validation complete
2024-10-31 08:26:37 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 08:26:37 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 08:26:37 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 08:26:37 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 08:26:37 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 08:26:37 - db_utils - INFO - Database index creation completed
2024-10-31 08:26:37 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:26:37 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:26:37 - __main__ - INFO - Application setup complete
2024-10-31 08:26:37 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 08:26:37 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 08:26:37 - __main__ - INFO - Starting application initialization
2024-10-31 08:26:37 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 08:26:37 - db_utils - INFO - Debugging login_history database:
2024-10-31 08:26:37 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:37 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 08:26:37 - db_utils - INFO -   Structure of login_history table:
2024-10-31 08:26:37 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 08:26:37 - db_utils - INFO -   Row count in login_history: 471
2024-10-31 08:26:37 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:37 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 08:26:37 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:37 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 08:26:37 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 08:26:37 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:37 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 08:26:37 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 08:26:37 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:37 - db_utils - INFO - Debugging stroing database:
2024-10-31 08:26:37 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:37 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 08:26:37 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:26:37 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 08:26:37 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:37 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 08:26:37 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:26:37 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 08:26:37 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:37 - db_utils - INFO - Debugging feedback database:
2024-10-31 08:26:37 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:37 - weather_utils - INFO - Element statistikk:
2024-10-31 08:26:37 - weather_utils - INFO - ElementId: air_temperature
2024-10-31 08:26:37 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:37 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 08:26:37 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:37 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:26:37 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:37 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - weather_utils - INFO -   - Eksempelverdi: 4.8
2024-10-31 08:26:37 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - weather_utils - INFO - ElementId: surface_snow_thickness
2024-10-31 08:26:37 - db_utils - INFO -   Structure of feedback table:
2024-10-31 08:26:37 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:37 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:37 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:37 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:37 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - weather_utils - INFO -   - Eksempelverdi: -1
2024-10-31 08:26:37 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - weather_utils - INFO - ElementId: sum(precipitation_amount PT1H)
2024-10-31 08:26:37 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:37 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:37 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:37 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - weather_utils - INFO -   - Eksempelverdi: 0.1
2024-10-31 08:26:37 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - weather_utils - INFO - ElementId: max_wind_speed(wind_from_direction PT1H)
2024-10-31 08:26:37 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:37 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:37 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:37 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - weather_utils - INFO -   - Eksempelverdi: 325
2024-10-31 08:26:37 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - weather_utils - INFO - ElementId: max(wind_speed_of_gust PT1H)
2024-10-31 08:26:37 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:37 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:37 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:37 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 08:26:37 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:37 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:26:37 - weather_utils - INFO -   - Eksempelverdi: 8.4
2024-10-31 08:26:37 - weather_utils - INFO - ElementId: wind_speed
2024-10-31 08:26:37 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 08:26:37 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:37 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:37 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:37 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 08:26:37 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:37 - weather_utils - INFO -   - Eksempelverdi: 4.5
2024-10-31 08:26:37 - weather_utils - INFO - ElementId: surface_temperature
2024-10-31 08:26:37 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:37 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:37 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:26:37 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:37 - weather_utils - INFO -   - Eksempelverdi: 4.6
2024-10-31 08:26:37 - weather_utils - INFO - ElementId: relative_humidity
2024-10-31 08:26:37 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:37 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:37 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:37 - weather_utils - INFO -   - Eksempelverdi: 88
2024-10-31 08:26:37 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:26:37 - weather_utils - INFO - ElementId: dew_point_temperature
2024-10-31 08:26:37 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:37 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:37 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:37 - weather_utils - INFO -   - Eksempelverdi: 3
2024-10-31 08:26:37 - weather_utils - INFO - ElementId: sum(duration_of_precipitation PT1H)
2024-10-31 08:26:37 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:26:37 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:37 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:37 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:37 - weather_utils - INFO -   - Eksempelverdi: 13
2024-10-31 08:26:37 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:26:37 - weather_utils - ERROR - Feil ved datahenting eller -behandling: name 'processed_data' is not defined
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 217, in fetch_and_process_data
    # Beregn endring i sndybde
                               ^
NameError: name 'processed_data' is not defined
2024-10-31 08:26:37 - __main__ - INFO - Application shutting down
2024-10-31 08:26:38 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:26:38 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:26:38 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:26:38 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:26:38 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:26:38 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:26:38 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:26:38 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:26:38 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 08:26:38 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 08:26:38 - db_utils - INFO - login_history table structure is correct
2024-10-31 08:26:38 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 08:26:38 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:26:38 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:26:38 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 08:26:38 - customer_utils - INFO - Found 94 customers in database
2024-10-31 08:26:38 - customer_utils - INFO - Consistency check completed
2024-10-31 08:26:38 - customer_utils - INFO - Database connection closed
2024-10-31 08:26:38 - customer_utils - INFO - Validating customers and passwords
2024-10-31 08:26:38 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:26:38 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:26:38 - customer_utils - INFO - Customer and password validation complete
2024-10-31 08:26:38 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 08:26:38 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 08:26:38 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 08:26:38 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 08:26:38 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 08:26:38 - db_utils - INFO - Database index creation completed
2024-10-31 08:26:38 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:26:38 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:26:38 - __main__ - INFO - Application setup complete
2024-10-31 08:26:38 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 08:26:38 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 08:26:38 - __main__ - INFO - Application shutting down
2024-10-31 08:26:38 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 08:26:38 - __main__ - INFO - Starting application initialization
2024-10-31 08:26:38 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 08:26:38 - db_utils - INFO - Debugging login_history database:
2024-10-31 08:26:38 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:38 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 08:26:38 - db_utils - INFO -   Structure of login_history table:
2024-10-31 08:26:38 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 08:26:38 - db_utils - INFO -   Row count in login_history: 471
2024-10-31 08:26:38 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:38 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 08:26:38 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:38 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 08:26:38 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 08:26:38 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:38 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 08:26:38 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 08:26:38 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:38 - db_utils - INFO - Debugging stroing database:
2024-10-31 08:26:38 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:38 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 08:26:38 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:26:38 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 08:26:38 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:38 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 08:26:38 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:26:38 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 08:26:38 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:38 - db_utils - INFO - Debugging feedback database:
2024-10-31 08:26:38 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:38 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 08:26:38 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:26:38 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -   Structure of feedback table:
2024-10-31 08:26:38 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:38 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 08:26:38 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:26:38 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 08:26:38 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:38 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 08:26:38 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:26:38 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:26:38 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:26:38 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:26:38 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:26:38 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:26:38 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:26:38 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:26:38 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:26:38 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:26:38 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:26:38 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:26:38 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 08:26:38 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 08:26:38 - db_utils - INFO - login_history table structure is correct
2024-10-31 08:26:38 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 08:26:38 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:26:38 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:26:38 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 08:26:38 - customer_utils - INFO - Found 94 customers in database
2024-10-31 08:26:38 - customer_utils - INFO - Consistency check completed
2024-10-31 08:26:38 - customer_utils - INFO - Database connection closed
2024-10-31 08:26:38 - customer_utils - INFO - Validating customers and passwords
2024-10-31 08:26:38 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:26:38 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:26:38 - customer_utils - INFO - Customer and password validation complete
2024-10-31 08:26:38 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 08:26:38 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 08:26:38 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 08:26:38 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 08:26:38 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 08:26:38 - db_utils - INFO - Database index creation completed
2024-10-31 08:26:38 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:26:38 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:26:38 - __main__ - INFO - Application setup complete
2024-10-31 08:26:38 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 08:26:38 - weather_utils - INFO - Element statistikk:
2024-10-31 08:26:38 - weather_utils - INFO - ElementId: air_temperature
2024-10-31 08:26:38 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:38 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:38 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:38 - weather_utils - INFO -   - Eksempelverdi: 4.8
2024-10-31 08:26:38 - weather_utils - INFO - ElementId: surface_snow_thickness
2024-10-31 08:26:38 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:38 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:38 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:38 - weather_utils - INFO -   - Eksempelverdi: -1
2024-10-31 08:26:38 - weather_utils - INFO - ElementId: sum(precipitation_amount PT1H)
2024-10-31 08:26:38 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:38 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:38 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:38 - weather_utils - INFO -   - Eksempelverdi: 0.1
2024-10-31 08:26:38 - weather_utils - INFO - ElementId: max_wind_speed(wind_from_direction PT1H)
2024-10-31 08:26:38 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:38 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:38 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:38 - weather_utils - INFO -   - Eksempelverdi: 325
2024-10-31 08:26:38 - weather_utils - INFO - ElementId: max(wind_speed_of_gust PT1H)
2024-10-31 08:26:38 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:38 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:38 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:38 - weather_utils - INFO -   - Eksempelverdi: 8.4
2024-10-31 08:26:38 - weather_utils - INFO - ElementId: wind_speed
2024-10-31 08:26:38 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:38 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:38 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:38 - weather_utils - INFO -   - Eksempelverdi: 4.5
2024-10-31 08:26:38 - weather_utils - INFO - ElementId: surface_temperature
2024-10-31 08:26:38 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:38 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:38 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:38 - weather_utils - INFO -   - Eksempelverdi: 4.6
2024-10-31 08:26:38 - weather_utils - INFO - ElementId: relative_humidity
2024-10-31 08:26:38 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:38 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:38 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:38 - weather_utils - INFO -   - Eksempelverdi: 88
2024-10-31 08:26:38 - weather_utils - INFO - ElementId: dew_point_temperature
2024-10-31 08:26:38 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:38 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:38 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:38 - weather_utils - INFO -   - Eksempelverdi: 3
2024-10-31 08:26:38 - weather_utils - INFO - ElementId: sum(duration_of_precipitation PT1H)
2024-10-31 08:26:38 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:38 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:38 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:38 - weather_utils - INFO -   - Eksempelverdi: 13
2024-10-31 08:26:38 - weather_utils - ERROR - Feil ved datahenting eller -behandling: name 'processed_data' is not defined
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 217, in fetch_and_process_data
    # Beregn endring i sndybde
                               ^
NameError: name 'processed_data' is not defined
2024-10-31 08:26:38 - __main__ - INFO - Application shutting down
2024-10-31 08:26:38 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 08:26:38 - __main__ - INFO - Starting application initialization
2024-10-31 08:26:38 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 08:26:38 - db_utils - INFO - Debugging login_history database:
2024-10-31 08:26:38 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:38 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 08:26:38 - db_utils - INFO -   Structure of login_history table:
2024-10-31 08:26:38 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 08:26:38 - db_utils - INFO -   Row count in login_history: 471
2024-10-31 08:26:38 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:38 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 08:26:38 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:38 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 08:26:38 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 08:26:38 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:38 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 08:26:38 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 08:26:38 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:38 - db_utils - INFO - Debugging stroing database:
2024-10-31 08:26:38 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:38 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 08:26:38 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:26:38 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 08:26:38 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:38 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 08:26:38 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:26:38 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 08:26:38 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:38 - db_utils - INFO - Debugging feedback database:
2024-10-31 08:26:38 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:38 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 08:26:38 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:26:38 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -   Structure of feedback table:
2024-10-31 08:26:38 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:38 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:38 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 08:26:38 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:26:38 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 08:26:38 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:38 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 08:26:38 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:26:38 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:26:38 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:26:38 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:26:38 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:26:38 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:26:38 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:26:38 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:26:38 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:26:38 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:26:38 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:26:38 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:26:38 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 08:26:38 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 08:26:38 - db_utils - INFO - login_history table structure is correct
2024-10-31 08:26:38 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 08:26:38 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:26:38 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:26:38 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 08:26:38 - customer_utils - INFO - Found 94 customers in database
2024-10-31 08:26:38 - customer_utils - INFO - Consistency check completed
2024-10-31 08:26:38 - customer_utils - INFO - Database connection closed
2024-10-31 08:26:38 - customer_utils - INFO - Validating customers and passwords
2024-10-31 08:26:38 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:26:38 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:26:38 - customer_utils - INFO - Customer and password validation complete
2024-10-31 08:26:38 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 08:26:38 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 08:26:38 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 08:26:38 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 08:26:38 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 08:26:38 - db_utils - INFO - Database index creation completed
2024-10-31 08:26:38 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:26:38 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:26:38 - __main__ - INFO - Application setup complete
2024-10-31 08:26:38 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 08:26:38 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 08:26:38 - __main__ - INFO - Application shutting down
2024-10-31 08:26:39 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 08:26:39 - __main__ - INFO - Starting application initialization
2024-10-31 08:26:39 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 08:26:39 - db_utils - INFO - Debugging login_history database:
2024-10-31 08:26:39 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:39 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 08:26:39 - db_utils - INFO -   Structure of login_history table:
2024-10-31 08:26:39 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 08:26:39 - db_utils - INFO -   Row count in login_history: 471
2024-10-31 08:26:39 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:39 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 08:26:39 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:39 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 08:26:39 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 08:26:39 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:39 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 08:26:39 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 08:26:39 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:39 - db_utils - INFO - Debugging stroing database:
2024-10-31 08:26:39 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:39 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 08:26:39 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:26:39 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 08:26:39 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:39 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 08:26:39 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:26:39 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 08:26:39 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:39 - db_utils - INFO - Debugging feedback database:
2024-10-31 08:26:39 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:39 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 08:26:39 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:26:39 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -   Structure of feedback table:
2024-10-31 08:26:39 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:39 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:39 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 08:26:39 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:26:39 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 08:26:39 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:39 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 08:26:39 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:26:39 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:26:39 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:26:39 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:26:39 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:26:39 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:26:39 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:26:39 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:26:39 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:26:39 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:26:39 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:26:39 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:26:39 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 08:26:39 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 08:26:39 - db_utils - INFO - login_history table structure is correct
2024-10-31 08:26:39 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 08:26:39 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:26:39 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:26:39 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 08:26:39 - customer_utils - INFO - Found 94 customers in database
2024-10-31 08:26:39 - customer_utils - INFO - Consistency check completed
2024-10-31 08:26:39 - customer_utils - INFO - Database connection closed
2024-10-31 08:26:39 - customer_utils - INFO - Validating customers and passwords
2024-10-31 08:26:39 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:26:39 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:26:39 - customer_utils - INFO - Customer and password validation complete
2024-10-31 08:26:39 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 08:26:39 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 08:26:39 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 08:26:39 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 08:26:39 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 08:26:39 - db_utils - INFO - Database index creation completed
2024-10-31 08:26:39 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:26:39 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:26:39 - __main__ - INFO - Application setup complete
2024-10-31 08:26:39 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 08:26:39 - weather_utils - INFO - Element statistikk:
2024-10-31 08:26:39 - weather_utils - INFO - ElementId: air_temperature
2024-10-31 08:26:39 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:39 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:39 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:39 - weather_utils - INFO -   - Eksempelverdi: 4.8
2024-10-31 08:26:39 - weather_utils - INFO - ElementId: surface_snow_thickness
2024-10-31 08:26:39 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:39 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:39 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:39 - weather_utils - INFO -   - Eksempelverdi: -1
2024-10-31 08:26:39 - weather_utils - INFO - ElementId: sum(precipitation_amount PT1H)
2024-10-31 08:26:39 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:39 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:39 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:39 - weather_utils - INFO -   - Eksempelverdi: 0.1
2024-10-31 08:26:39 - weather_utils - INFO - ElementId: max_wind_speed(wind_from_direction PT1H)
2024-10-31 08:26:39 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:39 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:39 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:39 - weather_utils - INFO -   - Eksempelverdi: 325
2024-10-31 08:26:39 - weather_utils - INFO - ElementId: max(wind_speed_of_gust PT1H)
2024-10-31 08:26:39 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:39 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:39 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:39 - weather_utils - INFO -   - Eksempelverdi: 8.4
2024-10-31 08:26:39 - weather_utils - INFO - ElementId: wind_speed
2024-10-31 08:26:39 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:39 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:39 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:39 - weather_utils - INFO -   - Eksempelverdi: 4.5
2024-10-31 08:26:39 - weather_utils - INFO - ElementId: surface_temperature
2024-10-31 08:26:39 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:39 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:39 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:39 - weather_utils - INFO -   - Eksempelverdi: 4.6
2024-10-31 08:26:39 - weather_utils - INFO - ElementId: relative_humidity
2024-10-31 08:26:39 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:39 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:39 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:39 - weather_utils - INFO -   - Eksempelverdi: 88
2024-10-31 08:26:39 - weather_utils - INFO - ElementId: dew_point_temperature
2024-10-31 08:26:39 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:39 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:39 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:39 - weather_utils - INFO -   - Eksempelverdi: 3
2024-10-31 08:26:39 - weather_utils - INFO - ElementId: sum(duration_of_precipitation PT1H)
2024-10-31 08:26:39 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:39 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:39 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:39 - weather_utils - INFO -   - Eksempelverdi: 13
2024-10-31 08:26:39 - weather_utils - ERROR - Feil ved datahenting eller -behandling: name 'processed_data' is not defined
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 217, in fetch_and_process_data
    # Beregn endring i sndybde
                               ^
NameError: name 'processed_data' is not defined
2024-10-31 08:26:39 - __main__ - INFO - Application shutting down
2024-10-31 08:26:40 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 08:26:40 - __main__ - INFO - Starting application initialization
2024-10-31 08:26:40 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 08:26:40 - db_utils - INFO - Debugging login_history database:
2024-10-31 08:26:40 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:40 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 08:26:40 - db_utils - INFO -   Structure of login_history table:
2024-10-31 08:26:40 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 08:26:40 - db_utils - INFO -   Row count in login_history: 471
2024-10-31 08:26:40 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:40 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 08:26:40 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:40 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 08:26:40 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 08:26:40 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:40 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 08:26:40 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 08:26:40 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:40 - db_utils - INFO - Debugging stroing database:
2024-10-31 08:26:40 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:40 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 08:26:40 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:26:40 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 08:26:40 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:40 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 08:26:40 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:26:40 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 08:26:40 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:40 - db_utils - INFO - Debugging feedback database:
2024-10-31 08:26:40 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:40 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 08:26:40 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:26:40 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -   Structure of feedback table:
2024-10-31 08:26:40 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:40 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 08:26:40 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:26:40 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 08:26:40 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:40 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 08:26:40 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:26:40 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:26:40 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:26:40 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:26:40 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:26:40 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:26:40 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:26:40 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:26:40 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:26:40 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:26:40 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:26:40 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:26:40 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 08:26:40 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 08:26:40 - db_utils - INFO - login_history table structure is correct
2024-10-31 08:26:40 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 08:26:40 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:26:40 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:26:40 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 08:26:40 - customer_utils - INFO - Found 94 customers in database
2024-10-31 08:26:40 - customer_utils - INFO - Consistency check completed
2024-10-31 08:26:40 - customer_utils - INFO - Database connection closed
2024-10-31 08:26:40 - customer_utils - INFO - Validating customers and passwords
2024-10-31 08:26:40 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:26:40 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:26:40 - customer_utils - INFO - Customer and password validation complete
2024-10-31 08:26:40 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 08:26:40 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 08:26:40 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 08:26:40 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 08:26:40 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 08:26:40 - db_utils - INFO - Database index creation completed
2024-10-31 08:26:40 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:26:40 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:26:40 - __main__ - INFO - Application setup complete
2024-10-31 08:26:40 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 08:26:40 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 08:26:40 - __main__ - INFO - Application shutting down
2024-10-31 08:26:40 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 08:26:40 - __main__ - INFO - Starting application initialization
2024-10-31 08:26:40 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 08:26:40 - db_utils - INFO - Debugging login_history database:
2024-10-31 08:26:40 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:40 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 08:26:40 - db_utils - INFO -   Structure of login_history table:
2024-10-31 08:26:40 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 08:26:40 - db_utils - INFO -   Row count in login_history: 471
2024-10-31 08:26:40 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:40 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 08:26:40 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:40 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 08:26:40 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 08:26:40 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:40 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 08:26:40 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 08:26:40 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:40 - db_utils - INFO - Debugging stroing database:
2024-10-31 08:26:40 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:40 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 08:26:40 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:26:40 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 08:26:40 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:40 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 08:26:40 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:26:40 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 08:26:40 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:40 - db_utils - INFO - Debugging feedback database:
2024-10-31 08:26:40 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:40 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 08:26:40 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:26:40 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -   Structure of feedback table:
2024-10-31 08:26:40 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:40 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:40 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 08:26:40 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:26:40 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 08:26:40 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:40 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 08:26:40 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:26:40 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:26:40 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:26:40 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:26:40 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:26:40 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:26:40 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:26:40 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:26:40 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:26:40 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:26:40 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:26:40 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:26:40 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 08:26:40 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 08:26:40 - db_utils - INFO - login_history table structure is correct
2024-10-31 08:26:40 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 08:26:40 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:26:40 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:26:40 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 08:26:40 - customer_utils - INFO - Found 94 customers in database
2024-10-31 08:26:40 - customer_utils - INFO - Consistency check completed
2024-10-31 08:26:40 - customer_utils - INFO - Database connection closed
2024-10-31 08:26:40 - customer_utils - INFO - Validating customers and passwords
2024-10-31 08:26:40 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:26:40 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:26:40 - customer_utils - INFO - Customer and password validation complete
2024-10-31 08:26:40 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 08:26:40 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 08:26:40 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 08:26:40 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 08:26:40 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 08:26:40 - db_utils - INFO - Database index creation completed
2024-10-31 08:26:40 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:26:40 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:26:40 - __main__ - INFO - Application setup complete
2024-10-31 08:26:40 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 08:26:41 - weather_utils - INFO - Element statistikk:
2024-10-31 08:26:41 - weather_utils - INFO - ElementId: air_temperature
2024-10-31 08:26:41 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:41 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:41 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:41 - weather_utils - INFO -   - Eksempelverdi: 4.8
2024-10-31 08:26:41 - weather_utils - INFO - ElementId: surface_snow_thickness
2024-10-31 08:26:41 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:41 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:41 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:41 - weather_utils - INFO -   - Eksempelverdi: -1
2024-10-31 08:26:41 - weather_utils - INFO - ElementId: sum(precipitation_amount PT1H)
2024-10-31 08:26:41 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:41 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:41 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:41 - weather_utils - INFO -   - Eksempelverdi: 0.1
2024-10-31 08:26:41 - weather_utils - INFO - ElementId: max_wind_speed(wind_from_direction PT1H)
2024-10-31 08:26:41 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:41 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:41 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:41 - weather_utils - INFO -   - Eksempelverdi: 325
2024-10-31 08:26:41 - weather_utils - INFO - ElementId: max(wind_speed_of_gust PT1H)
2024-10-31 08:26:41 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:41 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:41 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:41 - weather_utils - INFO -   - Eksempelverdi: 8.4
2024-10-31 08:26:41 - weather_utils - INFO - ElementId: wind_speed
2024-10-31 08:26:41 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:41 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:41 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:41 - weather_utils - INFO -   - Eksempelverdi: 4.5
2024-10-31 08:26:41 - weather_utils - INFO - ElementId: surface_temperature
2024-10-31 08:26:41 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:41 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:41 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:41 - weather_utils - INFO -   - Eksempelverdi: 4.6
2024-10-31 08:26:41 - weather_utils - INFO - ElementId: relative_humidity
2024-10-31 08:26:41 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:41 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:41 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:41 - weather_utils - INFO -   - Eksempelverdi: 88
2024-10-31 08:26:41 - weather_utils - INFO - ElementId: dew_point_temperature
2024-10-31 08:26:41 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:41 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:41 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:41 - weather_utils - INFO -   - Eksempelverdi: 3
2024-10-31 08:26:41 - weather_utils - INFO - ElementId: sum(duration_of_precipitation PT1H)
2024-10-31 08:26:41 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:41 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:41 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:41 - weather_utils - INFO -   - Eksempelverdi: 13
2024-10-31 08:26:41 - weather_utils - ERROR - Feil ved datahenting eller -behandling: name 'processed_data' is not defined
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 217, in fetch_and_process_data
    # Beregn endring i sndybde
                               ^
NameError: name 'processed_data' is not defined
2024-10-31 08:26:41 - __main__ - INFO - Application shutting down
2024-10-31 08:26:42 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 08:26:42 - __main__ - INFO - Starting application initialization
2024-10-31 08:26:42 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 08:26:42 - db_utils - INFO - Debugging login_history database:
2024-10-31 08:26:42 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:42 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 08:26:42 - db_utils - INFO -   Structure of login_history table:
2024-10-31 08:26:42 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 08:26:42 - db_utils - INFO -   Row count in login_history: 471
2024-10-31 08:26:42 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:42 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 08:26:42 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:42 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 08:26:42 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 08:26:42 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:42 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 08:26:42 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 08:26:42 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:42 - db_utils - INFO - Debugging stroing database:
2024-10-31 08:26:42 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:42 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 08:26:42 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:26:42 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 08:26:42 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:42 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 08:26:42 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:26:42 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 08:26:42 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:42 - db_utils - INFO - Debugging feedback database:
2024-10-31 08:26:42 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:42 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 08:26:42 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:26:42 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -   Structure of feedback table:
2024-10-31 08:26:42 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:42 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:42 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 08:26:42 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:26:42 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 08:26:42 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:42 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 08:26:42 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:26:42 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:26:42 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:26:42 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:26:42 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:26:42 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:26:42 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:26:42 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:26:42 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:26:42 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:26:42 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:26:42 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:26:42 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 08:26:42 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 08:26:42 - db_utils - INFO - login_history table structure is correct
2024-10-31 08:26:42 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 08:26:42 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:26:42 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:26:42 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 08:26:42 - customer_utils - INFO - Found 94 customers in database
2024-10-31 08:26:42 - customer_utils - INFO - Consistency check completed
2024-10-31 08:26:42 - customer_utils - INFO - Database connection closed
2024-10-31 08:26:42 - customer_utils - INFO - Validating customers and passwords
2024-10-31 08:26:42 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:26:42 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:26:42 - customer_utils - INFO - Customer and password validation complete
2024-10-31 08:26:42 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 08:26:42 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 08:26:42 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 08:26:42 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 08:26:42 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 08:26:42 - db_utils - INFO - Database index creation completed
2024-10-31 08:26:42 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:26:42 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:26:42 - __main__ - INFO - Application setup complete
2024-10-31 08:26:42 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 08:26:42 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 08:26:42 - __main__ - INFO - Application shutting down
2024-10-31 08:26:43 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 08:26:43 - __main__ - INFO - Starting application initialization
2024-10-31 08:26:43 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 08:26:43 - db_utils - INFO - Debugging login_history database:
2024-10-31 08:26:43 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:43 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 08:26:43 - db_utils - INFO -   Structure of login_history table:
2024-10-31 08:26:43 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 08:26:43 - db_utils - INFO -   Row count in login_history: 471
2024-10-31 08:26:43 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:43 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 08:26:43 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:43 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 08:26:43 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 08:26:43 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:43 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 08:26:43 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 08:26:43 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:43 - db_utils - INFO - Debugging stroing database:
2024-10-31 08:26:43 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:43 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 08:26:43 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:26:43 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 08:26:43 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:43 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 08:26:43 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:26:43 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 08:26:43 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:43 - db_utils - INFO - Debugging feedback database:
2024-10-31 08:26:43 - db_utils - INFO -   Database version: 0
2024-10-31 08:26:43 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 08:26:43 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:26:43 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -   Structure of feedback table:
2024-10-31 08:26:43 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:26:43 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:26:43 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 08:26:43 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:26:43 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 08:26:43 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:26:43 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 08:26:43 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:26:43 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:26:43 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:26:43 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:26:43 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:26:43 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:26:43 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:26:43 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:26:43 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:26:43 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:26:43 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:26:43 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:26:43 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 08:26:43 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 08:26:43 - db_utils - INFO - login_history table structure is correct
2024-10-31 08:26:43 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 08:26:43 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:26:43 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:26:43 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 08:26:43 - customer_utils - INFO - Found 94 customers in database
2024-10-31 08:26:43 - customer_utils - INFO - Consistency check completed
2024-10-31 08:26:43 - customer_utils - INFO - Database connection closed
2024-10-31 08:26:43 - customer_utils - INFO - Validating customers and passwords
2024-10-31 08:26:43 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:26:43 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:26:43 - customer_utils - INFO - Customer and password validation complete
2024-10-31 08:26:43 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 08:26:43 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 08:26:43 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 08:26:43 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 08:26:43 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 08:26:43 - db_utils - INFO - Database index creation completed
2024-10-31 08:26:43 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:26:43 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:26:43 - __main__ - INFO - Application setup complete
2024-10-31 08:26:43 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 08:26:43 - weather_utils - INFO - Element statistikk:
2024-10-31 08:26:43 - weather_utils - INFO - ElementId: air_temperature
2024-10-31 08:26:43 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:43 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:43 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:43 - weather_utils - INFO -   - Eksempelverdi: 4.8
2024-10-31 08:26:43 - weather_utils - INFO - ElementId: surface_snow_thickness
2024-10-31 08:26:43 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:43 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:43 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:43 - weather_utils - INFO -   - Eksempelverdi: -1
2024-10-31 08:26:43 - weather_utils - INFO - ElementId: sum(precipitation_amount PT1H)
2024-10-31 08:26:43 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:43 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:43 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:43 - weather_utils - INFO -   - Eksempelverdi: 0.1
2024-10-31 08:26:43 - weather_utils - INFO - ElementId: max_wind_speed(wind_from_direction PT1H)
2024-10-31 08:26:43 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:43 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:43 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:43 - weather_utils - INFO -   - Eksempelverdi: 325
2024-10-31 08:26:43 - weather_utils - INFO - ElementId: max(wind_speed_of_gust PT1H)
2024-10-31 08:26:43 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:43 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:43 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:43 - weather_utils - INFO -   - Eksempelverdi: 8.4
2024-10-31 08:26:43 - weather_utils - INFO - ElementId: wind_speed
2024-10-31 08:26:43 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:43 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:43 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:43 - weather_utils - INFO -   - Eksempelverdi: 4.5
2024-10-31 08:26:43 - weather_utils - INFO - ElementId: surface_temperature
2024-10-31 08:26:43 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:43 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:43 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:43 - weather_utils - INFO -   - Eksempelverdi: 4.6
2024-10-31 08:26:43 - weather_utils - INFO - ElementId: relative_humidity
2024-10-31 08:26:43 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:43 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:43 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:43 - weather_utils - INFO -   - Eksempelverdi: 88
2024-10-31 08:26:43 - weather_utils - INFO - ElementId: dew_point_temperature
2024-10-31 08:26:43 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:43 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:43 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:43 - weather_utils - INFO -   - Eksempelverdi: 3
2024-10-31 08:26:43 - weather_utils - INFO - ElementId: sum(duration_of_precipitation PT1H)
2024-10-31 08:26:43 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:26:43 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:26:43 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:26:43 - weather_utils - INFO -   - Eksempelverdi: 13
2024-10-31 08:26:43 - weather_utils - ERROR - Feil ved datahenting eller -behandling: name 'processed_data' is not defined
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 217, in fetch_and_process_data
    df['snow_precipitation'] = calculate_snow_precipitations(
                                ^^^^^^^^^^^^^^
NameError: name 'processed_data' is not defined
2024-10-31 08:26:43 - __main__ - INFO - Application shutting down
2024-10-31 08:28:01 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 08:28:01 - __main__ - INFO - Starting application initialization
2024-10-31 08:28:01 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 08:28:01 - db_utils - INFO - Debugging login_history database:
2024-10-31 08:28:01 - db_utils - INFO -   Database version: 0
2024-10-31 08:28:01 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 08:28:01 - db_utils - INFO -   Structure of login_history table:
2024-10-31 08:28:01 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 08:28:01 - db_utils - INFO -   Row count in login_history: 471
2024-10-31 08:28:01 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:28:01 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 08:28:01 - db_utils - INFO -   Database version: 0
2024-10-31 08:28:01 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 08:28:01 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 08:28:01 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:28:01 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 08:28:01 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 08:28:01 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:28:01 - db_utils - INFO - Debugging stroing database:
2024-10-31 08:28:01 - db_utils - INFO -   Database version: 0
2024-10-31 08:28:01 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 08:28:01 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:28:01 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 08:28:01 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:28:01 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 08:28:01 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:28:01 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 08:28:01 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:28:01 - db_utils - INFO - Debugging feedback database:
2024-10-31 08:28:01 - db_utils - INFO -   Database version: 0
2024-10-31 08:28:01 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 08:28:01 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:28:01 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -   Structure of feedback table:
2024-10-31 08:28:01 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:28:01 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:01 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 08:28:01 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:28:01 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 08:28:01 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:28:01 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 08:28:01 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:28:01 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:28:01 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:28:01 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:28:01 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:28:01 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:28:01 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:28:01 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:28:01 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:28:01 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:28:01 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:28:01 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:28:01 - db_utils - INFO - Database login_history initialized, updated, and optimized
2024-10-31 08:28:01 - db_utils - INFO - Database tunbroyting initialized, updated, and optimized
2024-10-31 08:28:01 - db_utils - INFO - Database stroing initialized, updated, and optimized
2024-10-31 08:28:01 - db_utils - INFO - Database feedback initialized, updated, and optimized
2024-10-31 08:28:01 - db_utils - INFO - Database customer initialized, updated, and optimized
2024-10-31 08:28:01 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 08:28:01 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 08:28:01 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 08:28:01 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 08:28:01 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 08:28:01 - db_utils - INFO - Database index creation completed
2024-10-31 08:28:01 - db_utils - INFO - Database indexes created
2024-10-31 08:28:01 - db_utils - INFO - Successfully verified connection to stroing.db
2024-10-31 08:28:01 - db_utils - INFO - Successfully verified connection to tunbroyting.db
2024-10-31 08:28:01 - db_utils - INFO - Successfully verified connection to feedback.db
2024-10-31 08:28:01 - db_utils - INFO - Successfully verified connection to login_history.db
2024-10-31 08:28:01 - db_utils - INFO - Successfully verified connection to customer.db
2024-10-31 08:28:01 - db_utils - INFO - Database connections verified
2024-10-31 08:28:01 - db_utils - INFO - All databases initialized, updated, and verified
2024-10-31 08:28:01 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 08:28:01 - db_utils - INFO - login_history table structure is correct
2024-10-31 08:28:01 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 08:28:01 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:28:01 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:28:01 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 08:28:01 - customer_utils - INFO - Found 94 customers in database
2024-10-31 08:28:01 - customer_utils - INFO - Consistency check completed
2024-10-31 08:28:01 - customer_utils - INFO - Database connection closed
2024-10-31 08:28:01 - customer_utils - INFO - Validating customers and passwords
2024-10-31 08:28:01 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:28:01 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:28:01 - customer_utils - INFO - Customer and password validation complete
2024-10-31 08:28:01 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 08:28:01 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 08:28:01 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 08:28:01 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 08:28:01 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 08:28:01 - db_utils - INFO - Database index creation completed
2024-10-31 08:28:01 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:28:01 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:28:01 - __main__ - INFO - Application setup complete
2024-10-31 08:28:01 - __main__ - INFO - Application shutting down
2024-10-31 08:28:03 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 08:28:03 - __main__ - INFO - Starting application initialization
2024-10-31 08:28:03 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 08:28:03 - db_utils - INFO - Debugging login_history database:
2024-10-31 08:28:03 - db_utils - INFO -   Database version: 0
2024-10-31 08:28:03 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 08:28:03 - db_utils - INFO -   Structure of login_history table:
2024-10-31 08:28:03 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 08:28:03 - db_utils - INFO -   Row count in login_history: 471
2024-10-31 08:28:03 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:28:03 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 08:28:03 - db_utils - INFO -   Database version: 0
2024-10-31 08:28:03 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 08:28:03 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 08:28:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:28:03 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 08:28:03 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 08:28:03 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:28:03 - db_utils - INFO - Debugging stroing database:
2024-10-31 08:28:03 - db_utils - INFO -   Database version: 0
2024-10-31 08:28:03 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 08:28:03 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:28:03 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 08:28:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:28:03 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 08:28:03 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:28:03 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 08:28:03 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:28:03 - db_utils - INFO - Debugging feedback database:
2024-10-31 08:28:03 - db_utils - INFO -   Database version: 0
2024-10-31 08:28:03 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 08:28:03 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:28:03 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -   Structure of feedback table:
2024-10-31 08:28:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:28:03 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 08:28:03 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:28:03 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 08:28:03 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:28:03 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 08:28:03 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:28:03 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:28:03 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:28:03 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:28:03 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:28:03 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:28:03 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:28:03 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:28:03 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:28:03 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:28:03 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:28:03 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:28:03 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 08:28:03 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 08:28:03 - db_utils - INFO - login_history table structure is correct
2024-10-31 08:28:03 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 08:28:03 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:28:03 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:28:03 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 08:28:03 - customer_utils - INFO - Found 94 customers in database
2024-10-31 08:28:03 - customer_utils - INFO - Consistency check completed
2024-10-31 08:28:03 - customer_utils - INFO - Database connection closed
2024-10-31 08:28:03 - customer_utils - INFO - Validating customers and passwords
2024-10-31 08:28:03 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:28:03 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:28:03 - customer_utils - INFO - Customer and password validation complete
2024-10-31 08:28:03 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 08:28:03 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 08:28:03 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 08:28:03 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 08:28:03 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 08:28:03 - db_utils - INFO - Database index creation completed
2024-10-31 08:28:03 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:28:03 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:28:03 - __main__ - INFO - Application setup complete
2024-10-31 08:28:03 - auth_utils - INFO - Login attempt for ID: 999
2024-10-31 08:28:03 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 08:28:03 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 08:28:03 - db_utils - INFO - Attempting to create database engine...
2024-10-31 08:28:03 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 08:28:03 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-31 08:28:03 - auth_utils - INFO - User 999 authenticated successfully
2024-10-31 08:28:03 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 08:28:03 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-31 08:28:03 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-31 08:28:03 - auth_utils - INFO - Successful login for ID: 999
2024-10-31 08:28:03 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-31 08:28:03 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 08:28:03 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 08:28:03 - db_utils - INFO - Attempting to create database engine...
2024-10-31 08:28:03 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 08:28:03 - auth_utils - INFO - Rate limit reset for user 999
2024-10-31 08:28:03 - __main__ - INFO - Application shutting down
2024-10-31 08:28:03 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 08:28:03 - __main__ - INFO - Starting application initialization
2024-10-31 08:28:03 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 08:28:03 - db_utils - INFO - Debugging login_history database:
2024-10-31 08:28:03 - db_utils - INFO -   Database version: 0
2024-10-31 08:28:03 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 08:28:03 - db_utils - INFO -   Structure of login_history table:
2024-10-31 08:28:03 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 08:28:03 - db_utils - INFO -   Row count in login_history: 472
2024-10-31 08:28:03 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:28:03 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 08:28:03 - db_utils - INFO -   Database version: 0
2024-10-31 08:28:03 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 08:28:03 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 08:28:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:28:03 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 08:28:03 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 08:28:03 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:28:03 - db_utils - INFO - Debugging stroing database:
2024-10-31 08:28:03 - db_utils - INFO -   Database version: 0
2024-10-31 08:28:03 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 08:28:03 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:28:03 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 08:28:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:28:03 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 08:28:03 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:28:03 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 08:28:03 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:28:03 - db_utils - INFO - Debugging feedback database:
2024-10-31 08:28:03 - db_utils - INFO -   Database version: 0
2024-10-31 08:28:03 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 08:28:03 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:28:03 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -   Structure of feedback table:
2024-10-31 08:28:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:28:03 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:03 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 08:28:03 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:28:03 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 08:28:03 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:28:03 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 08:28:03 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:28:03 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:28:03 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:28:03 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:28:03 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:28:03 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:28:03 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:28:03 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:28:03 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:28:03 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:28:03 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:28:03 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:28:03 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 08:28:03 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 08:28:03 - db_utils - INFO - login_history table structure is correct
2024-10-31 08:28:03 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 08:28:03 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:28:03 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:28:03 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 08:28:03 - customer_utils - INFO - Found 94 customers in database
2024-10-31 08:28:03 - customer_utils - INFO - Consistency check completed
2024-10-31 08:28:03 - customer_utils - INFO - Database connection closed
2024-10-31 08:28:03 - customer_utils - INFO - Validating customers and passwords
2024-10-31 08:28:03 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:28:03 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:28:03 - customer_utils - INFO - Customer and password validation complete
2024-10-31 08:28:03 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 08:28:03 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 08:28:03 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 08:28:03 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 08:28:03 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 08:28:03 - db_utils - INFO - Database index creation completed
2024-10-31 08:28:03 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:28:03 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:28:03 - __main__ - INFO - Application setup complete
2024-10-31 08:28:03 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 08:28:03 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-31 08:28:03 - tun_utils - WARNING - hent_bestillinger() is deprecated, use get_bookings() instead
2024-10-31 08:28:03 - tun_utils - INFO - Starting get_bookings with start_date=None, end_date=None
2024-10-31 08:28:03 - tun_utils - INFO - Successfully retrieved 2 bookings
2024-10-31 08:28:03 - __main__ - INFO - Application shutting down
2024-10-31 08:28:04 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 08:28:04 - __main__ - INFO - Starting application initialization
2024-10-31 08:28:04 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 08:28:04 - db_utils - INFO - Debugging login_history database:
2024-10-31 08:28:04 - db_utils - INFO -   Database version: 0
2024-10-31 08:28:04 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 08:28:04 - db_utils - INFO -   Structure of login_history table:
2024-10-31 08:28:04 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 08:28:04 - db_utils - INFO -   Row count in login_history: 472
2024-10-31 08:28:04 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:28:04 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 08:28:04 - db_utils - INFO -   Database version: 0
2024-10-31 08:28:04 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 08:28:04 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 08:28:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:28:04 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 08:28:04 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 08:28:04 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:28:04 - db_utils - INFO - Debugging stroing database:
2024-10-31 08:28:04 - db_utils - INFO -   Database version: 0
2024-10-31 08:28:04 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 08:28:04 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:28:04 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 08:28:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:28:04 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 08:28:04 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:28:04 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 08:28:04 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:28:04 - db_utils - INFO - Debugging feedback database:
2024-10-31 08:28:04 - db_utils - INFO -   Database version: 0
2024-10-31 08:28:04 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 08:28:04 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 08:28:04 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -   Structure of feedback table:
2024-10-31 08:28:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 08:28:04 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 08:28:04 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 08:28:04 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 08:28:04 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 08:28:04 - db_utils - INFO -   Test query result: (1,)
2024-10-31 08:28:04 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 08:28:04 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:28:04 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:28:04 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:28:04 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:28:04 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:28:04 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:28:04 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 08:28:04 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 08:28:04 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 08:28:04 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 08:28:04 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 08:28:04 - db_utils - INFO - All database schemas verified and updated
2024-10-31 08:28:04 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 08:28:04 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 08:28:04 - db_utils - INFO - login_history table structure is correct
2024-10-31 08:28:04 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 08:28:04 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:28:04 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:28:04 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 08:28:04 - customer_utils - INFO - Found 94 customers in database
2024-10-31 08:28:04 - customer_utils - INFO - Consistency check completed
2024-10-31 08:28:04 - customer_utils - INFO - Database connection closed
2024-10-31 08:28:04 - customer_utils - INFO - Validating customers and passwords
2024-10-31 08:28:04 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 08:28:04 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 08:28:04 - customer_utils - INFO - Customer and password validation complete
2024-10-31 08:28:04 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 08:28:04 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 08:28:04 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 08:28:04 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 08:28:04 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 08:28:04 - db_utils - INFO - Database index creation completed
2024-10-31 08:28:04 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:28:04 - __main__ - INFO - Application initialization completed successfully
2024-10-31 08:28:04 - __main__ - INFO - Application setup complete
2024-10-31 08:28:04 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 08:28:05 - weather_utils - INFO - Element statistikk:
2024-10-31 08:28:05 - weather_utils - INFO - ElementId: air_temperature
2024-10-31 08:28:05 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:28:05 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:28:05 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:28:05 - weather_utils - INFO -   - Eksempelverdi: 4.8
2024-10-31 08:28:05 - weather_utils - INFO - ElementId: surface_snow_thickness
2024-10-31 08:28:05 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:28:05 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:28:05 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:28:05 - weather_utils - INFO -   - Eksempelverdi: -1
2024-10-31 08:28:05 - weather_utils - INFO - ElementId: sum(precipitation_amount PT1H)
2024-10-31 08:28:05 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:28:05 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:28:05 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:28:05 - weather_utils - INFO -   - Eksempelverdi: 0.1
2024-10-31 08:28:05 - weather_utils - INFO - ElementId: max_wind_speed(wind_from_direction PT1H)
2024-10-31 08:28:05 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:28:05 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:28:05 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:28:05 - weather_utils - INFO -   - Eksempelverdi: 325
2024-10-31 08:28:05 - weather_utils - INFO - ElementId: max(wind_speed_of_gust PT1H)
2024-10-31 08:28:05 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:28:05 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:28:05 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:28:05 - weather_utils - INFO -   - Eksempelverdi: 8.4
2024-10-31 08:28:05 - weather_utils - INFO - ElementId: wind_speed
2024-10-31 08:28:05 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:28:05 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:28:05 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:28:05 - weather_utils - INFO -   - Eksempelverdi: 4.5
2024-10-31 08:28:05 - weather_utils - INFO - ElementId: surface_temperature
2024-10-31 08:28:05 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:28:05 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:28:05 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:28:05 - weather_utils - INFO -   - Eksempelverdi: 4.6
2024-10-31 08:28:05 - weather_utils - INFO - ElementId: relative_humidity
2024-10-31 08:28:05 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:28:05 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:28:05 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:28:05 - weather_utils - INFO -   - Eksempelverdi: 88
2024-10-31 08:28:05 - weather_utils - INFO - ElementId: dew_point_temperature
2024-10-31 08:28:05 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 08:28:05 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 08:28:05 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 08:28:05 - weather_utils - INFO -   - Eksempelverdi: 3
2024-10-31 08:28:05 - __main__ - INFO - Application shutting down
2024-10-31 08:30:01 - db_utils - INFO - Starting to close all database connections
2024-10-31 08:30:01 - db_utils - INFO - Finished closing all database connections and cleaning up files
2024-10-31 09:02:20 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 09:02:20 - __main__ - INFO - Starting application initialization
2024-10-31 09:02:20 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 09:02:20 - db_utils - INFO - Debugging login_history database:
2024-10-31 09:02:20 - db_utils - INFO -   Database version: 0
2024-10-31 09:02:20 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 09:02:20 - db_utils - INFO -   Structure of login_history table:
2024-10-31 09:02:20 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 09:02:20 - db_utils - INFO -   Row count in login_history: 472
2024-10-31 09:02:20 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:02:20 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 09:02:20 - db_utils - INFO -   Database version: 0
2024-10-31 09:02:20 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 09:02:20 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 09:02:20 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:02:20 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 09:02:20 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 09:02:20 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:02:20 - db_utils - INFO - Debugging stroing database:
2024-10-31 09:02:20 - db_utils - INFO -   Database version: 0
2024-10-31 09:02:20 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 09:02:20 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:02:20 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 09:02:20 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:02:20 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 09:02:20 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:02:20 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 09:02:20 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:02:20 - db_utils - INFO - Debugging feedback database:
2024-10-31 09:02:20 - db_utils - INFO -   Database version: 0
2024-10-31 09:02:20 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 09:02:20 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:02:20 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -   Structure of feedback table:
2024-10-31 09:02:20 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:02:20 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:02:20 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 09:02:20 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:02:20 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 09:02:20 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:02:20 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 09:02:20 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:02:20 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:02:20 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:02:20 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:02:20 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:02:20 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:02:20 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:02:20 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:02:20 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:02:20 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:02:20 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:02:20 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:02:20 - db_utils - INFO - Database login_history initialized, updated, and optimized
2024-10-31 09:02:20 - db_utils - INFO - Database tunbroyting initialized, updated, and optimized
2024-10-31 09:02:20 - db_utils - INFO - Database stroing initialized, updated, and optimized
2024-10-31 09:02:20 - db_utils - INFO - Database feedback initialized, updated, and optimized
2024-10-31 09:02:20 - db_utils - INFO - Database customer initialized, updated, and optimized
2024-10-31 09:02:20 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 09:02:20 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 09:02:20 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 09:02:20 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 09:02:20 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 09:02:20 - db_utils - INFO - Database index creation completed
2024-10-31 09:02:20 - db_utils - INFO - Database indexes created
2024-10-31 09:02:20 - db_utils - INFO - Successfully verified connection to stroing.db
2024-10-31 09:02:20 - db_utils - INFO - Successfully verified connection to tunbroyting.db
2024-10-31 09:02:20 - db_utils - INFO - Successfully verified connection to feedback.db
2024-10-31 09:02:20 - db_utils - INFO - Successfully verified connection to login_history.db
2024-10-31 09:02:20 - db_utils - INFO - Successfully verified connection to customer.db
2024-10-31 09:02:20 - db_utils - INFO - Database connections verified
2024-10-31 09:02:20 - db_utils - INFO - All databases initialized, updated, and verified
2024-10-31 09:02:20 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 09:02:20 - db_utils - INFO - login_history table structure is correct
2024-10-31 09:02:20 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 09:02:20 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:02:20 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:02:20 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 09:02:20 - customer_utils - INFO - Found 94 customers in database
2024-10-31 09:02:20 - customer_utils - INFO - Consistency check completed
2024-10-31 09:02:20 - customer_utils - INFO - Database connection closed
2024-10-31 09:02:20 - customer_utils - INFO - Validating customers and passwords
2024-10-31 09:02:20 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:02:20 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:02:20 - customer_utils - INFO - Customer and password validation complete
2024-10-31 09:02:20 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 09:02:20 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 09:02:20 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 09:02:20 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 09:02:20 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 09:02:20 - db_utils - INFO - Database index creation completed
2024-10-31 09:02:20 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:02:20 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:02:20 - __main__ - INFO - Application setup complete
2024-10-31 09:02:20 - __main__ - INFO - Application shutting down
2024-10-31 09:03:03 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 09:03:03 - __main__ - INFO - Starting application initialization
2024-10-31 09:03:03 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 09:03:03 - db_utils - INFO - Debugging login_history database:
2024-10-31 09:03:03 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:03 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 09:03:03 - db_utils - INFO -   Structure of login_history table:
2024-10-31 09:03:03 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 09:03:03 - db_utils - INFO -   Row count in login_history: 472
2024-10-31 09:03:03 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:03 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 09:03:03 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:03 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 09:03:03 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 09:03:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:03:03 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 09:03:03 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 09:03:03 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:03 - db_utils - INFO - Debugging stroing database:
2024-10-31 09:03:03 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:03 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 09:03:03 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:03:03 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 09:03:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:03:03 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 09:03:03 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:03:03 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 09:03:03 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:03 - db_utils - INFO - Debugging feedback database:
2024-10-31 09:03:03 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:03 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 09:03:03 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:03:03 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -   Structure of feedback table:
2024-10-31 09:03:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:03:03 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 09:03:03 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:03:03 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 09:03:03 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:03 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 09:03:03 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:03:03 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:03:03 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:03:03 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:03:03 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:03:03 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:03:03 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:03:03 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:03:03 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:03:03 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:03:03 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:03:03 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:03:03 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 09:03:03 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 09:03:03 - db_utils - INFO - login_history table structure is correct
2024-10-31 09:03:03 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 09:03:03 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:03:03 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:03:03 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 09:03:03 - customer_utils - INFO - Found 94 customers in database
2024-10-31 09:03:03 - customer_utils - INFO - Consistency check completed
2024-10-31 09:03:03 - customer_utils - INFO - Database connection closed
2024-10-31 09:03:03 - customer_utils - INFO - Validating customers and passwords
2024-10-31 09:03:03 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:03:03 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:03:03 - customer_utils - INFO - Customer and password validation complete
2024-10-31 09:03:03 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 09:03:03 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 09:03:03 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 09:03:03 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 09:03:03 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 09:03:03 - db_utils - INFO - Database index creation completed
2024-10-31 09:03:03 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:03:03 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:03:03 - __main__ - INFO - Application setup complete
2024-10-31 09:03:03 - auth_utils - INFO - Login attempt for ID: 999
2024-10-31 09:03:03 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 09:03:03 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 09:03:03 - db_utils - INFO - Attempting to create database engine...
2024-10-31 09:03:03 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 09:03:03 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-31 09:03:03 - auth_utils - INFO - User 999 authenticated successfully
2024-10-31 09:03:03 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 09:03:03 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-31 09:03:03 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-31 09:03:03 - auth_utils - INFO - Successful login for ID: 999
2024-10-31 09:03:03 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-31 09:03:03 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 09:03:03 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 09:03:03 - db_utils - INFO - Attempting to create database engine...
2024-10-31 09:03:03 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 09:03:03 - auth_utils - INFO - Rate limit reset for user 999
2024-10-31 09:03:03 - __main__ - INFO - Application shutting down
2024-10-31 09:03:03 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 09:03:03 - __main__ - INFO - Starting application initialization
2024-10-31 09:03:03 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 09:03:03 - db_utils - INFO - Debugging login_history database:
2024-10-31 09:03:03 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:03 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 09:03:03 - db_utils - INFO -   Structure of login_history table:
2024-10-31 09:03:03 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 09:03:03 - db_utils - INFO -   Row count in login_history: 473
2024-10-31 09:03:03 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:03 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 09:03:03 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:03 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 09:03:03 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 09:03:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:03:03 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 09:03:03 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 09:03:03 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:03 - db_utils - INFO - Debugging stroing database:
2024-10-31 09:03:03 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:03 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 09:03:03 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:03:03 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 09:03:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:03:03 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 09:03:03 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:03:03 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 09:03:03 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:03 - db_utils - INFO - Debugging feedback database:
2024-10-31 09:03:03 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:03 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 09:03:03 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:03:03 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -   Structure of feedback table:
2024-10-31 09:03:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:03:03 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:03 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 09:03:03 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:03:03 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 09:03:03 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:03 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 09:03:03 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:03:03 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:03:03 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:03:03 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:03:03 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:03:03 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:03:03 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:03:03 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:03:03 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:03:03 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:03:03 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:03:03 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:03:03 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 09:03:03 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 09:03:03 - db_utils - INFO - login_history table structure is correct
2024-10-31 09:03:03 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 09:03:03 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:03:03 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:03:03 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 09:03:03 - customer_utils - INFO - Found 94 customers in database
2024-10-31 09:03:03 - customer_utils - INFO - Consistency check completed
2024-10-31 09:03:03 - customer_utils - INFO - Database connection closed
2024-10-31 09:03:03 - customer_utils - INFO - Validating customers and passwords
2024-10-31 09:03:03 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:03:03 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:03:03 - customer_utils - INFO - Customer and password validation complete
2024-10-31 09:03:03 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 09:03:03 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 09:03:03 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 09:03:03 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 09:03:03 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 09:03:03 - db_utils - INFO - Database index creation completed
2024-10-31 09:03:03 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:03:03 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:03:03 - __main__ - INFO - Application setup complete
2024-10-31 09:03:03 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 09:03:03 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-31 09:03:03 - tun_utils - WARNING - hent_bestillinger() is deprecated, use get_bookings() instead
2024-10-31 09:03:03 - tun_utils - INFO - Starting get_bookings with start_date=None, end_date=None
2024-10-31 09:03:03 - tun_utils - INFO - Successfully retrieved 2 bookings
2024-10-31 09:03:03 - __main__ - INFO - Application shutting down
2024-10-31 09:03:05 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 09:03:05 - __main__ - INFO - Starting application initialization
2024-10-31 09:03:05 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 09:03:05 - db_utils - INFO - Debugging login_history database:
2024-10-31 09:03:05 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:05 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 09:03:05 - db_utils - INFO -   Structure of login_history table:
2024-10-31 09:03:05 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 09:03:05 - db_utils - INFO -   Row count in login_history: 473
2024-10-31 09:03:05 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:05 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 09:03:05 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:05 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 09:03:05 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 09:03:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:03:05 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 09:03:05 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 09:03:05 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:05 - db_utils - INFO - Debugging stroing database:
2024-10-31 09:03:05 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:05 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 09:03:05 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:03:05 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 09:03:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:03:05 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 09:03:05 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:03:05 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 09:03:05 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:05 - db_utils - INFO - Debugging feedback database:
2024-10-31 09:03:05 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:05 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 09:03:05 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:03:05 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -   Structure of feedback table:
2024-10-31 09:03:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:03:05 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:05 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 09:03:05 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:03:05 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 09:03:05 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:05 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 09:03:05 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:03:05 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:03:05 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:03:05 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:03:05 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:03:05 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:03:05 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:03:05 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:03:05 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:03:05 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:03:05 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:03:05 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:03:05 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 09:03:05 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 09:03:05 - db_utils - INFO - login_history table structure is correct
2024-10-31 09:03:05 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 09:03:05 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:03:05 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:03:05 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 09:03:05 - customer_utils - INFO - Found 94 customers in database
2024-10-31 09:03:05 - customer_utils - INFO - Consistency check completed
2024-10-31 09:03:05 - customer_utils - INFO - Database connection closed
2024-10-31 09:03:05 - customer_utils - INFO - Validating customers and passwords
2024-10-31 09:03:05 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:03:05 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:03:05 - customer_utils - INFO - Customer and password validation complete
2024-10-31 09:03:05 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 09:03:05 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 09:03:05 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 09:03:05 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 09:03:05 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 09:03:05 - db_utils - INFO - Database index creation completed
2024-10-31 09:03:05 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:03:05 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:03:05 - __main__ - INFO - Application setup complete
2024-10-31 09:03:05 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 09:03:05 - weather_utils - INFO - Element statistikk:
2024-10-31 09:03:05 - weather_utils - INFO - ElementId: air_temperature
2024-10-31 09:03:05 - weather_utils - INFO -   - Totalt antall verdier: 22
2024-10-31 09:03:05 - weather_utils - INFO -   - Antall ikke-null verdier: 22
2024-10-31 09:03:05 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:05 - weather_utils - INFO -   - Eksempelverdi: 4.7
2024-10-31 09:03:05 - weather_utils - INFO - ElementId: surface_snow_thickness
2024-10-31 09:03:05 - weather_utils - INFO -   - Totalt antall verdier: 22
2024-10-31 09:03:05 - weather_utils - INFO -   - Antall ikke-null verdier: 22
2024-10-31 09:03:05 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:05 - weather_utils - INFO -   - Eksempelverdi: -1
2024-10-31 09:03:05 - weather_utils - INFO - ElementId: sum(precipitation_amount PT1H)
2024-10-31 09:03:05 - weather_utils - INFO -   - Totalt antall verdier: 22
2024-10-31 09:03:05 - weather_utils - INFO -   - Antall ikke-null verdier: 22
2024-10-31 09:03:05 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:05 - weather_utils - INFO -   - Eksempelverdi: 0
2024-10-31 09:03:05 - weather_utils - INFO - ElementId: max_wind_speed(wind_from_direction PT1H)
2024-10-31 09:03:05 - weather_utils - INFO -   - Totalt antall verdier: 22
2024-10-31 09:03:05 - weather_utils - INFO -   - Antall ikke-null verdier: 22
2024-10-31 09:03:05 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:05 - weather_utils - INFO -   - Eksempelverdi: 324
2024-10-31 09:03:05 - weather_utils - INFO - ElementId: max(wind_speed_of_gust PT1H)
2024-10-31 09:03:05 - weather_utils - INFO -   - Totalt antall verdier: 22
2024-10-31 09:03:05 - weather_utils - INFO -   - Antall ikke-null verdier: 22
2024-10-31 09:03:05 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:05 - weather_utils - INFO -   - Eksempelverdi: 9
2024-10-31 09:03:05 - weather_utils - INFO - ElementId: wind_speed
2024-10-31 09:03:05 - weather_utils - INFO -   - Totalt antall verdier: 22
2024-10-31 09:03:05 - weather_utils - INFO -   - Antall ikke-null verdier: 22
2024-10-31 09:03:05 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:05 - weather_utils - INFO -   - Eksempelverdi: 5.2
2024-10-31 09:03:05 - weather_utils - INFO - ElementId: surface_temperature
2024-10-31 09:03:05 - weather_utils - INFO -   - Totalt antall verdier: 22
2024-10-31 09:03:05 - weather_utils - INFO -   - Antall ikke-null verdier: 22
2024-10-31 09:03:05 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:05 - weather_utils - INFO -   - Eksempelverdi: 4.6
2024-10-31 09:03:05 - weather_utils - INFO - ElementId: relative_humidity
2024-10-31 09:03:05 - weather_utils - INFO -   - Totalt antall verdier: 22
2024-10-31 09:03:05 - weather_utils - INFO -   - Antall ikke-null verdier: 22
2024-10-31 09:03:05 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:05 - weather_utils - INFO -   - Eksempelverdi: 90
2024-10-31 09:03:05 - weather_utils - INFO - ElementId: dew_point_temperature
2024-10-31 09:03:05 - weather_utils - INFO -   - Totalt antall verdier: 22
2024-10-31 09:03:05 - weather_utils - INFO -   - Antall ikke-null verdier: 22
2024-10-31 09:03:05 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:05 - weather_utils - INFO -   - Eksempelverdi: 3.2
2024-10-31 09:03:06 - __main__ - INFO - Application shutting down
2024-10-31 09:03:09 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 09:03:09 - __main__ - INFO - Starting application initialization
2024-10-31 09:03:09 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 09:03:09 - db_utils - INFO - Debugging login_history database:
2024-10-31 09:03:09 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:09 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 09:03:09 - db_utils - INFO -   Structure of login_history table:
2024-10-31 09:03:09 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 09:03:09 - db_utils - INFO -   Row count in login_history: 473
2024-10-31 09:03:09 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:09 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 09:03:09 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:09 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 09:03:09 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 09:03:09 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:03:09 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 09:03:09 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 09:03:09 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:09 - db_utils - INFO - Debugging stroing database:
2024-10-31 09:03:09 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:09 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 09:03:09 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:03:09 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 09:03:09 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:03:09 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 09:03:09 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:03:09 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 09:03:09 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:09 - db_utils - INFO - Debugging feedback database:
2024-10-31 09:03:09 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:09 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 09:03:09 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:03:09 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -   Structure of feedback table:
2024-10-31 09:03:09 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:03:09 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:09 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 09:03:09 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:03:09 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 09:03:09 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:09 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 09:03:09 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:03:09 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:03:09 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:03:09 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:03:09 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:03:09 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:03:09 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:03:09 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:03:09 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:03:09 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:03:09 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:03:09 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:03:09 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 09:03:09 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 09:03:09 - db_utils - INFO - login_history table structure is correct
2024-10-31 09:03:09 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 09:03:09 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:03:09 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:03:09 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 09:03:09 - customer_utils - INFO - Found 94 customers in database
2024-10-31 09:03:09 - customer_utils - INFO - Consistency check completed
2024-10-31 09:03:09 - customer_utils - INFO - Database connection closed
2024-10-31 09:03:09 - customer_utils - INFO - Validating customers and passwords
2024-10-31 09:03:09 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:03:09 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:03:09 - customer_utils - INFO - Customer and password validation complete
2024-10-31 09:03:09 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 09:03:09 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 09:03:09 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 09:03:09 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 09:03:09 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 09:03:09 - db_utils - INFO - Database index creation completed
2024-10-31 09:03:09 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:03:09 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:03:09 - __main__ - INFO - Application setup complete
2024-10-31 09:03:09 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 09:03:09 - weather_utils - INFO - Element statistikk:
2024-10-31 09:03:09 - weather_utils - INFO - ElementId: air_temperature
2024-10-31 09:03:09 - weather_utils - INFO -   - Totalt antall verdier: 166
2024-10-31 09:03:09 - weather_utils - INFO -   - Antall ikke-null verdier: 166
2024-10-31 09:03:09 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:09 - weather_utils - INFO -   - Eksempelverdi: 7.9
2024-10-31 09:03:09 - weather_utils - INFO - ElementId: surface_snow_thickness
2024-10-31 09:03:09 - weather_utils - INFO -   - Totalt antall verdier: 166
2024-10-31 09:03:09 - weather_utils - INFO -   - Antall ikke-null verdier: 166
2024-10-31 09:03:09 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:09 - weather_utils - INFO -   - Eksempelverdi: -1
2024-10-31 09:03:09 - weather_utils - INFO - ElementId: sum(precipitation_amount PT1H)
2024-10-31 09:03:09 - weather_utils - INFO -   - Totalt antall verdier: 166
2024-10-31 09:03:09 - weather_utils - INFO -   - Antall ikke-null verdier: 166
2024-10-31 09:03:09 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:09 - weather_utils - INFO -   - Eksempelverdi: 0
2024-10-31 09:03:09 - weather_utils - INFO - ElementId: max_wind_speed(wind_from_direction PT1H)
2024-10-31 09:03:09 - weather_utils - INFO -   - Totalt antall verdier: 166
2024-10-31 09:03:09 - weather_utils - INFO -   - Antall ikke-null verdier: 166
2024-10-31 09:03:09 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:09 - weather_utils - INFO -   - Eksempelverdi: 142
2024-10-31 09:03:09 - weather_utils - INFO - ElementId: max(wind_speed_of_gust PT1H)
2024-10-31 09:03:09 - weather_utils - INFO -   - Totalt antall verdier: 166
2024-10-31 09:03:09 - weather_utils - INFO -   - Antall ikke-null verdier: 166
2024-10-31 09:03:09 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:09 - weather_utils - INFO -   - Eksempelverdi: 3.7
2024-10-31 09:03:09 - weather_utils - INFO - ElementId: wind_speed
2024-10-31 09:03:09 - weather_utils - INFO -   - Totalt antall verdier: 166
2024-10-31 09:03:09 - weather_utils - INFO -   - Antall ikke-null verdier: 166
2024-10-31 09:03:09 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:09 - weather_utils - INFO -   - Eksempelverdi: 1.4
2024-10-31 09:03:09 - weather_utils - INFO - ElementId: surface_temperature
2024-10-31 09:03:09 - weather_utils - INFO -   - Totalt antall verdier: 166
2024-10-31 09:03:09 - weather_utils - INFO -   - Antall ikke-null verdier: 166
2024-10-31 09:03:09 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:09 - weather_utils - INFO -   - Eksempelverdi: 7.8
2024-10-31 09:03:09 - weather_utils - INFO - ElementId: relative_humidity
2024-10-31 09:03:09 - weather_utils - INFO -   - Totalt antall verdier: 166
2024-10-31 09:03:09 - weather_utils - INFO -   - Antall ikke-null verdier: 166
2024-10-31 09:03:09 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:09 - weather_utils - INFO -   - Eksempelverdi: 86
2024-10-31 09:03:09 - weather_utils - INFO - ElementId: dew_point_temperature
2024-10-31 09:03:09 - weather_utils - INFO -   - Totalt antall verdier: 166
2024-10-31 09:03:09 - weather_utils - INFO -   - Antall ikke-null verdier: 166
2024-10-31 09:03:09 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:09 - weather_utils - INFO -   - Eksempelverdi: 5.8
2024-10-31 09:03:09 - __main__ - INFO - Application shutting down
2024-10-31 09:03:17 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 09:03:17 - __main__ - INFO - Starting application initialization
2024-10-31 09:03:17 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 09:03:17 - db_utils - INFO - Debugging login_history database:
2024-10-31 09:03:17 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:17 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 09:03:17 - db_utils - INFO -   Structure of login_history table:
2024-10-31 09:03:17 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 09:03:17 - db_utils - INFO -   Row count in login_history: 473
2024-10-31 09:03:17 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:17 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 09:03:17 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:17 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 09:03:17 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 09:03:17 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:03:17 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 09:03:17 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 09:03:17 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:17 - db_utils - INFO - Debugging stroing database:
2024-10-31 09:03:17 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:17 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 09:03:17 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:03:17 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 09:03:17 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:03:17 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 09:03:17 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:03:17 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 09:03:17 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:17 - db_utils - INFO - Debugging feedback database:
2024-10-31 09:03:17 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:17 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 09:03:17 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:03:17 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -   Structure of feedback table:
2024-10-31 09:03:17 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:03:17 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:17 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 09:03:17 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:03:17 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 09:03:17 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:17 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 09:03:17 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:03:17 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:03:17 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:03:17 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:03:17 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:03:17 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:03:17 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:03:17 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:03:17 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:03:17 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:03:17 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:03:17 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:03:17 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 09:03:17 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 09:03:17 - db_utils - INFO - login_history table structure is correct
2024-10-31 09:03:17 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 09:03:17 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:03:17 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:03:17 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 09:03:17 - customer_utils - INFO - Found 94 customers in database
2024-10-31 09:03:17 - customer_utils - INFO - Consistency check completed
2024-10-31 09:03:17 - customer_utils - INFO - Database connection closed
2024-10-31 09:03:17 - customer_utils - INFO - Validating customers and passwords
2024-10-31 09:03:17 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:03:17 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:03:17 - customer_utils - INFO - Customer and password validation complete
2024-10-31 09:03:17 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 09:03:17 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 09:03:17 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 09:03:17 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 09:03:17 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 09:03:17 - db_utils - INFO - Database index creation completed
2024-10-31 09:03:17 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:03:17 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:03:17 - __main__ - INFO - Application setup complete
2024-10-31 09:03:17 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 09:03:30 - weather_utils - INFO - Element statistikk:
2024-10-31 09:03:30 - weather_utils - INFO - ElementId: air_temperature
2024-10-31 09:03:30 - weather_utils - INFO -   - Totalt antall verdier: 5228
2024-10-31 09:03:30 - weather_utils - INFO -   - Antall ikke-null verdier: 5228
2024-10-31 09:03:30 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:30 - weather_utils - INFO -   - Eksempelverdi: 3.2
2024-10-31 09:03:30 - weather_utils - INFO - ElementId: surface_snow_thickness
2024-10-31 09:03:30 - weather_utils - INFO -   - Totalt antall verdier: 4769
2024-10-31 09:03:30 - weather_utils - INFO -   - Antall ikke-null verdier: 4769
2024-10-31 09:03:30 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:30 - weather_utils - INFO -   - Eksempelverdi: 55.3
2024-10-31 09:03:30 - weather_utils - INFO - ElementId: sum(precipitation_amount PT1H)
2024-10-31 09:03:30 - weather_utils - INFO -   - Totalt antall verdier: 4992
2024-10-31 09:03:30 - weather_utils - INFO -   - Antall ikke-null verdier: 4992
2024-10-31 09:03:30 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:30 - weather_utils - INFO -   - Eksempelverdi: 0
2024-10-31 09:03:30 - weather_utils - INFO - ElementId: max_wind_speed(wind_from_direction PT1H)
2024-10-31 09:03:30 - weather_utils - INFO -   - Totalt antall verdier: 5228
2024-10-31 09:03:30 - weather_utils - INFO -   - Antall ikke-null verdier: 5228
2024-10-31 09:03:30 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:30 - weather_utils - INFO -   - Eksempelverdi: 145
2024-10-31 09:03:30 - weather_utils - INFO - ElementId: max(wind_speed_of_gust PT1H)
2024-10-31 09:03:30 - weather_utils - INFO -   - Totalt antall verdier: 5228
2024-10-31 09:03:30 - weather_utils - INFO -   - Antall ikke-null verdier: 5228
2024-10-31 09:03:30 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:30 - weather_utils - INFO -   - Eksempelverdi: 17.5
2024-10-31 09:03:30 - weather_utils - INFO - ElementId: wind_speed
2024-10-31 09:03:30 - weather_utils - INFO -   - Totalt antall verdier: 5228
2024-10-31 09:03:30 - weather_utils - INFO -   - Antall ikke-null verdier: 5228
2024-10-31 09:03:30 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:30 - weather_utils - INFO -   - Eksempelverdi: 10.7
2024-10-31 09:03:30 - weather_utils - INFO - ElementId: surface_temperature
2024-10-31 09:03:30 - weather_utils - INFO -   - Totalt antall verdier: 5228
2024-10-31 09:03:30 - weather_utils - INFO -   - Antall ikke-null verdier: 5228
2024-10-31 09:03:30 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:30 - weather_utils - INFO -   - Eksempelverdi: 1
2024-10-31 09:03:30 - weather_utils - INFO - ElementId: relative_humidity
2024-10-31 09:03:30 - weather_utils - INFO -   - Totalt antall verdier: 5228
2024-10-31 09:03:30 - weather_utils - INFO -   - Antall ikke-null verdier: 5228
2024-10-31 09:03:30 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:30 - weather_utils - INFO -   - Eksempelverdi: 74
2024-10-31 09:03:30 - weather_utils - INFO - ElementId: dew_point_temperature
2024-10-31 09:03:30 - weather_utils - INFO -   - Totalt antall verdier: 5228
2024-10-31 09:03:30 - weather_utils - INFO -   - Antall ikke-null verdier: 5228
2024-10-31 09:03:30 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:30 - weather_utils - INFO -   - Eksempelverdi: -0.9
2024-10-31 09:03:31 - __main__ - INFO - Application shutting down
2024-10-31 09:03:39 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 09:03:39 - __main__ - INFO - Starting application initialization
2024-10-31 09:03:39 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 09:03:39 - db_utils - INFO - Debugging login_history database:
2024-10-31 09:03:39 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:39 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 09:03:39 - db_utils - INFO -   Structure of login_history table:
2024-10-31 09:03:39 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 09:03:39 - db_utils - INFO -   Row count in login_history: 473
2024-10-31 09:03:39 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:39 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 09:03:39 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:39 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 09:03:39 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 09:03:39 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:03:39 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 09:03:39 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 09:03:39 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:39 - db_utils - INFO - Debugging stroing database:
2024-10-31 09:03:39 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:39 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 09:03:39 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:03:39 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 09:03:39 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:03:39 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 09:03:39 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:03:39 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 09:03:39 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:39 - db_utils - INFO - Debugging feedback database:
2024-10-31 09:03:39 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:39 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 09:03:39 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:03:39 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -   Structure of feedback table:
2024-10-31 09:03:39 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:03:39 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:39 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 09:03:39 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:03:39 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 09:03:39 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:39 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 09:03:39 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:03:39 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:03:39 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:03:39 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:03:39 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:03:39 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:03:39 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:03:39 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:03:39 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:03:39 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:03:39 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:03:39 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:03:39 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 09:03:39 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 09:03:39 - db_utils - INFO - login_history table structure is correct
2024-10-31 09:03:39 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 09:03:39 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:03:39 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:03:39 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 09:03:39 - customer_utils - INFO - Found 94 customers in database
2024-10-31 09:03:39 - customer_utils - INFO - Consistency check completed
2024-10-31 09:03:39 - customer_utils - INFO - Database connection closed
2024-10-31 09:03:39 - customer_utils - INFO - Validating customers and passwords
2024-10-31 09:03:39 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:03:39 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:03:39 - customer_utils - INFO - Customer and password validation complete
2024-10-31 09:03:39 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 09:03:39 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 09:03:39 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 09:03:39 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 09:03:39 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 09:03:39 - db_utils - INFO - Database index creation completed
2024-10-31 09:03:39 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:03:39 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:03:39 - __main__ - INFO - Application setup complete
2024-10-31 09:03:39 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 09:03:40 - weather_utils - INFO - Element statistikk:
2024-10-31 09:03:40 - weather_utils - INFO - ElementId: air_temperature
2024-10-31 09:03:40 - weather_utils - INFO -   - Totalt antall verdier: 176
2024-10-31 09:03:40 - weather_utils - INFO -   - Antall ikke-null verdier: 176
2024-10-31 09:03:40 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:40 - weather_utils - INFO -   - Eksempelverdi: 6.4
2024-10-31 09:03:40 - weather_utils - INFO - ElementId: surface_snow_thickness
2024-10-31 09:03:40 - weather_utils - INFO -   - Totalt antall verdier: 176
2024-10-31 09:03:40 - weather_utils - INFO -   - Antall ikke-null verdier: 176
2024-10-31 09:03:40 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:40 - weather_utils - INFO -   - Eksempelverdi: -1
2024-10-31 09:03:40 - weather_utils - INFO - ElementId: sum(precipitation_amount PT1H)
2024-10-31 09:03:40 - weather_utils - INFO -   - Totalt antall verdier: 176
2024-10-31 09:03:40 - weather_utils - INFO -   - Antall ikke-null verdier: 176
2024-10-31 09:03:40 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:40 - weather_utils - INFO -   - Eksempelverdi: 0
2024-10-31 09:03:40 - weather_utils - INFO - ElementId: max_wind_speed(wind_from_direction PT1H)
2024-10-31 09:03:40 - weather_utils - INFO -   - Totalt antall verdier: 176
2024-10-31 09:03:40 - weather_utils - INFO -   - Antall ikke-null verdier: 176
2024-10-31 09:03:40 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:40 - weather_utils - INFO -   - Eksempelverdi: 160
2024-10-31 09:03:40 - weather_utils - INFO - ElementId: max(wind_speed_of_gust PT1H)
2024-10-31 09:03:40 - weather_utils - INFO -   - Totalt antall verdier: 176
2024-10-31 09:03:40 - weather_utils - INFO -   - Antall ikke-null verdier: 176
2024-10-31 09:03:40 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:40 - weather_utils - INFO -   - Eksempelverdi: 3.3
2024-10-31 09:03:40 - weather_utils - INFO - ElementId: wind_speed
2024-10-31 09:03:40 - weather_utils - INFO -   - Totalt antall verdier: 176
2024-10-31 09:03:40 - weather_utils - INFO -   - Antall ikke-null verdier: 176
2024-10-31 09:03:40 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:40 - weather_utils - INFO -   - Eksempelverdi: 1.1
2024-10-31 09:03:40 - weather_utils - INFO - ElementId: surface_temperature
2024-10-31 09:03:40 - weather_utils - INFO -   - Totalt antall verdier: 176
2024-10-31 09:03:40 - weather_utils - INFO -   - Antall ikke-null verdier: 176
2024-10-31 09:03:40 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:40 - weather_utils - INFO -   - Eksempelverdi: 6
2024-10-31 09:03:40 - weather_utils - INFO - ElementId: relative_humidity
2024-10-31 09:03:40 - weather_utils - INFO -   - Totalt antall verdier: 176
2024-10-31 09:03:40 - weather_utils - INFO -   - Antall ikke-null verdier: 176
2024-10-31 09:03:40 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:40 - weather_utils - INFO -   - Eksempelverdi: 94
2024-10-31 09:03:40 - weather_utils - INFO - ElementId: dew_point_temperature
2024-10-31 09:03:40 - weather_utils - INFO -   - Totalt antall verdier: 176
2024-10-31 09:03:40 - weather_utils - INFO -   - Antall ikke-null verdier: 176
2024-10-31 09:03:40 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:03:40 - weather_utils - INFO -   - Eksempelverdi: 5.5
2024-10-31 09:03:40 - __main__ - INFO - Application shutting down
2024-10-31 09:03:54 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 09:03:54 - __main__ - INFO - Starting application initialization
2024-10-31 09:03:54 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 09:03:54 - db_utils - INFO - Debugging login_history database:
2024-10-31 09:03:54 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:54 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 09:03:54 - db_utils - INFO -   Structure of login_history table:
2024-10-31 09:03:54 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 09:03:54 - db_utils - INFO -   Row count in login_history: 473
2024-10-31 09:03:54 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:54 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 09:03:54 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:54 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 09:03:54 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 09:03:54 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:03:54 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 09:03:54 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 09:03:54 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:54 - db_utils - INFO - Debugging stroing database:
2024-10-31 09:03:54 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:54 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 09:03:54 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:03:54 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 09:03:54 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:03:54 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 09:03:54 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:03:54 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 09:03:54 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:54 - db_utils - INFO - Debugging feedback database:
2024-10-31 09:03:54 - db_utils - INFO -   Database version: 0
2024-10-31 09:03:54 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 09:03:54 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:03:54 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -   Structure of feedback table:
2024-10-31 09:03:54 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:03:54 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:03:54 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 09:03:54 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:03:54 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 09:03:54 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:03:54 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 09:03:54 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:03:54 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:03:54 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:03:54 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:03:54 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:03:54 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:03:54 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:03:54 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:03:54 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:03:54 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:03:54 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:03:54 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:03:54 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 09:03:54 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 09:03:54 - db_utils - INFO - login_history table structure is correct
2024-10-31 09:03:54 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 09:03:54 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:03:54 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:03:54 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 09:03:54 - customer_utils - INFO - Found 94 customers in database
2024-10-31 09:03:54 - customer_utils - INFO - Consistency check completed
2024-10-31 09:03:54 - customer_utils - INFO - Database connection closed
2024-10-31 09:03:54 - customer_utils - INFO - Validating customers and passwords
2024-10-31 09:03:54 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:03:54 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:03:54 - customer_utils - INFO - Customer and password validation complete
2024-10-31 09:03:54 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 09:03:54 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 09:03:54 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 09:03:54 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 09:03:54 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 09:03:54 - db_utils - INFO - Database index creation completed
2024-10-31 09:03:54 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:03:54 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:03:54 - __main__ - INFO - Application setup complete
2024-10-31 09:03:54 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 09:04:02 - weather_utils - INFO - Element statistikk:
2024-10-31 09:04:02 - weather_utils - INFO - ElementId: air_temperature
2024-10-31 09:04:02 - weather_utils - INFO -   - Totalt antall verdier: 7832
2024-10-31 09:04:02 - weather_utils - INFO -   - Antall ikke-null verdier: 7832
2024-10-31 09:04:02 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:02 - weather_utils - INFO -   - Eksempelverdi: -0.1
2024-10-31 09:04:02 - weather_utils - INFO - ElementId: surface_snow_thickness
2024-10-31 09:04:02 - weather_utils - INFO -   - Totalt antall verdier: 7373
2024-10-31 09:04:02 - weather_utils - INFO -   - Antall ikke-null verdier: 7373
2024-10-31 09:04:02 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:02 - weather_utils - INFO -   - Eksempelverdi: 5.5
2024-10-31 09:04:02 - weather_utils - INFO - ElementId: sum(precipitation_amount PT1H)
2024-10-31 09:04:02 - weather_utils - INFO -   - Totalt antall verdier: 7596
2024-10-31 09:04:02 - weather_utils - INFO -   - Antall ikke-null verdier: 7596
2024-10-31 09:04:02 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:02 - weather_utils - INFO -   - Eksempelverdi: 0
2024-10-31 09:04:02 - weather_utils - INFO - ElementId: max_wind_speed(wind_from_direction PT1H)
2024-10-31 09:04:02 - weather_utils - INFO -   - Totalt antall verdier: 7832
2024-10-31 09:04:02 - weather_utils - INFO -   - Antall ikke-null verdier: 7832
2024-10-31 09:04:02 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:02 - weather_utils - INFO -   - Eksempelverdi: 167
2024-10-31 09:04:02 - weather_utils - INFO - ElementId: max(wind_speed_of_gust PT1H)
2024-10-31 09:04:02 - weather_utils - INFO -   - Totalt antall verdier: 7817
2024-10-31 09:04:02 - weather_utils - INFO -   - Antall ikke-null verdier: 7817
2024-10-31 09:04:02 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:02 - weather_utils - INFO -   - Eksempelverdi: 16
2024-10-31 09:04:02 - weather_utils - INFO - ElementId: wind_speed
2024-10-31 09:04:02 - weather_utils - INFO -   - Totalt antall verdier: 7816
2024-10-31 09:04:02 - weather_utils - INFO -   - Antall ikke-null verdier: 7816
2024-10-31 09:04:02 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:02 - weather_utils - INFO -   - Eksempelverdi: 6.7
2024-10-31 09:04:02 - weather_utils - INFO - ElementId: surface_temperature
2024-10-31 09:04:02 - weather_utils - INFO -   - Totalt antall verdier: 7832
2024-10-31 09:04:02 - weather_utils - INFO -   - Antall ikke-null verdier: 7832
2024-10-31 09:04:02 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:02 - weather_utils - INFO -   - Eksempelverdi: -2.5
2024-10-31 09:04:02 - weather_utils - INFO - ElementId: relative_humidity
2024-10-31 09:04:02 - weather_utils - INFO -   - Totalt antall verdier: 7832
2024-10-31 09:04:02 - weather_utils - INFO -   - Antall ikke-null verdier: 7832
2024-10-31 09:04:02 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:02 - weather_utils - INFO -   - Eksempelverdi: 66
2024-10-31 09:04:02 - weather_utils - INFO - ElementId: dew_point_temperature
2024-10-31 09:04:02 - weather_utils - INFO -   - Totalt antall verdier: 7832
2024-10-31 09:04:02 - weather_utils - INFO -   - Antall ikke-null verdier: 7832
2024-10-31 09:04:02 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:02 - weather_utils - INFO -   - Eksempelverdi: -5.7
2024-10-31 09:04:03 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 09:04:03 - __main__ - INFO - Starting application initialization
2024-10-31 09:04:03 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 09:04:03 - db_utils - INFO - Debugging login_history database:
2024-10-31 09:04:03 - db_utils - INFO -   Database version: 0
2024-10-31 09:04:03 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 09:04:03 - db_utils - INFO -   Structure of login_history table:
2024-10-31 09:04:03 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 09:04:03 - db_utils - INFO -   Row count in login_history: 473
2024-10-31 09:04:03 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:04:03 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 09:04:03 - db_utils - INFO -   Database version: 0
2024-10-31 09:04:03 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 09:04:03 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 09:04:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:04:03 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 09:04:03 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 09:04:03 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:04:03 - db_utils - INFO - Debugging stroing database:
2024-10-31 09:04:03 - db_utils - INFO -   Database version: 0
2024-10-31 09:04:03 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 09:04:03 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:04:03 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 09:04:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:04:03 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 09:04:03 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:04:03 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 09:04:03 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:04:03 - db_utils - INFO - Debugging feedback database:
2024-10-31 09:04:03 - db_utils - INFO -   Database version: 0
2024-10-31 09:04:03 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 09:04:03 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:04:03 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -   Structure of feedback table:
2024-10-31 09:04:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:04:03 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:03 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 09:04:03 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:04:03 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 09:04:03 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:04:03 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 09:04:03 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:04:03 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:04:03 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:04:03 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:04:03 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:04:03 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:04:03 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:04:03 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:04:03 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:04:03 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:04:03 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:04:03 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:04:03 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 09:04:03 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 09:04:03 - db_utils - INFO - login_history table structure is correct
2024-10-31 09:04:03 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 09:04:03 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:04:03 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:04:03 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 09:04:03 - customer_utils - INFO - Found 94 customers in database
2024-10-31 09:04:03 - customer_utils - INFO - Consistency check completed
2024-10-31 09:04:03 - customer_utils - INFO - Database connection closed
2024-10-31 09:04:03 - customer_utils - INFO - Validating customers and passwords
2024-10-31 09:04:03 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:04:03 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:04:03 - customer_utils - INFO - Customer and password validation complete
2024-10-31 09:04:03 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 09:04:03 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 09:04:03 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 09:04:03 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 09:04:03 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 09:04:03 - db_utils - INFO - Database index creation completed
2024-10-31 09:04:03 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:04:03 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:04:03 - __main__ - INFO - Application setup complete
2024-10-31 09:04:03 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 09:04:03 - __main__ - INFO - Application shutting down
2024-10-31 09:04:03 - weather_utils - INFO - Element statistikk:
2024-10-31 09:04:03 - weather_utils - INFO - ElementId: air_temperature
2024-10-31 09:04:03 - weather_utils - INFO -   - Totalt antall verdier: 192
2024-10-31 09:04:03 - weather_utils - INFO -   - Antall ikke-null verdier: 192
2024-10-31 09:04:03 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:03 - weather_utils - INFO -   - Eksempelverdi: -5.6
2024-10-31 09:04:03 - weather_utils - INFO - ElementId: surface_snow_thickness
2024-10-31 09:04:03 - weather_utils - INFO -   - Totalt antall verdier: 192
2024-10-31 09:04:03 - weather_utils - INFO -   - Antall ikke-null verdier: 192
2024-10-31 09:04:03 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:03 - weather_utils - INFO -   - Eksempelverdi: 37.2
2024-10-31 09:04:03 - weather_utils - INFO - ElementId: sum(precipitation_amount PT1H)
2024-10-31 09:04:03 - weather_utils - INFO -   - Totalt antall verdier: 192
2024-10-31 09:04:03 - weather_utils - INFO -   - Antall ikke-null verdier: 192
2024-10-31 09:04:03 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:03 - weather_utils - INFO -   - Eksempelverdi: 0
2024-10-31 09:04:03 - weather_utils - INFO - ElementId: max_wind_speed(wind_from_direction PT1H)
2024-10-31 09:04:03 - weather_utils - INFO -   - Totalt antall verdier: 192
2024-10-31 09:04:03 - weather_utils - INFO -   - Antall ikke-null verdier: 192
2024-10-31 09:04:03 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:03 - weather_utils - INFO -   - Eksempelverdi: 180
2024-10-31 09:04:03 - weather_utils - INFO - ElementId: max(wind_speed_of_gust PT1H)
2024-10-31 09:04:03 - weather_utils - INFO -   - Totalt antall verdier: 192
2024-10-31 09:04:03 - weather_utils - INFO -   - Antall ikke-null verdier: 192
2024-10-31 09:04:03 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:03 - weather_utils - INFO -   - Eksempelverdi: 23.1
2024-10-31 09:04:03 - weather_utils - INFO - ElementId: wind_speed
2024-10-31 09:04:03 - weather_utils - INFO -   - Totalt antall verdier: 192
2024-10-31 09:04:03 - weather_utils - INFO -   - Antall ikke-null verdier: 192
2024-10-31 09:04:03 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:03 - weather_utils - INFO -   - Eksempelverdi: 9.8
2024-10-31 09:04:03 - weather_utils - INFO - ElementId: surface_temperature
2024-10-31 09:04:03 - weather_utils - INFO -   - Totalt antall verdier: 192
2024-10-31 09:04:03 - weather_utils - INFO -   - Antall ikke-null verdier: 192
2024-10-31 09:04:03 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:03 - weather_utils - INFO -   - Eksempelverdi: -7.1
2024-10-31 09:04:03 - weather_utils - INFO - ElementId: relative_humidity
2024-10-31 09:04:03 - weather_utils - INFO -   - Totalt antall verdier: 192
2024-10-31 09:04:03 - weather_utils - INFO -   - Antall ikke-null verdier: 192
2024-10-31 09:04:03 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:03 - weather_utils - INFO -   - Eksempelverdi: 67
2024-10-31 09:04:03 - weather_utils - INFO - ElementId: dew_point_temperature
2024-10-31 09:04:03 - weather_utils - INFO -   - Totalt antall verdier: 192
2024-10-31 09:04:03 - weather_utils - INFO -   - Antall ikke-null verdier: 192
2024-10-31 09:04:03 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:03 - weather_utils - INFO -   - Eksempelverdi: -10.7
2024-10-31 09:04:04 - __main__ - INFO - Application shutting down
2024-10-31 09:04:19 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 09:04:19 - __main__ - INFO - Starting application initialization
2024-10-31 09:04:19 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 09:04:19 - db_utils - INFO - Debugging login_history database:
2024-10-31 09:04:19 - db_utils - INFO -   Database version: 0
2024-10-31 09:04:19 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 09:04:19 - db_utils - INFO -   Structure of login_history table:
2024-10-31 09:04:19 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 09:04:19 - db_utils - INFO -   Row count in login_history: 473
2024-10-31 09:04:19 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:04:19 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 09:04:19 - db_utils - INFO -   Database version: 0
2024-10-31 09:04:19 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 09:04:19 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 09:04:19 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:04:19 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 09:04:19 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 09:04:19 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:04:19 - db_utils - INFO - Debugging stroing database:
2024-10-31 09:04:19 - db_utils - INFO -   Database version: 0
2024-10-31 09:04:19 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 09:04:19 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:04:19 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 09:04:19 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:04:19 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 09:04:19 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:04:19 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 09:04:19 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:04:19 - db_utils - INFO - Debugging feedback database:
2024-10-31 09:04:19 - db_utils - INFO -   Database version: 0
2024-10-31 09:04:19 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 09:04:19 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:04:19 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -   Structure of feedback table:
2024-10-31 09:04:19 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:04:19 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:04:19 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 09:04:19 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:04:19 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 09:04:19 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:04:19 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 09:04:19 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:04:19 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:04:19 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:04:19 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:04:19 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:04:19 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:04:19 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:04:19 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:04:19 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:04:19 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:04:19 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:04:19 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:04:19 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 09:04:19 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 09:04:19 - db_utils - INFO - login_history table structure is correct
2024-10-31 09:04:19 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 09:04:19 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:04:19 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:04:19 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 09:04:19 - customer_utils - INFO - Found 94 customers in database
2024-10-31 09:04:19 - customer_utils - INFO - Consistency check completed
2024-10-31 09:04:19 - customer_utils - INFO - Database connection closed
2024-10-31 09:04:19 - customer_utils - INFO - Validating customers and passwords
2024-10-31 09:04:19 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:04:19 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:04:19 - customer_utils - INFO - Customer and password validation complete
2024-10-31 09:04:19 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 09:04:19 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 09:04:19 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 09:04:19 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 09:04:19 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 09:04:19 - db_utils - INFO - Database index creation completed
2024-10-31 09:04:19 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:04:19 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:04:19 - __main__ - INFO - Application setup complete
2024-10-31 09:04:19 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 09:04:20 - weather_utils - INFO - Element statistikk:
2024-10-31 09:04:20 - weather_utils - INFO - ElementId: air_temperature
2024-10-31 09:04:20 - weather_utils - INFO -   - Totalt antall verdier: 744
2024-10-31 09:04:20 - weather_utils - INFO -   - Antall ikke-null verdier: 744
2024-10-31 09:04:20 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:20 - weather_utils - INFO -   - Eksempelverdi: -0.1
2024-10-31 09:04:20 - weather_utils - INFO - ElementId: surface_snow_thickness
2024-10-31 09:04:20 - weather_utils - INFO -   - Totalt antall verdier: 744
2024-10-31 09:04:20 - weather_utils - INFO -   - Antall ikke-null verdier: 744
2024-10-31 09:04:20 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:20 - weather_utils - INFO -   - Eksempelverdi: 5.5
2024-10-31 09:04:20 - weather_utils - INFO - ElementId: sum(precipitation_amount PT1H)
2024-10-31 09:04:20 - weather_utils - INFO -   - Totalt antall verdier: 744
2024-10-31 09:04:20 - weather_utils - INFO -   - Antall ikke-null verdier: 744
2024-10-31 09:04:20 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:20 - weather_utils - INFO -   - Eksempelverdi: 0
2024-10-31 09:04:20 - weather_utils - INFO - ElementId: max_wind_speed(wind_from_direction PT1H)
2024-10-31 09:04:20 - weather_utils - INFO -   - Totalt antall verdier: 744
2024-10-31 09:04:20 - weather_utils - INFO -   - Antall ikke-null verdier: 744
2024-10-31 09:04:20 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:20 - weather_utils - INFO -   - Eksempelverdi: 167
2024-10-31 09:04:20 - weather_utils - INFO - ElementId: max(wind_speed_of_gust PT1H)
2024-10-31 09:04:20 - weather_utils - INFO -   - Totalt antall verdier: 729
2024-10-31 09:04:20 - weather_utils - INFO -   - Antall ikke-null verdier: 729
2024-10-31 09:04:20 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:20 - weather_utils - INFO -   - Eksempelverdi: 16
2024-10-31 09:04:20 - weather_utils - INFO - ElementId: wind_speed
2024-10-31 09:04:20 - weather_utils - INFO -   - Totalt antall verdier: 728
2024-10-31 09:04:20 - weather_utils - INFO -   - Antall ikke-null verdier: 728
2024-10-31 09:04:20 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:20 - weather_utils - INFO -   - Eksempelverdi: 6.7
2024-10-31 09:04:20 - weather_utils - INFO - ElementId: surface_temperature
2024-10-31 09:04:20 - weather_utils - INFO -   - Totalt antall verdier: 744
2024-10-31 09:04:20 - weather_utils - INFO -   - Antall ikke-null verdier: 744
2024-10-31 09:04:20 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:20 - weather_utils - INFO -   - Eksempelverdi: -2.5
2024-10-31 09:04:20 - weather_utils - INFO - ElementId: relative_humidity
2024-10-31 09:04:20 - weather_utils - INFO -   - Totalt antall verdier: 744
2024-10-31 09:04:20 - weather_utils - INFO -   - Antall ikke-null verdier: 744
2024-10-31 09:04:20 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:20 - weather_utils - INFO -   - Eksempelverdi: 66
2024-10-31 09:04:20 - weather_utils - INFO - ElementId: dew_point_temperature
2024-10-31 09:04:20 - weather_utils - INFO -   - Totalt antall verdier: 744
2024-10-31 09:04:20 - weather_utils - INFO -   - Antall ikke-null verdier: 744
2024-10-31 09:04:20 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:04:20 - weather_utils - INFO -   - Eksempelverdi: -5.7
2024-10-31 09:04:20 - __main__ - INFO - Application shutting down
2024-10-31 09:11:07 - db_utils - INFO - Starting to close all database connections
2024-10-31 09:11:07 - db_utils - INFO - Finished closing all database connections and cleaning up files
2024-10-31 09:24:53 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 09:24:53 - __main__ - INFO - Starting application initialization
2024-10-31 09:24:53 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 09:24:53 - db_utils - INFO - Debugging login_history database:
2024-10-31 09:24:53 - db_utils - INFO -   Database version: 0
2024-10-31 09:24:53 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 09:24:53 - db_utils - INFO -   Structure of login_history table:
2024-10-31 09:24:53 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 09:24:53 - db_utils - INFO -   Row count in login_history: 473
2024-10-31 09:24:53 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:24:53 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 09:24:53 - db_utils - INFO -   Database version: 0
2024-10-31 09:24:53 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 09:24:53 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 09:24:53 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:24:53 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 09:24:53 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 09:24:53 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:24:53 - db_utils - INFO - Debugging stroing database:
2024-10-31 09:24:53 - db_utils - INFO -   Database version: 0
2024-10-31 09:24:53 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 09:24:53 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:24:53 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 09:24:53 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:24:53 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 09:24:53 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:24:53 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 09:24:53 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:24:53 - db_utils - INFO - Debugging feedback database:
2024-10-31 09:24:53 - db_utils - INFO -   Database version: 0
2024-10-31 09:24:53 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 09:24:53 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:24:53 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -   Structure of feedback table:
2024-10-31 09:24:53 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:24:53 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:53 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 09:24:53 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:24:53 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 09:24:53 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:24:53 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 09:24:53 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:24:53 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:24:53 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:24:53 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:24:53 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:24:53 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:24:53 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:24:53 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:24:53 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:24:53 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:24:53 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:24:53 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:24:53 - db_utils - INFO - Database login_history initialized, updated, and optimized
2024-10-31 09:24:53 - db_utils - INFO - Database tunbroyting initialized, updated, and optimized
2024-10-31 09:24:53 - db_utils - INFO - Database stroing initialized, updated, and optimized
2024-10-31 09:24:53 - db_utils - INFO - Database feedback initialized, updated, and optimized
2024-10-31 09:24:53 - db_utils - INFO - Database customer initialized, updated, and optimized
2024-10-31 09:24:53 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 09:24:53 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 09:24:53 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 09:24:53 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 09:24:53 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 09:24:53 - db_utils - INFO - Database index creation completed
2024-10-31 09:24:53 - db_utils - INFO - Database indexes created
2024-10-31 09:24:53 - db_utils - INFO - Successfully verified connection to stroing.db
2024-10-31 09:24:53 - db_utils - INFO - Successfully verified connection to tunbroyting.db
2024-10-31 09:24:53 - db_utils - INFO - Successfully verified connection to feedback.db
2024-10-31 09:24:53 - db_utils - INFO - Successfully verified connection to login_history.db
2024-10-31 09:24:53 - db_utils - INFO - Successfully verified connection to customer.db
2024-10-31 09:24:53 - db_utils - INFO - Database connections verified
2024-10-31 09:24:53 - db_utils - INFO - All databases initialized, updated, and verified
2024-10-31 09:24:53 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 09:24:53 - db_utils - INFO - login_history table structure is correct
2024-10-31 09:24:53 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 09:24:53 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:24:53 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:24:53 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 09:24:53 - customer_utils - INFO - Found 94 customers in database
2024-10-31 09:24:53 - customer_utils - INFO - Consistency check completed
2024-10-31 09:24:53 - customer_utils - INFO - Database connection closed
2024-10-31 09:24:53 - customer_utils - INFO - Validating customers and passwords
2024-10-31 09:24:53 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:24:53 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:24:53 - customer_utils - INFO - Customer and password validation complete
2024-10-31 09:24:53 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 09:24:53 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 09:24:53 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 09:24:53 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 09:24:53 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 09:24:53 - db_utils - INFO - Database index creation completed
2024-10-31 09:24:53 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:24:53 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:24:53 - __main__ - INFO - Application setup complete
2024-10-31 09:24:53 - __main__ - INFO - Application shutting down
2024-10-31 09:24:55 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 09:24:55 - __main__ - INFO - Starting application initialization
2024-10-31 09:24:55 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 09:24:55 - db_utils - INFO - Debugging login_history database:
2024-10-31 09:24:55 - db_utils - INFO -   Database version: 0
2024-10-31 09:24:55 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 09:24:55 - db_utils - INFO -   Structure of login_history table:
2024-10-31 09:24:55 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 09:24:55 - db_utils - INFO -   Row count in login_history: 473
2024-10-31 09:24:55 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:24:55 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 09:24:55 - db_utils - INFO -   Database version: 0
2024-10-31 09:24:55 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 09:24:55 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 09:24:55 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:24:55 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 09:24:55 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 09:24:55 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:24:55 - db_utils - INFO - Debugging stroing database:
2024-10-31 09:24:55 - db_utils - INFO -   Database version: 0
2024-10-31 09:24:55 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 09:24:55 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:24:55 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 09:24:55 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:24:55 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 09:24:55 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:24:55 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 09:24:55 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:24:55 - db_utils - INFO - Debugging feedback database:
2024-10-31 09:24:55 - db_utils - INFO -   Database version: 0
2024-10-31 09:24:55 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 09:24:55 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:24:55 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -   Structure of feedback table:
2024-10-31 09:24:55 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:24:55 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 09:24:55 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:24:55 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 09:24:55 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:24:55 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 09:24:55 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:24:55 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:24:55 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:24:55 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:24:55 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:24:55 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:24:55 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:24:55 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:24:55 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:24:55 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:24:55 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:24:55 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:24:55 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 09:24:55 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 09:24:55 - db_utils - INFO - login_history table structure is correct
2024-10-31 09:24:55 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 09:24:55 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:24:55 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:24:55 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 09:24:55 - customer_utils - INFO - Found 94 customers in database
2024-10-31 09:24:55 - customer_utils - INFO - Consistency check completed
2024-10-31 09:24:55 - customer_utils - INFO - Database connection closed
2024-10-31 09:24:55 - customer_utils - INFO - Validating customers and passwords
2024-10-31 09:24:55 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:24:55 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:24:55 - customer_utils - INFO - Customer and password validation complete
2024-10-31 09:24:55 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 09:24:55 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 09:24:55 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 09:24:55 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 09:24:55 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 09:24:55 - db_utils - INFO - Database index creation completed
2024-10-31 09:24:55 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:24:55 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:24:55 - __main__ - INFO - Application setup complete
2024-10-31 09:24:55 - auth_utils - INFO - Login attempt for ID: 999
2024-10-31 09:24:55 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 09:24:55 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 09:24:55 - db_utils - INFO - Attempting to create database engine...
2024-10-31 09:24:55 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 09:24:55 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-31 09:24:55 - auth_utils - INFO - User 999 authenticated successfully
2024-10-31 09:24:55 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 09:24:55 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-31 09:24:55 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-31 09:24:55 - auth_utils - INFO - Successful login for ID: 999
2024-10-31 09:24:55 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-31 09:24:55 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-31 09:24:55 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-31 09:24:55 - db_utils - INFO - Attempting to create database engine...
2024-10-31 09:24:55 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-31 09:24:55 - auth_utils - INFO - Rate limit reset for user 999
2024-10-31 09:24:55 - __main__ - INFO - Application shutting down
2024-10-31 09:24:55 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 09:24:55 - __main__ - INFO - Starting application initialization
2024-10-31 09:24:55 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 09:24:55 - db_utils - INFO - Debugging login_history database:
2024-10-31 09:24:55 - db_utils - INFO -   Database version: 0
2024-10-31 09:24:55 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 09:24:55 - db_utils - INFO -   Structure of login_history table:
2024-10-31 09:24:55 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 09:24:55 - db_utils - INFO -   Row count in login_history: 474
2024-10-31 09:24:55 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:24:55 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 09:24:55 - db_utils - INFO -   Database version: 0
2024-10-31 09:24:55 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 09:24:55 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 09:24:55 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:24:55 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 09:24:55 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 09:24:55 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:24:55 - db_utils - INFO - Debugging stroing database:
2024-10-31 09:24:55 - db_utils - INFO -   Database version: 0
2024-10-31 09:24:55 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 09:24:55 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:24:55 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 09:24:55 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:24:55 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 09:24:55 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:24:55 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 09:24:55 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:24:55 - db_utils - INFO - Debugging feedback database:
2024-10-31 09:24:55 - db_utils - INFO -   Database version: 0
2024-10-31 09:24:55 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 09:24:55 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:24:55 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -   Structure of feedback table:
2024-10-31 09:24:55 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:24:55 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:55 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 09:24:55 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:24:55 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 09:24:55 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:24:55 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 09:24:55 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:24:55 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:24:55 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:24:55 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:24:55 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:24:55 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:24:55 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:24:55 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:24:55 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:24:55 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:24:55 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:24:55 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:24:55 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 09:24:55 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 09:24:55 - db_utils - INFO - login_history table structure is correct
2024-10-31 09:24:55 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 09:24:55 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:24:55 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:24:55 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 09:24:55 - customer_utils - INFO - Found 94 customers in database
2024-10-31 09:24:55 - customer_utils - INFO - Consistency check completed
2024-10-31 09:24:55 - customer_utils - INFO - Database connection closed
2024-10-31 09:24:55 - customer_utils - INFO - Validating customers and passwords
2024-10-31 09:24:55 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:24:55 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:24:55 - customer_utils - INFO - Customer and password validation complete
2024-10-31 09:24:55 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 09:24:55 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 09:24:55 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 09:24:55 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 09:24:55 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 09:24:55 - db_utils - INFO - Database index creation completed
2024-10-31 09:24:55 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:24:55 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:24:55 - __main__ - INFO - Application setup complete
2024-10-31 09:24:55 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 09:24:55 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-31 09:24:55 - tun_utils - WARNING - hent_bestillinger() is deprecated, use get_bookings() instead
2024-10-31 09:24:55 - tun_utils - INFO - Starting get_bookings with start_date=None, end_date=None
2024-10-31 09:24:55 - tun_utils - INFO - Successfully retrieved 2 bookings
2024-10-31 09:24:55 - __main__ - INFO - Application shutting down
2024-10-31 09:24:57 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-31 09:24:57 - __main__ - INFO - Starting application initialization
2024-10-31 09:24:57 - db_utils - INFO - Starting detailed database operations debugging
2024-10-31 09:24:57 - db_utils - INFO - Debugging login_history database:
2024-10-31 09:24:57 - db_utils - INFO -   Database version: 0
2024-10-31 09:24:57 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-31 09:24:57 - db_utils - INFO -   Structure of login_history table:
2024-10-31 09:24:57 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-31 09:24:57 - db_utils - INFO -   Row count in login_history: 474
2024-10-31 09:24:57 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:24:57 - db_utils - INFO - Debugging tunbroyting database:
2024-10-31 09:24:57 - db_utils - INFO -   Database version: 0
2024-10-31 09:24:57 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-31 09:24:57 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-31 09:24:57 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:24:57 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-31 09:24:57 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-31 09:24:57 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:24:57 - db_utils - INFO - Debugging stroing database:
2024-10-31 09:24:57 - db_utils - INFO -   Database version: 0
2024-10-31 09:24:57 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-31 09:24:57 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:24:57 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-31 09:24:57 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:24:57 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-31 09:24:57 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:24:57 - db_utils - INFO -   Row count in stroing_bestillinger: 5
2024-10-31 09:24:57 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:24:57 - db_utils - INFO - Debugging feedback database:
2024-10-31 09:24:57 - db_utils - INFO -   Database version: 0
2024-10-31 09:24:57 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-31 09:24:57 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-31 09:24:57 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -   Structure of feedback table:
2024-10-31 09:24:57 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-31 09:24:57 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-31 09:24:57 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-31 09:24:57 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-31 09:24:57 - db_utils - INFO -   Row count in feedback: 11
2024-10-31 09:24:57 - db_utils - INFO -   Test query result: (1,)
2024-10-31 09:24:57 - db_utils - INFO - Detailed database operations debugging completed
2024-10-31 09:24:57 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:24:57 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:24:57 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:24:57 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:24:57 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:24:57 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:24:57 - db_utils - INFO - Oppdatert skjema for customer
2024-10-31 09:24:57 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-31 09:24:57 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-31 09:24:57 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-31 09:24:57 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-31 09:24:57 - db_utils - INFO - All database schemas verified and updated
2024-10-31 09:24:57 - db_utils - INFO - Database already initialized. Skipping.
2024-10-31 09:24:57 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-31 09:24:57 - db_utils - INFO - login_history table structure is correct
2024-10-31 09:24:57 - customer_utils - INFO - Starting cabin user consistency check
2024-10-31 09:24:57 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:24:57 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:24:57 - customer_utils - INFO - Retrieved 94 passwords
2024-10-31 09:24:57 - customer_utils - INFO - Found 94 customers in database
2024-10-31 09:24:57 - customer_utils - INFO - Consistency check completed
2024-10-31 09:24:57 - customer_utils - INFO - Database connection closed
2024-10-31 09:24:57 - customer_utils - INFO - Validating customers and passwords
2024-10-31 09:24:57 - utils - INFO - Attempting to load passwords from secrets
2024-10-31 09:24:57 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-31 09:24:57 - customer_utils - INFO - Customer and password validation complete
2024-10-31 09:24:57 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-31 09:24:57 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-31 09:24:57 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-31 09:24:57 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-31 09:24:57 - db_utils - INFO - Successfully created indexes for customer database
2024-10-31 09:24:57 - db_utils - INFO - Database index creation completed
2024-10-31 09:24:57 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:24:57 - __main__ - INFO - Application initialization completed successfully
2024-10-31 09:24:57 - __main__ - INFO - Application setup complete
2024-10-31 09:24:57 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-31 09:24:57 - weather_utils - INFO - Element statistikk:
2024-10-31 09:24:57 - weather_utils - INFO - ElementId: air_temperature
2024-10-31 09:24:57 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 09:24:57 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 09:24:57 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:24:57 - weather_utils - INFO -   - Eksempelverdi: 4.7
2024-10-31 09:24:57 - weather_utils - INFO - ElementId: surface_snow_thickness
2024-10-31 09:24:57 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 09:24:57 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 09:24:57 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:24:57 - weather_utils - INFO -   - Eksempelverdi: -1
2024-10-31 09:24:57 - weather_utils - INFO - ElementId: sum(precipitation_amount PT1H)
2024-10-31 09:24:57 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 09:24:57 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 09:24:57 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:24:57 - weather_utils - INFO -   - Eksempelverdi: 0
2024-10-31 09:24:57 - weather_utils - INFO - ElementId: max_wind_speed(wind_from_direction PT1H)
2024-10-31 09:24:57 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 09:24:57 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 09:24:57 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:24:57 - weather_utils - INFO -   - Eksempelverdi: 324
2024-10-31 09:24:57 - weather_utils - INFO - ElementId: max(wind_speed_of_gust PT1H)
2024-10-31 09:24:57 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 09:24:57 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 09:24:57 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:24:57 - weather_utils - INFO -   - Eksempelverdi: 9
2024-10-31 09:24:57 - weather_utils - INFO - ElementId: wind_speed
2024-10-31 09:24:57 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 09:24:57 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 09:24:57 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:24:57 - weather_utils - INFO -   - Eksempelverdi: 5.2
2024-10-31 09:24:57 - weather_utils - INFO - ElementId: surface_temperature
2024-10-31 09:24:57 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 09:24:57 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 09:24:57 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:24:57 - weather_utils - INFO -   - Eksempelverdi: 4.6
2024-10-31 09:24:57 - weather_utils - INFO - ElementId: relative_humidity
2024-10-31 09:24:57 - weather_utils - INFO -   - Totalt antall verdier: 23
2024-10-31 09:24:57 - weather_utils - INFO -   - Antall ikke-null verdier: 23
2024-10-31 09:24:57 - weather_utils - INFO -   - Dekningsgrad: 100.0%
2024-10-31 09:24:57 - weather_utils - INFO -   - Eksempelverdi: 90
2024-10-31 09:24:57 - weather_utils - INFO - ElementId: dew_point_temperature
