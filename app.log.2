2024-10-29 08:58:05 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 08:58:05 - __main__ - INFO - Starting application initialization
2024-10-29 08:58:05 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 08:58:05 - db_utils - INFO - Debugging login_history database:
2024-10-29 08:58:05 - db_utils - INFO -   Database version: 0
2024-10-29 08:58:05 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 08:58:05 - db_utils - INFO -   Structure of login_history table:
2024-10-29 08:58:05 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 08:58:05 - db_utils - INFO -   Row count in login_history: 258
2024-10-29 08:58:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 08:58:05 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 08:58:05 - db_utils - INFO -   Database version: 0
2024-10-29 08:58:05 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 08:58:05 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 08:58:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 08:58:05 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 08:58:05 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 08:58:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 08:58:05 - db_utils - INFO - Debugging stroing database:
2024-10-29 08:58:05 - db_utils - INFO -   Database version: 0
2024-10-29 08:58:05 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 08:58:05 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 08:58:05 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 08:58:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 08:58:05 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 08:58:05 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 08:58:05 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 08:58:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 08:58:05 - db_utils - INFO - Debugging feedback database:
2024-10-29 08:58:05 - db_utils - INFO -   Database version: 0
2024-10-29 08:58:05 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 08:58:05 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 08:58:05 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -   Structure of feedback table:
2024-10-29 08:58:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 08:58:05 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:05 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 08:58:05 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 08:58:05 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 08:58:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 08:58:05 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 08:58:05 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 08:58:05 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 08:58:05 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 08:58:05 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 08:58:05 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 08:58:05 - db_utils - INFO - All database schemas verified and updated
2024-10-29 08:58:05 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 08:58:05 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 08:58:05 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 08:58:05 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 08:58:05 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 08:58:05 - db_utils - INFO - All database schemas verified and updated
2024-10-29 08:58:05 - db_utils - INFO - Database login_history initialized, updated, and optimized
2024-10-29 08:58:05 - db_utils - INFO - Database tunbroyting initialized, updated, and optimized
2024-10-29 08:58:05 - db_utils - INFO - Database stroing initialized, updated, and optimized
2024-10-29 08:58:05 - db_utils - INFO - Database feedback initialized, updated, and optimized
2024-10-29 08:58:05 - db_utils - INFO - Database customer initialized, updated, and optimized
2024-10-29 08:58:05 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 08:58:05 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 08:58:05 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 08:58:05 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 08:58:05 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 08:58:05 - db_utils - INFO - Database index creation completed
2024-10-29 08:58:05 - db_utils - INFO - Database indexes created
2024-10-29 08:58:05 - db_utils - INFO - Successfully verified connection to stroing.db
2024-10-29 08:58:05 - db_utils - INFO - Successfully verified connection to tunbroyting.db
2024-10-29 08:58:05 - db_utils - INFO - Successfully verified connection to feedback.db
2024-10-29 08:58:05 - db_utils - INFO - Successfully verified connection to login_history.db
2024-10-29 08:58:05 - db_utils - INFO - Successfully verified connection to customer.db
2024-10-29 08:58:05 - db_utils - INFO - Database connections verified
2024-10-29 08:58:05 - db_utils - INFO - All databases initialized, updated, and verified
2024-10-29 08:58:05 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 08:58:05 - db_utils - INFO - login_history table structure is correct
2024-10-29 08:58:05 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 08:58:05 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 08:58:05 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 08:58:05 - customer_utils - INFO - Validating customers and passwords
2024-10-29 08:58:05 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 08:58:05 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 08:58:05 - customer_utils - INFO - Customer and password validation complete
2024-10-29 08:58:05 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 08:58:05 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 08:58:05 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 08:58:05 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 08:58:05 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 08:58:05 - db_utils - INFO - Database index creation completed
2024-10-29 08:58:05 - __main__ - INFO - Application initialization completed successfully
2024-10-29 08:58:05 - __main__ - INFO - Application initialization completed successfully
2024-10-29 08:58:05 - __main__ - INFO - Application setup complete
2024-10-29 08:58:05 - __main__ - INFO - Application shutting down
2024-10-29 08:58:25 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 08:58:25 - __main__ - INFO - Starting application initialization
2024-10-29 08:58:25 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 08:58:25 - db_utils - INFO - Debugging login_history database:
2024-10-29 08:58:25 - db_utils - INFO -   Database version: 0
2024-10-29 08:58:25 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 08:58:25 - db_utils - INFO -   Structure of login_history table:
2024-10-29 08:58:25 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 08:58:25 - db_utils - INFO -   Row count in login_history: 258
2024-10-29 08:58:25 - db_utils - INFO -   Test query result: (1,)
2024-10-29 08:58:25 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 08:58:25 - db_utils - INFO -   Database version: 0
2024-10-29 08:58:25 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 08:58:25 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 08:58:25 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 08:58:25 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 08:58:25 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 08:58:25 - db_utils - INFO -   Test query result: (1,)
2024-10-29 08:58:25 - db_utils - INFO - Debugging stroing database:
2024-10-29 08:58:25 - db_utils - INFO -   Database version: 0
2024-10-29 08:58:25 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 08:58:25 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 08:58:25 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 08:58:25 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 08:58:25 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 08:58:25 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 08:58:25 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 08:58:25 - db_utils - INFO -   Test query result: (1,)
2024-10-29 08:58:25 - db_utils - INFO - Debugging feedback database:
2024-10-29 08:58:25 - db_utils - INFO -   Database version: 0
2024-10-29 08:58:25 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 08:58:25 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 08:58:25 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -   Structure of feedback table:
2024-10-29 08:58:25 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 08:58:25 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 08:58:25 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 08:58:25 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 08:58:25 - db_utils - INFO -   Test query result: (1,)
2024-10-29 08:58:25 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 08:58:25 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 08:58:25 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 08:58:25 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 08:58:25 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 08:58:25 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 08:58:25 - db_utils - INFO - All database schemas verified and updated
2024-10-29 08:58:25 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 08:58:25 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 08:58:25 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 08:58:25 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 08:58:25 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 08:58:25 - db_utils - INFO - All database schemas verified and updated
2024-10-29 08:58:25 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 08:58:25 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 08:58:25 - db_utils - INFO - login_history table structure is correct
2024-10-29 08:58:25 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 08:58:25 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 08:58:25 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 08:58:25 - customer_utils - INFO - Validating customers and passwords
2024-10-29 08:58:25 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 08:58:25 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 08:58:25 - customer_utils - INFO - Customer and password validation complete
2024-10-29 08:58:25 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 08:58:25 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 08:58:25 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 08:58:25 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 08:58:25 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 08:58:25 - db_utils - INFO - Database index creation completed
2024-10-29 08:58:25 - __main__ - INFO - Application initialization completed successfully
2024-10-29 08:58:25 - __main__ - INFO - Application initialization completed successfully
2024-10-29 08:58:25 - __main__ - INFO - Application setup complete
2024-10-29 08:58:25 - auth_utils - INFO - Login attempt for ID: 999
2024-10-29 08:58:25 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 08:58:25 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 08:58:25 - db_utils - INFO - Attempting to create database engine...
2024-10-29 08:58:25 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 08:58:25 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-29 08:58:25 - auth_utils - INFO - User 999 authenticated successfully
2024-10-29 08:58:25 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 08:58:25 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-29 08:58:25 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-29 08:58:25 - auth_utils - INFO - Successful login for ID: 999
2024-10-29 08:58:25 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-29 08:58:25 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 08:58:25 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 08:58:25 - db_utils - INFO - Attempting to create database engine...
2024-10-29 08:58:25 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 08:58:25 - auth_utils - INFO - Rate limit reset for user 999
2024-10-29 08:58:25 - __main__ - INFO - Application shutting down
2024-10-29 08:58:25 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 08:58:25 - __main__ - INFO - Starting application initialization
2024-10-29 08:58:25 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 08:58:25 - db_utils - INFO - Debugging login_history database:
2024-10-29 08:58:25 - db_utils - INFO -   Database version: 0
2024-10-29 08:58:25 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 08:58:25 - db_utils - INFO -   Structure of login_history table:
2024-10-29 08:58:25 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 08:58:25 - db_utils - INFO -   Row count in login_history: 259
2024-10-29 08:58:25 - db_utils - INFO -   Test query result: (1,)
2024-10-29 08:58:25 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 08:58:25 - db_utils - INFO -   Database version: 0
2024-10-29 08:58:25 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 08:58:25 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 08:58:25 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 08:58:25 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 08:58:25 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 08:58:25 - db_utils - INFO -   Test query result: (1,)
2024-10-29 08:58:25 - db_utils - INFO - Debugging stroing database:
2024-10-29 08:58:25 - db_utils - INFO -   Database version: 0
2024-10-29 08:58:25 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 08:58:25 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 08:58:25 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 08:58:25 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 08:58:25 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 08:58:25 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 08:58:25 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 08:58:25 - db_utils - INFO -   Test query result: (1,)
2024-10-29 08:58:25 - db_utils - INFO - Debugging feedback database:
2024-10-29 08:58:25 - db_utils - INFO -   Database version: 0
2024-10-29 08:58:25 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 08:58:25 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 08:58:25 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -   Structure of feedback table:
2024-10-29 08:58:25 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 08:58:25 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:25 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 08:58:25 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 08:58:25 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 08:58:25 - db_utils - INFO -   Test query result: (1,)
2024-10-29 08:58:25 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 08:58:25 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 08:58:25 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 08:58:25 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 08:58:25 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 08:58:25 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 08:58:25 - db_utils - INFO - All database schemas verified and updated
2024-10-29 08:58:25 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 08:58:25 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 08:58:25 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 08:58:25 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 08:58:25 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 08:58:25 - db_utils - INFO - All database schemas verified and updated
2024-10-29 08:58:25 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 08:58:25 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 08:58:25 - db_utils - INFO - login_history table structure is correct
2024-10-29 08:58:25 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 08:58:25 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 08:58:25 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 08:58:25 - customer_utils - INFO - Validating customers and passwords
2024-10-29 08:58:25 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 08:58:25 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 08:58:25 - customer_utils - INFO - Customer and password validation complete
2024-10-29 08:58:25 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 08:58:25 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 08:58:25 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 08:58:25 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 08:58:25 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 08:58:25 - db_utils - INFO - Database index creation completed
2024-10-29 08:58:25 - __main__ - INFO - Application initialization completed successfully
2024-10-29 08:58:25 - __main__ - INFO - Application initialization completed successfully
2024-10-29 08:58:25 - __main__ - INFO - Application setup complete
2024-10-29 08:58:25 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 08:58:25 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-29 08:58:26 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 08:58:26 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 08:58:26 - __main__ - INFO - Application shutting down
2024-10-29 08:58:30 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 08:58:30 - __main__ - INFO - Starting application initialization
2024-10-29 08:58:30 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 08:58:30 - db_utils - INFO - Debugging login_history database:
2024-10-29 08:58:30 - db_utils - INFO -   Database version: 0
2024-10-29 08:58:30 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 08:58:30 - db_utils - INFO -   Structure of login_history table:
2024-10-29 08:58:30 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 08:58:30 - db_utils - INFO -   Row count in login_history: 259
2024-10-29 08:58:30 - db_utils - INFO -   Test query result: (1,)
2024-10-29 08:58:30 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 08:58:30 - db_utils - INFO -   Database version: 0
2024-10-29 08:58:30 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 08:58:30 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 08:58:30 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 08:58:30 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 08:58:30 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 08:58:30 - db_utils - INFO -   Test query result: (1,)
2024-10-29 08:58:30 - db_utils - INFO - Debugging stroing database:
2024-10-29 08:58:30 - db_utils - INFO -   Database version: 0
2024-10-29 08:58:30 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 08:58:30 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 08:58:30 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 08:58:30 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 08:58:30 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 08:58:30 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 08:58:30 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 08:58:30 - db_utils - INFO -   Test query result: (1,)
2024-10-29 08:58:30 - db_utils - INFO - Debugging feedback database:
2024-10-29 08:58:30 - db_utils - INFO -   Database version: 0
2024-10-29 08:58:30 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 08:58:30 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 08:58:30 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -   Structure of feedback table:
2024-10-29 08:58:30 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 08:58:30 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:30 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 08:58:30 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 08:58:30 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 08:58:30 - db_utils - INFO -   Test query result: (1,)
2024-10-29 08:58:30 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 08:58:30 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 08:58:30 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 08:58:30 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 08:58:30 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 08:58:30 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 08:58:30 - db_utils - INFO - All database schemas verified and updated
2024-10-29 08:58:30 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 08:58:30 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 08:58:30 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 08:58:30 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 08:58:30 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 08:58:30 - db_utils - INFO - All database schemas verified and updated
2024-10-29 08:58:30 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 08:58:30 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 08:58:30 - db_utils - INFO - login_history table structure is correct
2024-10-29 08:58:30 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 08:58:30 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 08:58:30 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 08:58:30 - customer_utils - INFO - Validating customers and passwords
2024-10-29 08:58:30 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 08:58:30 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 08:58:30 - customer_utils - INFO - Customer and password validation complete
2024-10-29 08:58:30 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 08:58:30 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 08:58:30 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 08:58:30 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 08:58:30 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 08:58:30 - db_utils - INFO - Database index creation completed
2024-10-29 08:58:30 - __main__ - INFO - Application initialization completed successfully
2024-10-29 08:58:30 - __main__ - INFO - Application initialization completed successfully
2024-10-29 08:58:30 - __main__ - INFO - Application setup complete
2024-10-29 08:58:30 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 08:58:30 - tun_utils - INFO - Filtering bookings for date: 2024-10-29 00:00:00+01:00
2024-10-29 08:58:30 - tun_utils - INFO - Filtering bookings for date: 2024-10-29 00:00:00+01:00
2024-10-29 08:58:30 - map_utils - INFO - Starter vis_dagens_tunkart med 0 bestillinger
2024-10-29 08:58:31 - customer_utils - INFO - Successfully loaded 94 customers from database
2024-10-29 08:58:31 - customer_utils - INFO - Kolonner i kundedatabasen: ['Id', 'Latitude', 'Longitude', 'Subscription', 'Type']
2024-10-29 08:58:31 - __main__ - INFO - Application shutting down
2024-10-29 08:58:43 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 08:58:43 - __main__ - INFO - Starting application initialization
2024-10-29 08:58:43 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 08:58:43 - db_utils - INFO - Debugging login_history database:
2024-10-29 08:58:43 - db_utils - INFO -   Database version: 0
2024-10-29 08:58:43 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 08:58:43 - db_utils - INFO -   Structure of login_history table:
2024-10-29 08:58:43 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 08:58:43 - db_utils - INFO -   Row count in login_history: 259
2024-10-29 08:58:43 - db_utils - INFO -   Test query result: (1,)
2024-10-29 08:58:43 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 08:58:43 - db_utils - INFO -   Database version: 0
2024-10-29 08:58:43 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 08:58:43 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 08:58:43 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 08:58:43 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 08:58:43 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 08:58:43 - db_utils - INFO -   Test query result: (1,)
2024-10-29 08:58:43 - db_utils - INFO - Debugging stroing database:
2024-10-29 08:58:43 - db_utils - INFO -   Database version: 0
2024-10-29 08:58:43 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 08:58:43 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 08:58:43 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 08:58:43 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 08:58:43 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 08:58:43 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 08:58:43 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 08:58:43 - db_utils - INFO -   Test query result: (1,)
2024-10-29 08:58:43 - db_utils - INFO - Debugging feedback database:
2024-10-29 08:58:43 - db_utils - INFO -   Database version: 0
2024-10-29 08:58:43 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 08:58:43 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 08:58:43 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -   Structure of feedback table:
2024-10-29 08:58:43 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 08:58:43 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 08:58:43 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 08:58:43 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 08:58:43 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 08:58:43 - db_utils - INFO -   Test query result: (1,)
2024-10-29 08:58:43 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 08:58:43 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 08:58:43 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 08:58:43 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 08:58:43 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 08:58:43 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 08:58:43 - db_utils - INFO - All database schemas verified and updated
2024-10-29 08:58:43 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 08:58:43 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 08:58:43 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 08:58:43 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 08:58:43 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 08:58:43 - db_utils - INFO - All database schemas verified and updated
2024-10-29 08:58:43 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 08:58:43 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 08:58:43 - db_utils - INFO - login_history table structure is correct
2024-10-29 08:58:43 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 08:58:43 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 08:58:43 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 08:58:43 - customer_utils - INFO - Validating customers and passwords
2024-10-29 08:58:43 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 08:58:43 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 08:58:43 - customer_utils - INFO - Customer and password validation complete
2024-10-29 08:58:43 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 08:58:43 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 08:58:43 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 08:58:43 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 08:58:43 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 08:58:43 - db_utils - INFO - Database index creation completed
2024-10-29 08:58:43 - __main__ - INFO - Application initialization completed successfully
2024-10-29 08:58:43 - __main__ - INFO - Application initialization completed successfully
2024-10-29 08:58:43 - __main__ - INFO - Application setup complete
2024-10-29 08:58:43 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 08:58:43 - tun_utils - INFO - Filtering bookings for date: 2024-10-29 00:00:00+01:00
2024-10-29 08:58:43 - tun_utils - INFO - Filtering bookings for date: 2024-10-29 00:00:00+01:00
2024-10-29 08:58:43 - map_utils - INFO - Starter vis_dagens_tunkart med 0 bestillinger
2024-10-29 08:58:43 - customer_utils - INFO - Successfully loaded 94 customers from database
2024-10-29 08:58:43 - customer_utils - INFO - Kolonner i kundedatabasen: ['Id', 'Latitude', 'Longitude', 'Subscription', 'Type']
2024-10-29 08:58:43 - __main__ - INFO - Application shutting down
2024-10-29 08:58:56 - db_utils - INFO - Starting to close all database connections
2024-10-29 08:58:56 - db_utils - INFO - Finished closing all database connections and cleaning up files
2024-10-29 09:17:16 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:17:16 - __main__ - INFO - Starting application initialization
2024-10-29 09:17:16 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:17:16 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:17:16 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:16 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:17:16 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:17:16 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:17:16 - db_utils - INFO -   Row count in login_history: 259
2024-10-29 09:17:16 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:16 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:17:16 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:16 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:17:16 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:17:16 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:16 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:17:16 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:17:16 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:16 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:17:16 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:16 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:17:16 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:17:16 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:17:16 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:16 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:17:16 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:17:16 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:17:16 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:16 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:17:16 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:16 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:17:16 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:17:16 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:17:16 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:16 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:16 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:17:16 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:17:16 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:17:16 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:16 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:17:16 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:17:16 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:17:16 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:17:16 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:17:16 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:17:16 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:17:16 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:17:16 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:17:16 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:17:16 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:17:16 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:17:16 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:17:16 - db_utils - INFO - Database login_history initialized, updated, and optimized
2024-10-29 09:17:16 - db_utils - INFO - Database tunbroyting initialized, updated, and optimized
2024-10-29 09:17:16 - db_utils - INFO - Database stroing initialized, updated, and optimized
2024-10-29 09:17:16 - db_utils - INFO - Database feedback initialized, updated, and optimized
2024-10-29 09:17:16 - db_utils - INFO - Database customer initialized, updated, and optimized
2024-10-29 09:17:16 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:17:16 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:17:16 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:17:16 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:17:16 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:17:16 - db_utils - INFO - Database index creation completed
2024-10-29 09:17:16 - db_utils - INFO - Database indexes created
2024-10-29 09:17:16 - db_utils - INFO - Successfully verified connection to stroing.db
2024-10-29 09:17:16 - db_utils - INFO - Successfully verified connection to tunbroyting.db
2024-10-29 09:17:16 - db_utils - INFO - Successfully verified connection to feedback.db
2024-10-29 09:17:16 - db_utils - INFO - Successfully verified connection to login_history.db
2024-10-29 09:17:16 - db_utils - INFO - Successfully verified connection to customer.db
2024-10-29 09:17:16 - db_utils - INFO - Database connections verified
2024-10-29 09:17:16 - db_utils - INFO - All databases initialized, updated, and verified
2024-10-29 09:17:16 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:17:16 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:17:16 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:17:16 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:17:16 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:17:16 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:17:16 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:17:16 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:17:16 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:17:16 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:17:16 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:17:16 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:17:16 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:17:16 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:17:16 - db_utils - INFO - Database index creation completed
2024-10-29 09:17:16 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:17:16 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:17:16 - __main__ - INFO - Application setup complete
2024-10-29 09:17:16 - __main__ - INFO - Application shutting down
2024-10-29 09:17:20 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:17:20 - __main__ - INFO - Starting application initialization
2024-10-29 09:17:20 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:17:20 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:17:20 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:20 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:17:20 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:17:20 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:17:20 - db_utils - INFO -   Row count in login_history: 259
2024-10-29 09:17:20 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:20 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:17:20 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:20 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:17:20 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:17:20 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:20 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:17:20 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:17:20 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:20 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:17:20 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:20 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:17:20 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:17:20 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:17:20 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:20 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:17:20 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:17:20 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:17:20 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:20 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:17:20 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:20 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:17:20 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:17:20 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:17:20 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:20 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:20 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:17:20 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:17:20 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:17:20 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:20 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:17:20 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:17:20 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:17:20 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:17:20 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:17:20 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:17:20 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:17:20 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:17:20 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:17:20 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:17:20 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:17:20 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:17:20 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:17:20 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:17:20 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:17:20 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:17:20 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:17:20 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:17:20 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:17:20 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:17:20 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:17:20 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:17:20 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:17:20 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:17:20 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:17:20 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:17:20 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:17:20 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:17:20 - db_utils - INFO - Database index creation completed
2024-10-29 09:17:20 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:17:20 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:17:20 - __main__ - INFO - Application setup complete
2024-10-29 09:17:20 - __main__ - INFO - Application shutting down
2024-10-29 09:17:24 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:17:24 - __main__ - INFO - Starting application initialization
2024-10-29 09:17:24 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:17:24 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:17:24 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:24 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:17:24 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:17:24 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:17:24 - db_utils - INFO -   Row count in login_history: 259
2024-10-29 09:17:24 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:24 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:17:24 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:24 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:17:24 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:17:24 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:24 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:17:24 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:17:24 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:24 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:17:24 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:24 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:17:24 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:17:24 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:17:24 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:24 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:17:24 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:17:24 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:17:24 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:24 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:17:24 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:24 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:17:24 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:17:24 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:17:24 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:24 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:17:24 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:17:24 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:17:24 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:24 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:17:24 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:17:24 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:17:24 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:17:24 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:17:24 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:17:24 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:17:24 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:17:24 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:17:24 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:17:24 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:17:24 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:17:24 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:17:24 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:17:24 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:17:24 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:17:24 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:17:24 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:17:24 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:17:24 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:17:24 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:17:24 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:17:24 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:17:24 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:17:24 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:17:24 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:17:24 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:17:24 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:17:24 - db_utils - INFO - Database index creation completed
2024-10-29 09:17:24 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:17:24 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:17:24 - __main__ - INFO - Application setup complete
2024-10-29 09:17:24 - auth_utils - INFO - Login attempt for ID: 999
2024-10-29 09:17:24 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 09:17:24 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 09:17:24 - db_utils - INFO - Attempting to create database engine...
2024-10-29 09:17:24 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 09:17:24 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-29 09:17:24 - auth_utils - INFO - User 999 authenticated successfully
2024-10-29 09:17:24 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:17:24 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-29 09:17:24 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-29 09:17:24 - auth_utils - INFO - Successful login for ID: 999
2024-10-29 09:17:24 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-29 09:17:24 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 09:17:24 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 09:17:24 - db_utils - INFO - Attempting to create database engine...
2024-10-29 09:17:24 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 09:17:24 - auth_utils - INFO - Rate limit reset for user 999
2024-10-29 09:17:24 - __main__ - INFO - Application shutting down
2024-10-29 09:17:24 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:17:24 - __main__ - INFO - Starting application initialization
2024-10-29 09:17:24 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:17:24 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:17:24 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:24 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:17:24 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:17:24 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:17:24 - db_utils - INFO -   Row count in login_history: 260
2024-10-29 09:17:24 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:24 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:17:24 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:24 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:17:24 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:17:24 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:24 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:17:24 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:17:24 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:24 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:17:24 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:24 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:17:24 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:17:24 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:17:24 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:24 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:17:24 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:17:24 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:17:24 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:24 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:17:24 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:24 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:17:24 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:17:24 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:17:24 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:24 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:24 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:17:24 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:17:24 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:17:24 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:24 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:17:24 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:17:24 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:17:24 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:17:24 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:17:24 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:17:24 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:17:24 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:17:24 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:17:24 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:17:24 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:17:24 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:17:24 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:17:24 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:17:24 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:17:24 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:17:24 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:17:24 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:17:24 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:17:24 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:17:24 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:17:24 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:17:24 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:17:24 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:17:24 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:17:24 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:17:24 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:17:24 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:17:24 - db_utils - INFO - Database index creation completed
2024-10-29 09:17:24 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:17:24 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:17:24 - __main__ - INFO - Application setup complete
2024-10-29 09:17:24 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:17:24 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-29 09:17:24 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 09:17:24 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 09:17:24 - __main__ - INFO - Application shutting down
2024-10-29 09:17:29 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:17:29 - __main__ - INFO - Starting application initialization
2024-10-29 09:17:29 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:17:29 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:17:29 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:29 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:17:29 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:17:29 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:17:29 - db_utils - INFO -   Row count in login_history: 260
2024-10-29 09:17:29 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:29 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:17:29 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:29 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:17:29 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:17:29 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:29 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:17:29 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:17:29 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:29 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:17:29 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:29 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:17:29 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:17:29 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:17:29 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:29 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:17:29 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:17:29 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:17:29 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:29 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:17:29 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:29 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:17:29 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:17:29 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:17:29 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:29 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:29 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:17:29 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:17:29 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:17:29 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:29 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:17:29 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:17:29 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:17:29 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:17:29 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:17:29 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:17:29 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:17:29 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:17:29 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:17:29 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:17:29 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:17:29 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:17:29 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:17:29 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:17:29 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:17:29 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:17:29 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:17:29 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:17:29 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:17:29 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:17:29 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:17:29 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:17:29 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:17:29 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:17:29 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:17:29 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:17:29 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:17:29 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:17:29 - db_utils - INFO - Database index creation completed
2024-10-29 09:17:29 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:17:29 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:17:29 - __main__ - INFO - Application setup complete
2024-10-29 09:17:29 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:17:30 - __main__ - INFO - Application shutting down
2024-10-29 09:17:32 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:17:32 - __main__ - INFO - Starting application initialization
2024-10-29 09:17:32 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:17:32 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:17:32 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:32 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:17:32 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:17:32 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:17:32 - db_utils - INFO -   Row count in login_history: 260
2024-10-29 09:17:32 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:32 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:17:32 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:32 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:17:32 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:17:32 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:32 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:17:32 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:17:32 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:32 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:17:32 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:32 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:17:32 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:17:32 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:17:32 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:32 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:17:32 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:17:32 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:17:32 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:32 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:17:32 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:32 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:17:32 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:17:32 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:17:32 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:32 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:32 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:17:32 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:17:32 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:17:32 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:32 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:17:32 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:17:32 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:17:32 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:17:32 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:17:32 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:17:32 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:17:32 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:17:32 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:17:32 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:17:32 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:17:32 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:17:32 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:17:32 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:17:32 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:17:32 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:17:32 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:17:32 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:17:32 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:17:32 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:17:32 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:17:32 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:17:32 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:17:32 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:17:32 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:17:32 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:17:32 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:17:32 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:17:32 - db_utils - INFO - Database index creation completed
2024-10-29 09:17:32 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:17:32 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:17:32 - __main__ - INFO - Application setup complete
2024-10-29 09:17:32 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:17:32 - __main__ - INFO - Application shutting down
2024-10-29 09:17:41 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:17:41 - __main__ - INFO - Starting application initialization
2024-10-29 09:17:41 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:17:41 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:17:41 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:41 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:17:41 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:17:41 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:17:41 - db_utils - INFO -   Row count in login_history: 260
2024-10-29 09:17:41 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:41 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:17:41 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:41 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:17:41 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:17:41 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:41 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:17:41 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:17:41 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:41 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:17:41 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:41 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:17:41 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:17:41 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:17:41 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:41 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:17:41 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:17:41 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:17:41 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:41 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:17:41 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:41 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:17:41 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:17:41 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:17:41 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:41 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:41 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:17:41 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:17:41 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:17:41 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:41 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:17:41 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:17:41 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:17:41 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:17:41 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:17:41 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:17:41 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:17:41 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:17:41 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:17:41 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:17:41 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:17:41 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:17:41 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:17:41 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:17:41 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:17:41 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:17:41 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:17:41 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:17:41 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:17:41 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:17:41 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:17:41 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:17:41 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:17:41 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:17:41 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:17:41 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:17:41 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:17:41 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:17:41 - db_utils - INFO - Database index creation completed
2024-10-29 09:17:41 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:17:41 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:17:41 - __main__ - INFO - Application setup complete
2024-10-29 09:17:41 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:17:41 - tun_utils - INFO - Filtering bookings for date: 2024-10-29 00:00:00+01:00
2024-10-29 09:17:41 - tun_utils - INFO - Filtering bookings for date: 2024-10-29 00:00:00+01:00
2024-10-29 09:17:41 - map_utils - INFO - Starter vis_dagens_tunkart med 0 bestillinger
2024-10-29 09:17:41 - customer_utils - INFO - Successfully loaded 94 customers from database
2024-10-29 09:17:41 - customer_utils - INFO - Kolonner i kundedatabasen: ['Id', 'Latitude', 'Longitude', 'Subscription', 'Type']
2024-10-29 09:17:41 - __main__ - INFO - Application shutting down
2024-10-29 09:17:44 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:17:44 - __main__ - INFO - Starting application initialization
2024-10-29 09:17:44 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:17:44 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:17:44 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:44 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:17:44 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:17:44 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:17:44 - db_utils - INFO -   Row count in login_history: 260
2024-10-29 09:17:44 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:44 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:17:44 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:44 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:17:44 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:17:44 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:44 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:17:44 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:17:44 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:44 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:17:44 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:44 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:17:44 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:17:44 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:17:44 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:44 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:17:44 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:17:44 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:17:44 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:44 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:17:44 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:44 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:17:44 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:17:44 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:17:44 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:44 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:44 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:17:44 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:17:44 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:17:44 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:44 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:17:44 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:17:44 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:17:44 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:17:44 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:17:44 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:17:44 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:17:44 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:17:44 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:17:44 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:17:44 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:17:44 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:17:44 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:17:44 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:17:44 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:17:44 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:17:44 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:17:44 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:17:44 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:17:44 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:17:44 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:17:44 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:17:44 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:17:44 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:17:44 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:17:44 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:17:44 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:17:44 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:17:44 - db_utils - INFO - Database index creation completed
2024-10-29 09:17:44 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:17:44 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:17:44 - __main__ - INFO - Application setup complete
2024-10-29 09:17:44 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:17:44 - __main__ - INFO - Application shutting down
2024-10-29 09:17:55 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:17:55 - __main__ - INFO - Starting application initialization
2024-10-29 09:17:55 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:17:55 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:17:55 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:55 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:17:55 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:17:55 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:17:55 - db_utils - INFO -   Row count in login_history: 260
2024-10-29 09:17:55 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:55 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:17:55 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:55 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:17:55 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:17:55 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:55 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:17:55 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:17:55 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:55 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:17:55 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:55 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:17:55 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:17:55 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:17:55 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:55 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:17:55 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:17:55 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:17:55 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:55 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:17:55 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:55 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:17:55 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:17:55 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:17:55 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:55 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:55 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:17:55 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:17:55 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:17:55 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:55 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:17:55 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:17:55 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:17:55 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:17:55 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:17:55 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:17:55 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:17:55 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:17:55 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:17:55 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:17:55 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:17:55 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:17:55 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:17:55 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:17:55 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:17:55 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:17:55 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:17:55 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:17:55 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:17:55 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:17:55 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:17:55 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:17:55 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:17:55 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:17:55 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:17:55 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:17:55 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:17:55 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:17:55 - db_utils - INFO - Database index creation completed
2024-10-29 09:17:55 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:17:55 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:17:55 - __main__ - INFO - Application setup complete
2024-10-29 09:17:55 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:17:55 - stroing_utils - INFO - Kolonner i stroing_bestillinger: ['id', 'bruker', 'bestillings_dato', 'onske_dato']
2024-10-29 09:17:55 - alert_utils - INFO - Fetched 3 alerts. only_today=False, include_expired=True
2024-10-29 09:17:55 - __main__ - INFO - Application shutting down
2024-10-29 09:17:58 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:17:58 - __main__ - INFO - Starting application initialization
2024-10-29 09:17:58 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:17:58 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:17:58 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:58 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:17:58 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:17:58 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:17:58 - db_utils - INFO -   Row count in login_history: 260
2024-10-29 09:17:58 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:58 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:17:58 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:58 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:17:58 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:17:58 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:58 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:17:58 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:17:58 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:58 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:17:58 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:58 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:17:58 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:17:58 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:17:58 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:58 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:17:58 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:17:58 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:17:58 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:58 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:17:58 - db_utils - INFO -   Database version: 0
2024-10-29 09:17:58 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:17:58 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:17:58 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:17:58 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:17:58 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:17:58 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:17:58 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:17:58 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:17:58 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:17:58 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:17:58 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:17:58 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:17:58 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:17:58 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:17:58 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:17:58 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:17:58 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:17:58 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:17:58 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:17:58 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:17:58 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:17:58 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:17:58 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:17:58 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:17:58 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:17:58 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:17:58 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:17:58 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:17:58 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:17:58 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:17:58 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:17:58 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:17:58 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:17:58 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:17:58 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:17:58 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:17:58 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:17:58 - db_utils - INFO - Database index creation completed
2024-10-29 09:17:58 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:17:58 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:17:58 - __main__ - INFO - Application setup complete
2024-10-29 09:17:58 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:17:58 - tun_utils - ERROR - Feil ved henting av bestilling 1: 'NoneType' object has no attribute 'time'
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/tun_utils.py", line 332, in hent_bestilling
    ).time()
      ^^^^
AttributeError: 'NoneType' object has no attribute 'time'
2024-10-29 09:17:58 - __main__ - INFO - Application shutting down
2024-10-29 09:18:00 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:18:00 - __main__ - INFO - Starting application initialization
2024-10-29 09:18:00 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:18:00 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:18:00 - db_utils - INFO -   Database version: 0
2024-10-29 09:18:00 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:18:00 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:18:00 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:18:00 - db_utils - INFO -   Row count in login_history: 260
2024-10-29 09:18:00 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:18:00 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:18:00 - db_utils - INFO -   Database version: 0
2024-10-29 09:18:00 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:18:00 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:18:00 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:18:00 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:18:00 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:18:00 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:18:00 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:18:00 - db_utils - INFO -   Database version: 0
2024-10-29 09:18:00 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:18:00 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:18:00 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:18:00 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:18:00 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:18:00 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:18:00 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:18:00 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:18:00 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:18:00 - db_utils - INFO -   Database version: 0
2024-10-29 09:18:00 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:18:00 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:18:00 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:18:00 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:18:00 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:00 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:18:00 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:18:00 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:18:00 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:18:00 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:18:00 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:18:00 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:18:00 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:18:00 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:18:00 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:18:00 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:18:00 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:18:00 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:18:00 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:18:00 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:18:00 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:18:00 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:18:00 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:18:00 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:18:00 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:18:00 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:18:00 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:18:00 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:18:00 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:18:00 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:18:00 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:18:00 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:18:00 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:18:00 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:18:00 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:18:00 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:18:00 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:18:00 - db_utils - INFO - Database index creation completed
2024-10-29 09:18:00 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:18:00 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:18:00 - __main__ - INFO - Application setup complete
2024-10-29 09:18:00 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:18:00 - stroing_utils - INFO - Kolonner i stroing_bestillinger: ['id', 'bruker', 'bestillings_dato', 'onske_dato']
2024-10-29 09:18:00 - stroing_utils - INFO - Original datatypes: id                                      int64
bruker                                 object
bestillings_dato    datetime64[ns, UTC+02:00]
onske_dato                     datetime64[ns]
dtype: object
2024-10-29 09:18:00 - stroing_utils - INFO - Converted datatypes: id                           int32
bruker              string[python]
bestillings_dato    datetime64[ns]
onske_dato          datetime64[ns]
dtype: object
2024-10-29 09:18:00 - stroing_utils - INFO - Removed 0 rows with invalid dates
2024-10-29 09:18:00 - __main__ - INFO - Application shutting down
2024-10-29 09:18:02 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:18:02 - __main__ - INFO - Starting application initialization
2024-10-29 09:18:02 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:18:02 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:18:02 - db_utils - INFO -   Database version: 0
2024-10-29 09:18:02 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:18:02 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:18:02 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:18:02 - db_utils - INFO -   Row count in login_history: 260
2024-10-29 09:18:02 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:18:02 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:18:02 - db_utils - INFO -   Database version: 0
2024-10-29 09:18:02 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:18:02 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:18:02 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:18:02 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:18:02 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:18:02 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:18:02 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:18:02 - db_utils - INFO -   Database version: 0
2024-10-29 09:18:02 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:18:02 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:18:02 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:18:02 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:18:02 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:18:02 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:18:02 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:18:02 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:18:02 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:18:02 - db_utils - INFO -   Database version: 0
2024-10-29 09:18:02 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:18:02 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:18:02 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:18:02 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:18:02 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:02 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:18:02 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:18:02 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:18:02 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:18:02 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:18:02 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:18:02 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:18:02 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:18:02 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:18:02 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:18:02 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:18:02 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:18:02 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:18:02 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:18:02 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:18:02 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:18:02 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:18:02 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:18:02 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:18:02 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:18:02 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:18:02 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:18:02 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:18:02 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:18:02 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:18:02 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:18:02 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:18:02 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:18:02 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:18:02 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:18:02 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:18:02 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:18:02 - db_utils - INFO - Database index creation completed
2024-10-29 09:18:02 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:18:02 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:18:02 - __main__ - INFO - Application setup complete
2024-10-29 09:18:02 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:18:02 - __main__ - INFO - Application shutting down
2024-10-29 09:18:04 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:18:04 - __main__ - INFO - Starting application initialization
2024-10-29 09:18:04 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:18:04 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:18:04 - db_utils - INFO -   Database version: 0
2024-10-29 09:18:04 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:18:04 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:18:04 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:18:04 - db_utils - INFO -   Row count in login_history: 260
2024-10-29 09:18:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:18:04 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:18:04 - db_utils - INFO -   Database version: 0
2024-10-29 09:18:04 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:18:04 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:18:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:18:04 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:18:04 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:18:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:18:04 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:18:04 - db_utils - INFO -   Database version: 0
2024-10-29 09:18:04 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:18:04 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:18:04 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:18:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:18:04 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:18:04 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:18:04 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:18:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:18:04 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:18:04 - db_utils - INFO -   Database version: 0
2024-10-29 09:18:04 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:18:04 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:18:04 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:18:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:18:04 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:04 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:18:04 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:18:04 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:18:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:18:04 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:18:04 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:18:04 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:18:04 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:18:04 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:18:04 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:18:04 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:18:04 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:18:04 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:18:04 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:18:04 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:18:04 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:18:04 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:18:04 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:18:04 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:18:04 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:18:04 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:18:04 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:18:04 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:18:04 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:18:04 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:18:04 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:18:04 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:18:04 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:18:04 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:18:04 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:18:04 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:18:04 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:18:04 - db_utils - INFO - Database index creation completed
2024-10-29 09:18:04 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:18:04 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:18:04 - __main__ - INFO - Application setup complete
2024-10-29 09:18:04 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:18:04 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-29 09:18:04 - __main__ - INFO - Application shutting down
2024-10-29 09:18:05 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:18:05 - __main__ - INFO - Starting application initialization
2024-10-29 09:18:05 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:18:05 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:18:05 - db_utils - INFO -   Database version: 0
2024-10-29 09:18:05 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:18:05 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:18:05 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:18:05 - db_utils - INFO -   Row count in login_history: 260
2024-10-29 09:18:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:18:05 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:18:05 - db_utils - INFO -   Database version: 0
2024-10-29 09:18:05 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:18:05 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:18:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:18:05 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:18:05 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:18:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:18:05 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:18:05 - db_utils - INFO -   Database version: 0
2024-10-29 09:18:05 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:18:05 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:18:05 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:18:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:18:05 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:18:05 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:18:05 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:18:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:18:05 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:18:05 - db_utils - INFO -   Database version: 0
2024-10-29 09:18:05 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:18:05 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:18:05 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:18:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:18:05 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:05 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:18:05 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:18:05 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:18:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:18:05 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:18:05 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:18:05 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:18:05 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:18:05 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:18:05 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:18:05 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:18:05 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:18:05 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:18:05 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:18:05 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:18:05 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:18:05 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:18:05 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:18:05 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:18:05 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:18:05 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:18:05 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:18:05 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:18:05 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:18:05 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:18:05 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:18:05 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:18:05 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:18:05 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:18:05 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:18:05 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:18:05 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:18:05 - db_utils - INFO - Database index creation completed
2024-10-29 09:18:05 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:18:05 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:18:05 - __main__ - INFO - Application setup complete
2024-10-29 09:18:05 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:18:05 - tun_utils - ERROR - Feil ved henting av bestilling 1: 'NoneType' object has no attribute 'time'
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/tun_utils.py", line 332, in hent_bestilling
    ).time()
      ^^^^
AttributeError: 'NoneType' object has no attribute 'time'
2024-10-29 09:18:05 - __main__ - INFO - Application shutting down
2024-10-29 09:18:08 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:18:08 - __main__ - INFO - Starting application initialization
2024-10-29 09:18:08 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:18:08 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:18:08 - db_utils - INFO -   Database version: 0
2024-10-29 09:18:08 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:18:08 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:18:08 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:18:08 - db_utils - INFO -   Row count in login_history: 260
2024-10-29 09:18:08 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:18:08 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:18:08 - db_utils - INFO -   Database version: 0
2024-10-29 09:18:08 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:18:08 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:18:08 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:18:08 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:18:08 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:18:08 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:18:08 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:18:08 - db_utils - INFO -   Database version: 0
2024-10-29 09:18:08 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:18:08 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:18:08 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:18:08 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:18:08 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:18:08 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:18:08 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:18:08 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:18:08 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:18:08 - db_utils - INFO -   Database version: 0
2024-10-29 09:18:08 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:18:08 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:18:08 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:18:08 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:18:08 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:18:08 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:18:08 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:18:08 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:18:08 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:18:08 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:18:08 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:18:08 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:18:08 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:18:08 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:18:08 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:18:08 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:18:08 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:18:08 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:18:08 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:18:08 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:18:08 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:18:08 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:18:08 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:18:08 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:18:08 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:18:08 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:18:08 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:18:08 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:18:08 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:18:08 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:18:08 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:18:08 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:18:08 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:18:08 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:18:08 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:18:08 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:18:08 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:18:08 - db_utils - INFO - Database index creation completed
2024-10-29 09:18:08 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:18:08 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:18:08 - __main__ - INFO - Application setup complete
2024-10-29 09:18:08 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:18:08 - stroing_utils - INFO - Kolonner i stroing_bestillinger: ['id', 'bruker', 'bestillings_dato', 'onske_dato']
2024-10-29 09:18:08 - __main__ - INFO - Application shutting down
2024-10-29 09:20:50 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:20:50 - __main__ - INFO - Starting application initialization
2024-10-29 09:20:50 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:20:50 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:20:50 - db_utils - INFO -   Database version: 0
2024-10-29 09:20:50 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:20:50 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:20:50 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:20:50 - db_utils - INFO -   Row count in login_history: 260
2024-10-29 09:20:50 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:20:50 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:20:50 - db_utils - INFO -   Database version: 0
2024-10-29 09:20:50 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:20:50 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:20:50 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:20:50 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:20:50 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:20:50 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:20:50 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:20:50 - db_utils - INFO -   Database version: 0
2024-10-29 09:20:50 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:20:50 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:20:50 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:20:50 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:20:50 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:20:50 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:20:50 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:20:50 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:20:50 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:20:50 - db_utils - INFO -   Database version: 0
2024-10-29 09:20:50 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:20:50 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:20:50 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:20:50 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:20:50 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:50 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:20:50 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:20:50 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:20:50 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:20:50 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:20:50 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:20:50 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:20:50 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:20:50 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:20:50 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:20:50 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:20:50 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:20:50 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:20:50 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:20:50 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:20:50 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:20:50 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:20:50 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:20:50 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:20:50 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:20:50 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:20:50 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:20:50 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:20:50 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:20:50 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:20:50 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:20:50 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:20:50 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:20:50 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:20:50 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:20:50 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:20:50 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:20:50 - db_utils - INFO - Database index creation completed
2024-10-29 09:20:50 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:20:50 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:20:50 - __main__ - INFO - Application setup complete
2024-10-29 09:20:50 - __main__ - INFO - Application shutting down
2024-10-29 09:20:53 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:20:53 - __main__ - INFO - Starting application initialization
2024-10-29 09:20:53 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:20:53 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:20:53 - db_utils - INFO -   Database version: 0
2024-10-29 09:20:53 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:20:53 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:20:53 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:20:53 - db_utils - INFO -   Row count in login_history: 260
2024-10-29 09:20:53 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:20:53 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:20:53 - db_utils - INFO -   Database version: 0
2024-10-29 09:20:53 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:20:53 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:20:53 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:20:53 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:20:53 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:20:53 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:20:53 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:20:53 - db_utils - INFO -   Database version: 0
2024-10-29 09:20:53 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:20:53 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:20:53 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:20:53 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:20:53 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:20:53 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:20:53 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:20:53 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:20:53 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:20:53 - db_utils - INFO -   Database version: 0
2024-10-29 09:20:53 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:20:53 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:20:53 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:20:53 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:20:53 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:53 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:20:53 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:20:53 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:20:53 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:20:53 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:20:53 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:20:53 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:20:53 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:20:53 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:20:53 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:20:53 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:20:53 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:20:53 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:20:53 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:20:53 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:20:53 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:20:53 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:20:53 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:20:53 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:20:53 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:20:53 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:20:53 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:20:53 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:20:53 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:20:53 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:20:53 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:20:53 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:20:53 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:20:53 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:20:53 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:20:53 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:20:53 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:20:53 - db_utils - INFO - Database index creation completed
2024-10-29 09:20:53 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:20:53 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:20:53 - __main__ - INFO - Application setup complete
2024-10-29 09:20:53 - auth_utils - INFO - Login attempt for ID: 999
2024-10-29 09:20:53 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 09:20:53 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 09:20:53 - db_utils - INFO - Attempting to create database engine...
2024-10-29 09:20:53 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 09:20:53 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-29 09:20:53 - auth_utils - INFO - User 999 authenticated successfully
2024-10-29 09:20:53 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:20:53 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-29 09:20:53 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-29 09:20:53 - auth_utils - INFO - Successful login for ID: 999
2024-10-29 09:20:53 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-29 09:20:53 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 09:20:53 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 09:20:53 - db_utils - INFO - Attempting to create database engine...
2024-10-29 09:20:53 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 09:20:53 - auth_utils - INFO - Rate limit reset for user 999
2024-10-29 09:20:53 - __main__ - INFO - Application shutting down
2024-10-29 09:20:54 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:20:54 - __main__ - INFO - Starting application initialization
2024-10-29 09:20:54 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:20:54 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:20:54 - db_utils - INFO -   Database version: 0
2024-10-29 09:20:54 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:20:54 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:20:54 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:20:54 - db_utils - INFO -   Row count in login_history: 261
2024-10-29 09:20:54 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:20:54 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:20:54 - db_utils - INFO -   Database version: 0
2024-10-29 09:20:54 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:20:54 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:20:54 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:20:54 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:20:54 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:20:54 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:20:54 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:20:54 - db_utils - INFO -   Database version: 0
2024-10-29 09:20:54 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:20:54 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:20:54 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:20:54 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:20:54 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:20:54 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:20:54 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:20:54 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:20:54 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:20:54 - db_utils - INFO -   Database version: 0
2024-10-29 09:20:54 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:20:54 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:20:54 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:20:54 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:20:54 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:54 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:20:54 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:20:54 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:20:54 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:20:54 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:20:54 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:20:54 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:20:54 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:20:54 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:20:54 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:20:54 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:20:54 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:20:54 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:20:54 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:20:54 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:20:54 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:20:54 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:20:54 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:20:54 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:20:54 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:20:54 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:20:54 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:20:54 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:20:54 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:20:54 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:20:54 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:20:54 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:20:54 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:20:54 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:20:54 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:20:54 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:20:54 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:20:54 - db_utils - INFO - Database index creation completed
2024-10-29 09:20:54 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:20:54 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:20:54 - __main__ - INFO - Application setup complete
2024-10-29 09:20:54 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:20:54 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-29 09:20:54 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 09:20:54 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 09:20:54 - __main__ - INFO - Application shutting down
2024-10-29 09:20:57 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:20:57 - __main__ - INFO - Starting application initialization
2024-10-29 09:20:57 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:20:57 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:20:57 - db_utils - INFO -   Database version: 0
2024-10-29 09:20:57 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:20:57 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:20:57 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:20:57 - db_utils - INFO -   Row count in login_history: 261
2024-10-29 09:20:57 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:20:57 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:20:57 - db_utils - INFO -   Database version: 0
2024-10-29 09:20:57 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:20:57 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:20:57 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:20:57 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:20:57 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:20:57 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:20:57 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:20:57 - db_utils - INFO -   Database version: 0
2024-10-29 09:20:57 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:20:57 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:20:57 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:20:57 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:20:57 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:20:57 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:20:57 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:20:57 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:20:57 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:20:57 - db_utils - INFO -   Database version: 0
2024-10-29 09:20:57 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:20:57 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:20:57 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:20:57 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:20:57 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:20:57 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:20:57 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:20:57 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:20:57 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:20:57 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:20:57 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:20:57 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:20:57 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:20:57 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:20:57 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:20:57 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:20:57 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:20:57 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:20:57 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:20:57 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:20:57 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:20:57 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:20:57 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:20:57 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:20:57 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:20:57 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:20:57 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:20:57 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:20:57 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:20:57 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:20:57 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:20:57 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:20:57 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:20:57 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:20:57 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:20:57 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:20:57 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:20:57 - db_utils - INFO - Database index creation completed
2024-10-29 09:20:57 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:20:57 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:20:57 - __main__ - INFO - Application setup complete
2024-10-29 09:20:57 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:20:57 - __main__ - INFO - Application shutting down
2024-10-29 09:21:01 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:21:01 - __main__ - INFO - Starting application initialization
2024-10-29 09:21:01 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:21:01 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:21:01 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:01 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:21:01 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:21:01 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:21:01 - db_utils - INFO -   Row count in login_history: 261
2024-10-29 09:21:01 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:01 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:21:01 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:01 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:21:01 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:21:01 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:21:01 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:21:01 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:21:01 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:01 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:21:01 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:01 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:21:01 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:21:01 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:21:01 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:21:01 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:21:01 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:21:01 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:21:01 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:01 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:21:01 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:01 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:21:01 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:21:01 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:21:01 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:21:01 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:01 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:21:01 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:21:01 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:21:01 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:01 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:21:01 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:21:01 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:21:01 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:21:01 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:21:01 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:21:01 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:21:01 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:21:01 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:21:01 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:21:01 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:21:01 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:21:01 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:21:01 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:21:01 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:21:01 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:21:01 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:21:01 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:21:01 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:21:01 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:21:01 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:21:01 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:21:01 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:21:01 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:21:01 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:21:01 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:21:01 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:21:01 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:21:01 - db_utils - INFO - Database index creation completed
2024-10-29 09:21:01 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:21:01 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:21:01 - __main__ - INFO - Application setup complete
2024-10-29 09:21:01 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:21:02 - __main__ - INFO - Application shutting down
2024-10-29 09:21:03 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:21:03 - __main__ - INFO - Starting application initialization
2024-10-29 09:21:03 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:21:03 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:21:03 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:03 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:21:03 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:21:03 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:21:03 - db_utils - INFO -   Row count in login_history: 261
2024-10-29 09:21:03 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:03 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:21:03 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:03 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:21:03 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:21:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:21:03 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:21:03 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:21:03 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:03 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:21:03 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:03 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:21:03 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:21:03 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:21:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:21:03 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:21:03 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:21:03 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:21:03 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:03 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:21:03 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:03 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:21:03 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:21:03 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:21:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:21:03 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:03 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:21:03 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:21:03 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:21:03 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:03 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:21:03 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:21:03 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:21:03 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:21:03 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:21:03 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:21:03 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:21:03 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:21:03 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:21:03 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:21:03 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:21:03 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:21:03 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:21:03 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:21:03 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:21:03 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:21:03 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:21:03 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:21:03 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:21:03 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:21:03 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:21:03 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:21:03 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:21:03 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:21:03 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:21:03 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:21:03 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:21:03 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:21:03 - db_utils - INFO - Database index creation completed
2024-10-29 09:21:03 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:21:03 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:21:03 - __main__ - INFO - Application setup complete
2024-10-29 09:21:03 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:21:03 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:21:03 - __main__ - INFO - Application shutting down
2024-10-29 09:21:04 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:21:04 - __main__ - INFO - Starting application initialization
2024-10-29 09:21:04 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:21:04 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:21:04 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:04 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:21:04 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:21:04 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:21:04 - db_utils - INFO -   Row count in login_history: 261
2024-10-29 09:21:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:04 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:21:04 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:04 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:21:04 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:21:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:21:04 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:21:04 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:21:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:04 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:21:04 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:04 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:21:04 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:21:04 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:21:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:21:04 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:21:04 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:21:04 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:21:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:04 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:21:04 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:04 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:21:04 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:21:04 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:21:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:21:04 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:04 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:21:04 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:21:04 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:21:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:04 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:21:04 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:21:04 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:21:04 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:21:04 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:21:04 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:21:04 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:21:04 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:21:04 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:21:04 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:21:04 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:21:04 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:21:04 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:21:04 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:21:04 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:21:04 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:21:04 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:21:04 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:21:04 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:21:04 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:21:04 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:21:04 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:21:04 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:21:04 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:21:04 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:21:04 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:21:04 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:21:04 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:21:04 - db_utils - INFO - Database index creation completed
2024-10-29 09:21:04 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:21:04 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:21:04 - __main__ - INFO - Application setup complete
2024-10-29 09:21:04 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:21:04 - __main__ - INFO - Application shutting down
2024-10-29 09:21:05 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:21:05 - __main__ - INFO - Starting application initialization
2024-10-29 09:21:05 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:21:05 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:21:05 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:05 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:21:05 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:21:05 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:21:05 - db_utils - INFO -   Row count in login_history: 261
2024-10-29 09:21:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:05 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:21:05 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:05 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:21:05 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:21:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:21:05 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:21:05 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:21:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:05 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:21:05 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:05 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:21:05 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:21:05 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:21:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:21:05 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:21:05 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:21:05 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:21:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:05 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:21:05 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:05 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:21:05 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:21:05 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:21:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:21:05 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:05 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:21:05 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:21:05 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:21:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:05 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:21:05 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:21:05 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:21:05 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:21:05 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:21:05 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:21:05 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:21:05 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:21:05 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:21:05 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:21:05 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:21:05 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:21:05 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:21:05 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:21:05 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:21:05 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:21:05 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:21:05 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:21:05 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:21:05 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:21:05 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:21:05 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:21:05 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:21:05 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:21:05 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:21:05 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:21:05 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:21:05 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:21:05 - db_utils - INFO - Database index creation completed
2024-10-29 09:21:05 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:21:05 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:21:05 - __main__ - INFO - Application setup complete
2024-10-29 09:21:05 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:21:05 - __main__ - INFO - Application shutting down
2024-10-29 09:21:06 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:21:06 - __main__ - INFO - Starting application initialization
2024-10-29 09:21:06 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:21:06 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:21:06 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:06 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:21:06 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:21:06 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:21:06 - db_utils - INFO -   Row count in login_history: 261
2024-10-29 09:21:06 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:06 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:21:06 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:06 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:21:06 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:21:06 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:21:06 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:21:06 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:21:06 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:06 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:21:06 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:06 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:21:06 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:21:06 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:21:06 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:21:06 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:21:06 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:21:06 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:21:06 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:06 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:21:06 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:06 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:21:06 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:21:06 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:21:06 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:21:06 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:06 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:21:06 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:21:06 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:21:06 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:06 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:21:06 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:21:06 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:21:06 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:21:06 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:21:06 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:21:06 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:21:06 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:21:06 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:21:06 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:21:06 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:21:06 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:21:06 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:21:06 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:21:06 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:21:06 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:21:06 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:21:06 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:21:06 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:21:06 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:21:06 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:21:06 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:21:06 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:21:06 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:21:06 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:21:06 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:21:06 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:21:06 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:21:06 - db_utils - INFO - Database index creation completed
2024-10-29 09:21:06 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:21:06 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:21:06 - __main__ - INFO - Application setup complete
2024-10-29 09:21:06 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:21:06 - __main__ - INFO - Application shutting down
2024-10-29 09:21:09 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:21:09 - __main__ - INFO - Starting application initialization
2024-10-29 09:21:09 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:21:09 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:21:09 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:09 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:21:09 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:21:09 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:21:09 - db_utils - INFO -   Row count in login_history: 261
2024-10-29 09:21:09 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:09 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:21:09 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:09 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:21:09 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:21:09 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:21:09 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:21:09 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:21:09 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:09 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:21:09 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:09 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:21:09 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:21:09 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:21:09 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:21:09 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:21:09 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:21:09 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:21:09 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:09 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:21:09 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:09 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:21:09 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:21:09 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:21:09 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:21:09 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:09 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:21:09 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:21:09 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:21:09 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:09 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:21:09 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:21:09 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:21:09 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:21:09 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:21:09 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:21:09 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:21:09 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:21:09 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:21:09 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:21:09 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:21:09 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:21:09 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:21:09 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:21:09 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:21:09 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:21:09 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:21:09 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:21:09 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:21:09 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:21:09 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:21:09 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:21:09 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:21:09 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:21:09 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:21:09 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:21:09 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:21:09 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:21:09 - db_utils - INFO - Database index creation completed
2024-10-29 09:21:09 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:21:09 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:21:09 - __main__ - INFO - Application setup complete
2024-10-29 09:21:09 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:21:09 - tun_utils - INFO - Filtering bookings for date: 2024-10-29 00:00:00+01:00
2024-10-29 09:21:09 - tun_utils - INFO - Filtering bookings for date: 2024-10-29 00:00:00+01:00
2024-10-29 09:21:09 - map_utils - INFO - Starter vis_dagens_tunkart med 0 bestillinger
2024-10-29 09:21:09 - customer_utils - INFO - Successfully loaded 94 customers from database
2024-10-29 09:21:09 - customer_utils - INFO - Kolonner i kundedatabasen: ['Id', 'Latitude', 'Longitude', 'Subscription', 'Type']
2024-10-29 09:21:10 - __main__ - INFO - Application shutting down
2024-10-29 09:21:15 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:21:15 - __main__ - INFO - Starting application initialization
2024-10-29 09:21:15 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:21:15 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:21:15 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:15 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:21:15 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:21:15 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:21:15 - db_utils - INFO -   Row count in login_history: 261
2024-10-29 09:21:15 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:15 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:21:15 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:15 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:21:15 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:21:15 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:21:15 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:21:15 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:21:15 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:15 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:21:15 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:15 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:21:15 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:21:15 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:21:15 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:21:15 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:21:15 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:21:15 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:21:15 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:15 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:21:15 - db_utils - INFO -   Database version: 0
2024-10-29 09:21:15 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:21:15 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:21:15 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:21:15 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:21:15 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:21:15 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:21:15 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:21:15 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:21:15 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:21:15 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:21:15 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:21:15 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:21:15 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:21:15 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:21:15 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:21:15 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:21:15 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:21:15 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:21:15 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:21:15 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:21:15 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:21:15 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:21:15 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:21:15 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:21:15 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:21:15 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:21:15 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:21:15 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:21:15 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:21:15 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:21:15 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:21:15 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:21:15 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:21:15 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:21:15 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:21:15 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:21:15 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:21:15 - db_utils - INFO - Database index creation completed
2024-10-29 09:21:15 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:21:15 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:21:15 - __main__ - INFO - Application setup complete
2024-10-29 09:21:15 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:21:15 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 09:21:15 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 09:21:15 - __main__ - INFO - Application shutting down
2024-10-29 09:21:37 - db_utils - INFO - Starting to close all database connections
2024-10-29 09:21:37 - db_utils - INFO - Finished closing all database connections and cleaning up files
2024-10-29 09:23:52 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:23:52 - __main__ - INFO - Starting application initialization
2024-10-29 09:23:52 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:23:52 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:23:52 - db_utils - INFO -   Database version: 0
2024-10-29 09:23:52 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:23:52 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:23:52 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:23:52 - db_utils - INFO -   Row count in login_history: 261
2024-10-29 09:23:52 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:23:52 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:23:52 - db_utils - INFO -   Database version: 0
2024-10-29 09:23:52 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:23:52 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:23:52 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:23:52 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:23:52 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:23:52 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:23:52 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:23:52 - db_utils - INFO -   Database version: 0
2024-10-29 09:23:52 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:23:52 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:23:52 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:23:52 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:23:52 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:23:52 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:23:52 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:23:52 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:23:52 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:23:52 - db_utils - INFO -   Database version: 0
2024-10-29 09:23:52 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:23:52 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:23:52 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:23:52 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:23:52 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:23:52 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:23:52 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:23:52 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:23:52 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:23:52 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:23:52 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:23:52 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:23:52 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:23:52 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:23:52 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:23:52 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:23:52 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:23:52 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:23:52 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:23:52 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:23:52 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:23:52 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:23:52 - db_utils - INFO - Database login_history initialized, updated, and optimized
2024-10-29 09:23:52 - db_utils - INFO - Database tunbroyting initialized, updated, and optimized
2024-10-29 09:23:52 - db_utils - INFO - Database stroing initialized, updated, and optimized
2024-10-29 09:23:52 - db_utils - INFO - Database feedback initialized, updated, and optimized
2024-10-29 09:23:52 - db_utils - INFO - Database customer initialized, updated, and optimized
2024-10-29 09:23:52 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:23:52 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:23:52 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:23:52 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:23:52 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:23:52 - db_utils - INFO - Database index creation completed
2024-10-29 09:23:52 - db_utils - INFO - Database indexes created
2024-10-29 09:23:52 - db_utils - INFO - Successfully verified connection to stroing.db
2024-10-29 09:23:52 - db_utils - INFO - Successfully verified connection to tunbroyting.db
2024-10-29 09:23:52 - db_utils - INFO - Successfully verified connection to feedback.db
2024-10-29 09:23:52 - db_utils - INFO - Successfully verified connection to login_history.db
2024-10-29 09:23:52 - db_utils - INFO - Successfully verified connection to customer.db
2024-10-29 09:23:52 - db_utils - INFO - Database connections verified
2024-10-29 09:23:52 - db_utils - INFO - All databases initialized, updated, and verified
2024-10-29 09:23:52 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:23:52 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:23:52 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:23:52 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:23:52 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:23:52 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:23:52 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:23:52 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:23:52 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:23:52 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:23:52 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:23:52 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:23:52 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:23:52 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:23:52 - db_utils - INFO - Database index creation completed
2024-10-29 09:23:52 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:23:52 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:23:52 - __main__ - INFO - Application setup complete
2024-10-29 09:23:52 - __main__ - INFO - Application shutting down
2024-10-29 09:24:02 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:24:02 - __main__ - INFO - Starting application initialization
2024-10-29 09:24:02 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:24:02 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:24:02 - db_utils - INFO -   Database version: 0
2024-10-29 09:24:02 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:24:02 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:24:02 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:24:02 - db_utils - INFO -   Row count in login_history: 261
2024-10-29 09:24:02 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:24:02 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:24:02 - db_utils - INFO -   Database version: 0
2024-10-29 09:24:02 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:24:02 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:24:02 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:24:02 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:24:02 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:24:02 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:24:02 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:24:02 - db_utils - INFO -   Database version: 0
2024-10-29 09:24:02 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:24:02 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:24:02 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:24:02 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:24:02 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:24:02 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:24:02 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:24:02 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:24:02 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:24:02 - db_utils - INFO -   Database version: 0
2024-10-29 09:24:02 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:24:02 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:24:02 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:24:02 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:24:02 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:02 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:24:02 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:24:02 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:24:02 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:24:02 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:24:02 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:24:02 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:24:02 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:24:02 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:24:02 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:24:02 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:24:02 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:24:02 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:24:02 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:24:02 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:24:02 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:24:02 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:24:02 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:24:02 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:24:02 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:24:02 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:24:02 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:24:02 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:24:02 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:24:02 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:24:02 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:24:02 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:24:02 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:24:02 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:24:02 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:24:02 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:24:02 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:24:02 - db_utils - INFO - Database index creation completed
2024-10-29 09:24:02 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:24:02 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:24:02 - __main__ - INFO - Application setup complete
2024-10-29 09:24:02 - __main__ - INFO - Application shutting down
2024-10-29 09:24:05 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:24:05 - __main__ - INFO - Starting application initialization
2024-10-29 09:24:05 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:24:05 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:24:05 - db_utils - INFO -   Database version: 0
2024-10-29 09:24:05 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:24:05 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:24:05 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:24:05 - db_utils - INFO -   Row count in login_history: 261
2024-10-29 09:24:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:24:05 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:24:05 - db_utils - INFO -   Database version: 0
2024-10-29 09:24:05 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:24:05 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:24:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:24:05 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:24:05 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:24:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:24:05 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:24:05 - db_utils - INFO -   Database version: 0
2024-10-29 09:24:05 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:24:05 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:24:05 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:24:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:24:05 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:24:05 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:24:05 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:24:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:24:05 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:24:05 - db_utils - INFO -   Database version: 0
2024-10-29 09:24:05 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:24:05 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:24:05 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:24:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:24:05 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:24:05 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:24:05 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:24:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:24:05 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:24:05 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:24:05 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:24:05 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:24:05 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:24:05 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:24:05 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:24:05 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:24:05 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:24:05 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:24:05 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:24:05 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:24:05 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:24:05 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:24:05 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:24:05 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:24:05 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:24:05 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:24:05 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:24:05 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:24:05 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:24:05 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:24:05 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:24:05 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:24:05 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:24:05 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:24:05 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:24:05 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:24:05 - db_utils - INFO - Database index creation completed
2024-10-29 09:24:05 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:24:05 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:24:05 - __main__ - INFO - Application setup complete
2024-10-29 09:24:05 - auth_utils - INFO - Login attempt for ID: 999
2024-10-29 09:24:05 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 09:24:05 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 09:24:05 - db_utils - INFO - Attempting to create database engine...
2024-10-29 09:24:05 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 09:24:05 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-29 09:24:05 - auth_utils - INFO - User 999 authenticated successfully
2024-10-29 09:24:05 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:24:05 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-29 09:24:05 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-29 09:24:05 - auth_utils - INFO - Successful login for ID: 999
2024-10-29 09:24:05 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-29 09:24:05 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 09:24:05 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 09:24:05 - db_utils - INFO - Attempting to create database engine...
2024-10-29 09:24:05 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 09:24:05 - auth_utils - INFO - Rate limit reset for user 999
2024-10-29 09:24:05 - __main__ - INFO - Application shutting down
2024-10-29 09:24:05 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:24:05 - __main__ - INFO - Starting application initialization
2024-10-29 09:24:05 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:24:05 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:24:05 - db_utils - INFO -   Database version: 0
2024-10-29 09:24:05 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:24:05 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:24:05 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:24:05 - db_utils - INFO -   Row count in login_history: 262
2024-10-29 09:24:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:24:05 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:24:05 - db_utils - INFO -   Database version: 0
2024-10-29 09:24:05 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:24:05 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:24:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:24:05 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:24:05 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:24:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:24:05 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:24:05 - db_utils - INFO -   Database version: 0
2024-10-29 09:24:05 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:24:05 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:24:05 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:24:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:24:05 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:24:05 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:24:05 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:24:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:24:05 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:24:05 - db_utils - INFO -   Database version: 0
2024-10-29 09:24:05 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:24:05 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:24:05 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:24:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:24:05 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:05 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:24:05 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:24:05 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:24:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:24:05 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:24:05 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:24:05 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:24:05 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:24:05 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:24:05 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:24:05 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:24:05 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:24:05 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:24:05 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:24:05 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:24:05 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:24:05 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:24:05 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:24:05 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:24:05 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:24:05 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:24:05 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:24:05 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:24:05 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:24:05 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:24:05 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:24:05 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:24:05 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:24:05 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:24:05 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:24:05 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:24:05 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:24:05 - db_utils - INFO - Database index creation completed
2024-10-29 09:24:05 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:24:05 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:24:05 - __main__ - INFO - Application setup complete
2024-10-29 09:24:05 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:24:05 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-29 09:24:06 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 09:24:06 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 09:24:06 - __main__ - INFO - Application shutting down
2024-10-29 09:24:43 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:24:43 - __main__ - INFO - Starting application initialization
2024-10-29 09:24:43 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:24:43 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:24:43 - db_utils - INFO -   Database version: 0
2024-10-29 09:24:43 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:24:43 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:24:43 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:24:43 - db_utils - INFO -   Row count in login_history: 262
2024-10-29 09:24:43 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:24:43 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:24:43 - db_utils - INFO -   Database version: 0
2024-10-29 09:24:43 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:24:43 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:24:43 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:24:43 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:24:43 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:24:43 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:24:43 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:24:43 - db_utils - INFO -   Database version: 0
2024-10-29 09:24:43 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:24:43 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:24:43 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:24:43 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:24:43 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:24:43 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:24:43 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:24:43 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:24:43 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:24:43 - db_utils - INFO -   Database version: 0
2024-10-29 09:24:43 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:24:43 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:24:43 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:24:43 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:24:43 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:43 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:24:43 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:24:43 - db_utils - INFO -   Row count in feedback: 6
2024-10-29 09:24:43 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:24:43 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:24:43 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:24:43 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:24:43 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:24:43 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:24:43 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:24:43 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:24:43 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:24:43 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:24:43 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:24:43 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:24:43 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:24:43 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:24:43 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:24:43 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:24:43 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:24:43 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:24:43 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:24:43 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:24:43 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:24:43 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:24:43 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:24:43 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:24:43 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:24:43 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:24:43 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:24:43 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:24:43 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:24:43 - db_utils - INFO - Database index creation completed
2024-10-29 09:24:43 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:24:43 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:24:43 - __main__ - INFO - Application setup complete
2024-10-29 09:24:43 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:24:44 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 09:24:44 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 09:24:44 - db_utils - INFO - Query executed successfully on feedback.db. Rows affected: 1
2024-10-29 09:24:44 - feedback_utils - INFO - Feedback saved successfully: Vintervedlikehold, 2024-10-29T00:00:00+01:00, Cabin: 999, hidden: False
2024-10-29 09:24:44 - feedback_utils - INFO - Vedlikeholdsreaksjon lagret for hytte 999: positive
2024-10-29 09:24:44 - __main__ - INFO - Application shutting down
2024-10-29 09:24:44 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:24:44 - __main__ - INFO - Starting application initialization
2024-10-29 09:24:44 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:24:44 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:24:44 - db_utils - INFO -   Database version: 0
2024-10-29 09:24:44 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:24:44 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:24:44 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:24:44 - db_utils - INFO -   Row count in login_history: 262
2024-10-29 09:24:44 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:24:44 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:24:44 - db_utils - INFO -   Database version: 0
2024-10-29 09:24:44 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:24:44 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:24:44 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:24:44 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:24:44 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:24:44 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:24:44 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:24:44 - db_utils - INFO -   Database version: 0
2024-10-29 09:24:44 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:24:44 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:24:44 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:24:44 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:24:44 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:24:44 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:24:44 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:24:44 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:24:44 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:24:44 - db_utils - INFO -   Database version: 0
2024-10-29 09:24:44 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:24:44 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:24:44 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:24:44 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:24:44 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:24:44 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:24:44 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:24:44 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 09:24:44 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:24:44 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:24:44 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:24:44 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:24:44 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:24:44 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:24:44 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:24:44 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:24:44 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:24:44 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:24:44 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:24:44 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:24:44 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:24:44 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:24:44 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:24:44 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:24:44 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:24:44 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:24:44 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:24:44 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:24:44 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:24:44 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:24:44 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:24:44 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:24:44 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:24:44 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:24:44 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:24:44 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:24:44 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:24:44 - db_utils - INFO - Database index creation completed
2024-10-29 09:24:44 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:24:44 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:24:44 - __main__ - INFO - Application setup complete
2024-10-29 09:24:44 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:24:45 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 09:24:45 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 09:24:45 - __main__ - INFO - Application shutting down
2024-10-29 09:26:21 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:26:21 - __main__ - INFO - Starting application initialization
2024-10-29 09:26:21 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:26:21 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:26:21 - db_utils - INFO -   Database version: 0
2024-10-29 09:26:21 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:26:21 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:26:21 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:26:21 - db_utils - INFO -   Row count in login_history: 262
2024-10-29 09:26:21 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:26:21 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:26:21 - db_utils - INFO -   Database version: 0
2024-10-29 09:26:21 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:26:21 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:26:21 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:26:21 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:26:21 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:26:21 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:26:21 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:26:21 - db_utils - INFO -   Database version: 0
2024-10-29 09:26:21 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:26:21 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:26:21 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:26:21 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:26:21 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:26:21 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:26:21 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:26:21 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:26:21 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:26:21 - db_utils - INFO -   Database version: 0
2024-10-29 09:26:21 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:26:21 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:26:21 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:26:21 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:26:21 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:21 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:26:21 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:26:21 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 09:26:21 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:26:21 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:26:21 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:26:21 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:26:21 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:26:21 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:26:21 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:26:21 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:26:21 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:26:21 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:26:21 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:26:21 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:26:21 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:26:21 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:26:21 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:26:21 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:26:21 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:26:21 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:26:21 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:26:21 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:26:21 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:26:21 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:26:21 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:26:21 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:26:21 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:26:21 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:26:21 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:26:21 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:26:21 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:26:21 - db_utils - INFO - Database index creation completed
2024-10-29 09:26:21 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:26:21 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:26:21 - __main__ - INFO - Application setup complete
2024-10-29 09:26:21 - __main__ - INFO - Application shutting down
2024-10-29 09:26:24 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:26:24 - __main__ - INFO - Starting application initialization
2024-10-29 09:26:24 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:26:24 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:26:24 - db_utils - INFO -   Database version: 0
2024-10-29 09:26:24 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:26:24 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:26:24 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:26:24 - db_utils - INFO -   Row count in login_history: 262
2024-10-29 09:26:24 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:26:24 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:26:24 - db_utils - INFO -   Database version: 0
2024-10-29 09:26:24 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:26:24 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:26:24 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:26:24 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:26:24 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:26:24 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:26:24 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:26:24 - db_utils - INFO -   Database version: 0
2024-10-29 09:26:24 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:26:24 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:26:24 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:26:24 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:26:24 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:26:24 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:26:24 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:26:24 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:26:24 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:26:24 - db_utils - INFO -   Database version: 0
2024-10-29 09:26:24 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:26:24 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:26:24 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:26:24 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:26:24 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:26:24 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:26:24 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 09:26:24 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:26:24 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:26:24 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:26:24 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:26:24 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:26:24 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:26:24 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:26:24 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:26:24 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:26:24 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:26:24 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:26:24 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:26:24 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:26:24 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:26:24 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:26:24 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:26:24 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:26:24 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:26:24 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:26:24 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:26:24 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:26:24 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:26:24 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:26:24 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:26:24 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:26:24 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:26:24 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:26:24 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:26:24 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:26:24 - db_utils - INFO - Database index creation completed
2024-10-29 09:26:24 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:26:24 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:26:24 - __main__ - INFO - Application setup complete
2024-10-29 09:26:24 - auth_utils - INFO - Login attempt for ID: 999
2024-10-29 09:26:24 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 09:26:24 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 09:26:24 - db_utils - INFO - Attempting to create database engine...
2024-10-29 09:26:24 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 09:26:24 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-29 09:26:24 - auth_utils - INFO - User 999 authenticated successfully
2024-10-29 09:26:24 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:26:24 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-29 09:26:24 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-29 09:26:24 - auth_utils - INFO - Successful login for ID: 999
2024-10-29 09:26:24 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-29 09:26:24 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 09:26:24 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 09:26:24 - db_utils - INFO - Attempting to create database engine...
2024-10-29 09:26:24 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 09:26:24 - auth_utils - INFO - Rate limit reset for user 999
2024-10-29 09:26:24 - __main__ - INFO - Application shutting down
2024-10-29 09:26:24 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:26:24 - __main__ - INFO - Starting application initialization
2024-10-29 09:26:24 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:26:24 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:26:24 - db_utils - INFO -   Database version: 0
2024-10-29 09:26:24 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:26:24 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:26:24 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:26:24 - db_utils - INFO -   Row count in login_history: 263
2024-10-29 09:26:24 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:26:24 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:26:24 - db_utils - INFO -   Database version: 0
2024-10-29 09:26:24 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:26:24 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:26:24 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:26:24 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:26:24 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:26:24 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:26:24 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:26:24 - db_utils - INFO -   Database version: 0
2024-10-29 09:26:24 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:26:24 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:26:24 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:26:24 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:26:24 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:26:24 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:26:24 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:26:24 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:26:24 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:26:24 - db_utils - INFO -   Database version: 0
2024-10-29 09:26:24 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:26:24 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:26:24 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:26:24 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:26:24 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:26:24 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:26:24 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:26:24 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 09:26:24 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:26:24 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:26:24 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:26:24 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:26:24 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:26:24 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:26:24 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:26:24 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:26:24 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:26:24 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:26:24 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:26:24 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:26:24 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:26:24 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:26:24 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:26:24 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:26:24 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:26:24 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:26:24 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:26:24 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:26:24 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:26:24 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:26:24 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:26:24 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:26:24 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:26:24 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:26:24 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:26:24 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:26:24 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:26:24 - db_utils - INFO - Database index creation completed
2024-10-29 09:26:24 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:26:24 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:26:24 - __main__ - INFO - Application setup complete
2024-10-29 09:26:24 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:26:24 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-29 09:26:25 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 09:26:25 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 09:26:26 - __main__ - INFO - Application shutting down
2024-10-29 09:27:47 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:27:47 - __main__ - INFO - Starting application initialization
2024-10-29 09:27:47 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:27:47 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:27:47 - db_utils - INFO -   Database version: 0
2024-10-29 09:27:47 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:27:47 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:27:47 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:47 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:47 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:47 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:27:47 - db_utils - INFO -   Row count in login_history: 263
2024-10-29 09:27:47 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:27:47 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:27:47 - db_utils - INFO -   Database version: 0
2024-10-29 09:27:47 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:27:47 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:27:47 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:27:47 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:47 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:47 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:47 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:47 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:47 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:47 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:27:47 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:27:47 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:27:47 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:27:48 - db_utils - INFO -   Database version: 0
2024-10-29 09:27:48 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:27:48 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:27:48 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:27:48 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:27:48 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:27:48 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:27:48 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:27:48 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:27:48 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:27:48 - db_utils - INFO -   Database version: 0
2024-10-29 09:27:48 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:27:48 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:27:48 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:27:48 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:27:48 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:27:48 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:27:48 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 09:27:48 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:27:48 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:27:48 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:27:48 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:27:48 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:27:48 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:27:48 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:27:48 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:27:48 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:27:48 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:27:48 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:27:48 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:27:48 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:27:48 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:27:48 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:27:48 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:27:48 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:27:48 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:27:48 - __main__ - INFO - Starting application initialization
2024-10-29 09:27:48 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:27:48 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:27:48 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:27:48 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:27:48 - db_utils - INFO -   Database version: 0
2024-10-29 09:27:48 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:27:48 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:27:48 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:27:48 - db_utils - INFO -   Row count in login_history: 263
2024-10-29 09:27:48 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:27:48 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:27:48 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:27:48 - db_utils - INFO -   Database version: 0
2024-10-29 09:27:48 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:27:48 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:27:48 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:27:48 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:27:48 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:27:48 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:27:48 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:27:48 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:27:48 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:27:48 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:27:48 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:27:48 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:27:48 - db_utils - INFO -   Database version: 0
2024-10-29 09:27:48 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:27:48 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:27:48 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:27:48 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:27:48 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:27:48 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:27:48 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:27:48 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:27:48 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:27:48 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:27:48 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:27:48 - db_utils - INFO -   Database version: 0
2024-10-29 09:27:48 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:27:48 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:27:48 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:27:48 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:27:48 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:27:48 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:27:48 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO - Database index creation completed
2024-10-29 09:27:48 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:27:48 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:48 - __main__ - INFO - Application shutting down
2024-10-29 09:27:48 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:27:48 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:27:48 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 09:27:48 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:27:48 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:27:48 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:27:48 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:27:48 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:27:48 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:27:48 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:27:48 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:27:48 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:27:48 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:27:48 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:27:48 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:27:48 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:27:48 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:27:48 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:27:48 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:27:48 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:27:48 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:27:48 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:27:48 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:27:48 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:27:48 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:27:48 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:27:48 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:27:48 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:27:48 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:27:48 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:27:48 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:27:48 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:27:48 - db_utils - INFO - Database index creation completed
2024-10-29 09:27:48 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:27:48 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:27:48 - __main__ - INFO - Application setup complete
2024-10-29 09:27:48 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:27:48 - tun_utils - INFO - Filtering bookings for date: 2024-10-29 00:00:00+01:00
2024-10-29 09:27:48 - tun_utils - INFO - Filtering bookings for date: 2024-10-29 00:00:00+01:00
2024-10-29 09:27:48 - map_utils - INFO - Starter vis_dagens_tunkart med 0 bestillinger
2024-10-29 09:27:49 - customer_utils - INFO - Successfully loaded 94 customers from database
2024-10-29 09:27:49 - customer_utils - INFO - Kolonner i kundedatabasen: ['Id', 'Latitude', 'Longitude', 'Subscription', 'Type']
2024-10-29 09:27:49 - __main__ - INFO - Application shutting down
2024-10-29 09:27:49 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:27:49 - __main__ - INFO - Starting application initialization
2024-10-29 09:27:49 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:27:49 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:27:49 - db_utils - INFO -   Database version: 0
2024-10-29 09:27:49 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:27:49 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:27:49 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:27:49 - db_utils - INFO -   Row count in login_history: 263
2024-10-29 09:27:49 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:27:49 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:27:49 - db_utils - INFO -   Database version: 0
2024-10-29 09:27:49 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:27:49 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:27:49 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:27:49 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:27:49 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:27:49 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:27:49 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:27:49 - db_utils - INFO -   Database version: 0
2024-10-29 09:27:49 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:27:49 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:27:49 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:27:49 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:27:49 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:27:49 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:27:49 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:27:49 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:27:49 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:27:49 - db_utils - INFO -   Database version: 0
2024-10-29 09:27:49 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:27:49 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:27:49 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:27:49 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:27:49 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:49 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:27:49 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:27:49 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 09:27:49 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:27:49 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:27:49 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:27:49 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:27:49 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:27:49 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:27:49 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:27:49 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:27:49 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:27:49 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:27:49 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:27:49 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:27:49 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:27:49 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:27:49 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:27:49 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:27:49 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:27:49 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:27:49 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:27:49 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:27:49 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:27:49 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:27:49 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:27:49 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:27:49 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:27:49 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:27:49 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:27:49 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:27:49 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:27:49 - db_utils - INFO - Database index creation completed
2024-10-29 09:27:49 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:27:49 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:27:49 - __main__ - INFO - Application setup complete
2024-10-29 09:27:49 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:27:49 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-29 09:27:50 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 09:27:50 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 09:27:50 - __main__ - INFO - Application shutting down
2024-10-29 09:27:50 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:27:50 - __main__ - INFO - Starting application initialization
2024-10-29 09:27:50 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:27:50 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:27:50 - db_utils - INFO -   Database version: 0
2024-10-29 09:27:50 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:27:50 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:27:50 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:27:50 - db_utils - INFO -   Row count in login_history: 263
2024-10-29 09:27:50 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:27:50 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:27:50 - db_utils - INFO -   Database version: 0
2024-10-29 09:27:50 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:27:50 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:27:50 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:27:50 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:27:50 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:27:50 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:27:50 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:27:50 - db_utils - INFO -   Database version: 0
2024-10-29 09:27:50 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:27:50 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:27:50 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:27:50 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:27:50 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:27:50 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:27:50 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:27:50 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:27:50 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:27:50 - db_utils - INFO -   Database version: 0
2024-10-29 09:27:50 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:27:50 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:27:50 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:27:50 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:27:50 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:27:50 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:27:50 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:27:50 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 09:27:50 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:27:50 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:27:50 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:27:50 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:27:50 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:27:50 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:27:50 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:27:50 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:27:50 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:27:50 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:27:50 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:27:50 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:27:50 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:27:50 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:27:50 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:27:50 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:27:50 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:27:50 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:27:50 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:27:50 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:27:50 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:27:50 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:27:50 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:27:50 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:27:50 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:27:50 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:27:50 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:27:50 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:27:50 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:27:50 - db_utils - INFO - Database index creation completed
2024-10-29 09:27:50 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:27:50 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:27:50 - __main__ - INFO - Application setup complete
2024-10-29 09:27:50 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:27:51 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 09:27:51 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 09:27:51 - __main__ - INFO - Application shutting down
2024-10-29 09:29:43 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:29:43 - __main__ - INFO - Starting application initialization
2024-10-29 09:29:43 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:29:43 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:29:43 - db_utils - INFO -   Database version: 0
2024-10-29 09:29:43 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:29:43 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:29:43 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:29:43 - db_utils - INFO -   Row count in login_history: 263
2024-10-29 09:29:43 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:29:43 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:29:43 - db_utils - INFO -   Database version: 0
2024-10-29 09:29:43 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:29:43 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:29:43 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:29:43 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:29:43 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:29:43 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:29:43 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:29:43 - db_utils - INFO -   Database version: 0
2024-10-29 09:29:43 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:29:43 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:29:43 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:29:43 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:29:43 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:29:43 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:29:43 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:29:43 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:29:43 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:29:43 - db_utils - INFO -   Database version: 0
2024-10-29 09:29:43 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:29:43 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:29:43 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:29:43 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:29:43 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:43 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:29:43 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:29:43 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 09:29:43 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:29:43 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:29:43 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:29:43 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:29:43 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:29:43 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:29:43 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:29:43 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:29:43 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:29:43 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:29:43 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:29:43 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:29:43 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:29:43 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:29:43 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:29:43 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:29:43 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:29:43 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:29:43 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:29:43 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:29:43 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:29:43 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:29:43 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:29:43 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:29:43 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:29:43 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:29:43 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:29:43 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:29:43 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:29:43 - db_utils - INFO - Database index creation completed
2024-10-29 09:29:43 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:29:43 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:29:43 - __main__ - INFO - Application setup complete
2024-10-29 09:29:43 - __main__ - INFO - Application shutting down
2024-10-29 09:29:46 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:29:46 - __main__ - INFO - Starting application initialization
2024-10-29 09:29:46 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:29:46 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:29:46 - db_utils - INFO -   Database version: 0
2024-10-29 09:29:46 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:29:46 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:29:46 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:29:46 - db_utils - INFO -   Row count in login_history: 263
2024-10-29 09:29:46 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:29:46 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:29:46 - db_utils - INFO -   Database version: 0
2024-10-29 09:29:46 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:29:46 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:29:46 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:29:46 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:29:46 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:29:46 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:29:46 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:29:46 - db_utils - INFO -   Database version: 0
2024-10-29 09:29:46 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:29:46 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:29:46 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:29:46 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:29:46 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:29:46 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:29:46 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:29:46 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:29:46 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:29:46 - db_utils - INFO -   Database version: 0
2024-10-29 09:29:46 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:29:46 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:29:46 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:29:46 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:29:46 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:46 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:29:46 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:29:46 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 09:29:46 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:29:46 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:29:46 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:29:46 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:29:46 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:29:46 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:29:46 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:29:46 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:29:46 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:29:46 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:29:46 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:29:46 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:29:46 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:29:46 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:29:46 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:29:46 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:29:46 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:29:46 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:29:46 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:29:46 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:29:46 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:29:46 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:29:46 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:29:46 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:29:46 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:29:46 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:29:46 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:29:46 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:29:46 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:29:46 - db_utils - INFO - Database index creation completed
2024-10-29 09:29:46 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:29:46 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:29:46 - __main__ - INFO - Application setup complete
2024-10-29 09:29:46 - __main__ - INFO - Application shutting down
2024-10-29 09:29:50 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:29:50 - __main__ - INFO - Starting application initialization
2024-10-29 09:29:50 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:29:50 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:29:50 - db_utils - INFO -   Database version: 0
2024-10-29 09:29:50 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:29:50 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:29:50 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:29:50 - db_utils - INFO -   Row count in login_history: 263
2024-10-29 09:29:50 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:29:50 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:29:50 - db_utils - INFO -   Database version: 0
2024-10-29 09:29:50 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:29:50 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:29:50 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:29:50 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:29:50 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:29:50 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:29:50 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:29:50 - db_utils - INFO -   Database version: 0
2024-10-29 09:29:50 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:29:50 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:29:50 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:29:50 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:29:50 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:29:50 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:29:50 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:29:50 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:29:50 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:29:50 - db_utils - INFO -   Database version: 0
2024-10-29 09:29:50 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:29:50 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:29:50 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:29:50 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:29:50 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:29:50 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:29:50 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 09:29:50 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:29:50 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:29:50 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:29:50 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:29:50 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:29:50 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:29:50 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:29:50 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:29:50 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:29:50 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:29:50 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:29:50 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:29:50 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:29:50 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:29:50 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:29:50 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:29:50 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:29:50 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:29:50 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:29:50 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:29:50 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:29:50 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:29:50 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:29:50 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:29:50 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:29:50 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:29:50 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:29:50 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:29:50 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:29:50 - db_utils - INFO - Database index creation completed
2024-10-29 09:29:50 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:29:50 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:29:50 - __main__ - INFO - Application setup complete
2024-10-29 09:29:50 - auth_utils - INFO - Login attempt for ID: 999
2024-10-29 09:29:50 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 09:29:50 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 09:29:50 - db_utils - INFO - Attempting to create database engine...
2024-10-29 09:29:50 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 09:29:50 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-29 09:29:50 - auth_utils - INFO - User 999 authenticated successfully
2024-10-29 09:29:50 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:29:50 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-29 09:29:50 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-29 09:29:50 - auth_utils - INFO - Successful login for ID: 999
2024-10-29 09:29:50 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-29 09:29:50 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 09:29:50 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 09:29:50 - db_utils - INFO - Attempting to create database engine...
2024-10-29 09:29:50 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 09:29:50 - auth_utils - INFO - Rate limit reset for user 999
2024-10-29 09:29:50 - __main__ - INFO - Application shutting down
2024-10-29 09:29:50 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:29:50 - __main__ - INFO - Starting application initialization
2024-10-29 09:29:50 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:29:50 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:29:50 - db_utils - INFO -   Database version: 0
2024-10-29 09:29:50 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:29:50 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:29:50 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:29:50 - db_utils - INFO -   Row count in login_history: 264
2024-10-29 09:29:50 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:29:50 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:29:50 - db_utils - INFO -   Database version: 0
2024-10-29 09:29:50 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:29:50 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:29:50 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:29:50 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:29:50 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:29:50 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:29:50 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:29:50 - db_utils - INFO -   Database version: 0
2024-10-29 09:29:50 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:29:50 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:29:50 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:29:50 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:29:50 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:29:50 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:29:50 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:29:50 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:29:50 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:29:50 - db_utils - INFO -   Database version: 0
2024-10-29 09:29:50 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:29:50 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:29:50 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:29:50 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:29:50 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:29:50 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:29:50 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:29:50 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 09:29:50 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:29:50 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:29:50 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:29:50 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:29:50 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:29:50 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:29:50 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:29:50 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:29:50 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:29:50 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:29:50 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:29:50 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:29:50 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:29:50 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:29:50 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:29:50 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:29:50 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:29:50 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:29:50 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:29:50 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:29:50 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:29:50 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:29:50 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:29:50 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:29:50 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:29:50 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:29:50 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:29:50 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:29:50 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:29:50 - db_utils - INFO - Database index creation completed
2024-10-29 09:29:50 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:29:50 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:29:50 - __main__ - INFO - Application setup complete
2024-10-29 09:29:50 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:29:50 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-29 09:29:51 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 09:29:51 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 09:29:51 - __main__ - INFO - Application shutting down
2024-10-29 09:31:13 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:31:13 - __main__ - INFO - Starting application initialization
2024-10-29 09:31:13 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:31:13 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:31:13 - db_utils - INFO -   Database version: 0
2024-10-29 09:31:13 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:31:13 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:31:13 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:31:13 - db_utils - INFO -   Row count in login_history: 264
2024-10-29 09:31:13 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:31:13 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:31:13 - db_utils - INFO -   Database version: 0
2024-10-29 09:31:13 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:31:13 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:31:13 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:31:13 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:31:13 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:31:13 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:31:13 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:31:13 - db_utils - INFO -   Database version: 0
2024-10-29 09:31:13 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:31:13 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:31:13 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:31:13 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:31:13 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:31:13 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:31:13 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:31:13 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:31:13 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:31:13 - db_utils - INFO -   Database version: 0
2024-10-29 09:31:13 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:31:13 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:31:13 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:31:13 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:31:13 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:13 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:31:13 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:31:13 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 09:31:13 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:31:13 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:31:13 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:31:13 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:31:13 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:31:13 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:31:13 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:31:13 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:31:13 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:31:13 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:31:13 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:31:13 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:31:13 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:31:13 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:31:13 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:31:13 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:31:13 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:31:13 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:31:13 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:31:13 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:31:13 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:31:13 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:31:13 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:31:13 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:31:13 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:31:13 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:31:13 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:31:13 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:31:13 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:31:13 - db_utils - INFO - Database index creation completed
2024-10-29 09:31:13 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:31:13 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:31:13 - __main__ - INFO - Application setup complete
2024-10-29 09:31:13 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:31:15 - __main__ - INFO - Application shutting down
2024-10-29 09:31:16 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:31:16 - __main__ - INFO - Starting application initialization
2024-10-29 09:31:16 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:31:16 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:31:16 - db_utils - INFO -   Database version: 0
2024-10-29 09:31:16 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:31:16 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:31:16 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:31:16 - db_utils - INFO -   Row count in login_history: 264
2024-10-29 09:31:16 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:31:16 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:31:16 - db_utils - INFO -   Database version: 0
2024-10-29 09:31:16 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:31:16 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:31:16 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:31:16 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:31:16 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:31:16 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:31:16 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:31:16 - db_utils - INFO -   Database version: 0
2024-10-29 09:31:16 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:31:16 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:31:16 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:31:16 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:31:16 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:31:16 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:31:16 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:31:16 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:31:16 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:31:16 - db_utils - INFO -   Database version: 0
2024-10-29 09:31:16 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:31:16 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:31:16 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:31:16 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:31:16 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:16 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:31:16 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:31:16 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 09:31:16 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:31:16 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:31:16 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:31:16 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:31:16 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:31:16 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:31:16 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:31:16 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:31:16 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:31:16 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:31:16 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:31:16 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:31:16 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:31:16 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:31:16 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:31:16 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:31:16 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:31:16 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:31:16 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:31:16 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:31:16 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:31:16 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:31:16 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:31:16 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:31:16 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:31:16 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:31:16 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:31:16 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:31:16 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:31:16 - db_utils - INFO - Database index creation completed
2024-10-29 09:31:16 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:31:16 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:31:16 - __main__ - INFO - Application setup complete
2024-10-29 09:31:16 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:31:16 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-29 09:31:18 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 09:31:18 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 09:31:18 - __main__ - INFO - Application shutting down
2024-10-29 09:31:32 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:31:32 - __main__ - INFO - Starting application initialization
2024-10-29 09:31:32 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:31:32 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:31:32 - db_utils - INFO -   Database version: 0
2024-10-29 09:31:32 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:31:32 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:31:32 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:31:32 - db_utils - INFO -   Row count in login_history: 264
2024-10-29 09:31:32 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:31:32 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:31:32 - db_utils - INFO -   Database version: 0
2024-10-29 09:31:32 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:31:32 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:31:32 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:31:32 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:31:32 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:31:32 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:31:32 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:31:32 - db_utils - INFO -   Database version: 0
2024-10-29 09:31:32 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:31:32 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:31:32 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:31:32 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:31:32 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:31:32 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:31:32 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:31:32 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:31:32 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:31:32 - db_utils - INFO -   Database version: 0
2024-10-29 09:31:32 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:31:32 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:31:32 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:31:32 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:31:32 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:32 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:31:32 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:31:32 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 09:31:32 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:31:32 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:31:32 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:31:32 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:31:32 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:31:32 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:31:32 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:31:32 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:31:32 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:31:32 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:31:32 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:31:32 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:31:32 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:31:32 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:31:32 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:31:32 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:31:32 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:31:32 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:31:32 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:31:32 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:31:32 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:31:32 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:31:32 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:31:32 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:31:32 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:31:32 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:31:32 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:31:32 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:31:32 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:31:32 - db_utils - INFO - Database index creation completed
2024-10-29 09:31:32 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:31:32 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:31:32 - __main__ - INFO - Application setup complete
2024-10-29 09:31:32 - __main__ - INFO - Application shutting down
2024-10-29 09:31:35 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:31:35 - __main__ - INFO - Starting application initialization
2024-10-29 09:31:35 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:31:35 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:31:35 - db_utils - INFO -   Database version: 0
2024-10-29 09:31:35 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:31:35 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:31:35 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:31:35 - db_utils - INFO -   Row count in login_history: 264
2024-10-29 09:31:35 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:31:35 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:31:35 - db_utils - INFO -   Database version: 0
2024-10-29 09:31:35 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:31:35 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:31:35 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:31:35 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:31:35 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:31:35 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:31:35 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:31:35 - db_utils - INFO -   Database version: 0
2024-10-29 09:31:35 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:31:35 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:31:35 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:31:35 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:31:35 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:31:35 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:31:35 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:31:35 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:31:35 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:31:35 - db_utils - INFO -   Database version: 0
2024-10-29 09:31:35 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:31:35 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:31:35 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:31:35 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:31:35 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:31:35 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:31:35 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 09:31:35 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:31:35 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:31:35 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:31:35 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:31:35 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:31:35 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:31:35 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:31:35 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:31:35 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:31:35 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:31:35 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:31:35 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:31:35 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:31:35 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:31:35 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:31:35 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:31:35 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:31:35 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:31:35 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:31:35 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:31:35 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:31:35 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:31:35 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:31:35 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:31:35 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:31:35 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:31:35 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:31:35 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:31:35 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:31:35 - db_utils - INFO - Database index creation completed
2024-10-29 09:31:35 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:31:35 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:31:35 - __main__ - INFO - Application setup complete
2024-10-29 09:31:35 - auth_utils - INFO - Login attempt for ID: 999
2024-10-29 09:31:35 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 09:31:35 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 09:31:35 - db_utils - INFO - Attempting to create database engine...
2024-10-29 09:31:35 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 09:31:35 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-29 09:31:35 - auth_utils - INFO - User 999 authenticated successfully
2024-10-29 09:31:35 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:31:35 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-29 09:31:35 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-29 09:31:35 - auth_utils - INFO - Successful login for ID: 999
2024-10-29 09:31:35 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-29 09:31:35 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 09:31:35 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 09:31:35 - db_utils - INFO - Attempting to create database engine...
2024-10-29 09:31:35 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 09:31:35 - auth_utils - INFO - Rate limit reset for user 999
2024-10-29 09:31:35 - __main__ - INFO - Application shutting down
2024-10-29 09:31:35 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:31:35 - __main__ - INFO - Starting application initialization
2024-10-29 09:31:35 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:31:35 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:31:35 - db_utils - INFO -   Database version: 0
2024-10-29 09:31:35 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:31:35 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:31:35 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:31:35 - db_utils - INFO -   Row count in login_history: 265
2024-10-29 09:31:35 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:31:35 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:31:35 - db_utils - INFO -   Database version: 0
2024-10-29 09:31:35 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:31:35 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:31:35 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:31:35 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:31:35 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:31:35 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:31:35 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:31:35 - db_utils - INFO -   Database version: 0
2024-10-29 09:31:35 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:31:35 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:31:35 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:31:35 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:31:35 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:31:35 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:31:35 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:31:35 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:31:35 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:31:35 - db_utils - INFO -   Database version: 0
2024-10-29 09:31:35 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:31:35 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:31:35 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:31:35 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:31:35 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:31:35 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:31:35 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:31:35 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 09:31:35 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:31:35 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:31:35 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:31:35 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:31:35 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:31:35 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:31:35 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:31:35 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:31:35 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:31:35 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:31:35 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:31:35 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:31:35 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:31:35 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:31:35 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:31:35 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:31:35 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:31:35 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:31:35 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:31:35 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:31:35 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:31:35 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:31:35 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:31:35 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:31:35 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:31:35 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:31:35 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:31:35 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:31:35 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:31:35 - db_utils - INFO - Database index creation completed
2024-10-29 09:31:35 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:31:35 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:31:35 - __main__ - INFO - Application setup complete
2024-10-29 09:31:35 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:31:35 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-29 09:31:36 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 09:31:36 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 09:31:36 - __main__ - INFO - Application shutting down
2024-10-29 09:48:03 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:48:03 - __main__ - INFO - Starting application initialization
2024-10-29 09:48:03 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:48:03 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:48:03 - db_utils - INFO -   Database version: 0
2024-10-29 09:48:03 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:48:03 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:48:03 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:48:03 - db_utils - INFO -   Row count in login_history: 265
2024-10-29 09:48:03 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:48:03 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:48:03 - db_utils - INFO -   Database version: 0
2024-10-29 09:48:03 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:48:03 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:48:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:48:03 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:48:03 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:48:03 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:48:03 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:48:03 - db_utils - INFO -   Database version: 0
2024-10-29 09:48:03 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:48:03 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:48:03 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:48:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:48:03 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:48:03 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:48:03 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:48:03 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:48:03 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:48:03 - db_utils - INFO -   Database version: 0
2024-10-29 09:48:03 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:48:03 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:48:03 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:48:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:48:03 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:03 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:48:03 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:48:03 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 09:48:03 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:48:03 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:48:03 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:48:03 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:48:03 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:48:03 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:48:03 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:48:03 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:48:03 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:48:03 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:48:03 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:48:03 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:48:03 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:48:03 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:48:03 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:48:03 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:48:03 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:48:03 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:48:03 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:48:03 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:48:03 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:48:03 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:48:03 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:48:03 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:48:03 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:48:03 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:48:03 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:48:03 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:48:03 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:48:03 - db_utils - INFO - Database index creation completed
2024-10-29 09:48:03 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:48:03 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:48:03 - __main__ - INFO - Application setup complete
2024-10-29 09:48:03 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:48:03 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:48:03 - __main__ - INFO - Application shutting down
2024-10-29 09:48:04 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:48:04 - __main__ - INFO - Starting application initialization
2024-10-29 09:48:04 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:48:04 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:48:04 - db_utils - INFO -   Database version: 0
2024-10-29 09:48:04 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:48:04 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:48:04 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:48:04 - db_utils - INFO -   Row count in login_history: 265
2024-10-29 09:48:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:48:04 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:48:04 - db_utils - INFO -   Database version: 0
2024-10-29 09:48:04 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:48:04 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:48:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:48:04 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:48:04 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:48:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:48:04 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:48:04 - db_utils - INFO -   Database version: 0
2024-10-29 09:48:04 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:48:04 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:48:04 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:48:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:48:04 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:48:04 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:48:04 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:48:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:48:04 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:48:04 - db_utils - INFO -   Database version: 0
2024-10-29 09:48:04 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:48:04 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:48:04 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:48:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:48:04 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:48:04 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:48:04 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:48:04 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 09:48:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:48:04 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:48:04 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:48:04 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:48:04 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:48:04 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:48:04 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:48:04 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:48:04 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:48:04 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:48:04 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:48:04 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:48:04 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:48:04 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:48:04 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:48:04 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:48:04 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:48:04 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:48:04 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:48:04 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:48:04 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:48:04 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:48:04 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:48:04 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:48:04 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:48:04 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:48:04 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:48:04 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:48:04 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:48:04 - db_utils - INFO - Database index creation completed
2024-10-29 09:48:04 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:48:04 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:48:04 - __main__ - INFO - Application setup complete
2024-10-29 09:48:04 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:48:04 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-29 09:48:04 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 09:48:04 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 09:48:04 - __main__ - INFO - Application shutting down
2024-10-29 09:54:57 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:54:57 - __main__ - INFO - Starting application initialization
2024-10-29 09:54:57 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:54:57 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:54:57 - db_utils - INFO -   Database version: 0
2024-10-29 09:54:57 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:54:57 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:54:57 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:54:57 - db_utils - INFO -   Row count in login_history: 265
2024-10-29 09:54:57 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:54:57 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:54:57 - db_utils - INFO -   Database version: 0
2024-10-29 09:54:57 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:54:57 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:54:57 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:54:57 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:54:57 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:54:57 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:54:57 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:54:57 - db_utils - INFO -   Database version: 0
2024-10-29 09:54:57 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:54:57 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:54:57 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:54:57 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:54:57 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:54:57 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:54:57 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:54:57 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:54:57 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:54:57 - db_utils - INFO -   Database version: 0
2024-10-29 09:54:57 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:54:57 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:54:57 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:54:57 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:54:57 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:57 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:54:57 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:54:57 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 09:54:57 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:54:57 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:54:57 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:54:57 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:54:57 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:54:57 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:54:57 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:54:57 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:54:57 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:54:57 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:54:57 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:54:57 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:54:57 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:54:57 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:54:57 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:54:57 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:54:57 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:54:57 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:54:57 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:54:57 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:54:57 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:54:57 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:54:57 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:54:57 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:54:57 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:54:57 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:54:57 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:54:57 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:54:57 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:54:57 - db_utils - INFO - Database index creation completed
2024-10-29 09:54:57 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:54:57 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:54:57 - __main__ - INFO - Application setup complete
2024-10-29 09:54:57 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:54:57 - tun_utils - INFO - Filtering bookings for date: 2024-10-29 00:00:00+01:00
2024-10-29 09:54:57 - tun_utils - INFO - Filtering bookings for date: 2024-10-29 00:00:00+01:00
2024-10-29 09:54:58 - map_utils - INFO - Starter vis_dagens_tunkart med 0 bestillinger
2024-10-29 09:54:58 - customer_utils - INFO - Successfully loaded 94 customers from database
2024-10-29 09:54:58 - customer_utils - INFO - Kolonner i kundedatabasen: ['Id', 'Latitude', 'Longitude', 'Subscription', 'Type']
2024-10-29 09:54:58 - __main__ - INFO - Application shutting down
2024-10-29 09:54:58 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:54:58 - __main__ - INFO - Starting application initialization
2024-10-29 09:54:58 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:54:58 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:54:58 - db_utils - INFO -   Database version: 0
2024-10-29 09:54:58 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:54:58 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:54:58 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:54:58 - db_utils - INFO -   Row count in login_history: 265
2024-10-29 09:54:58 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:54:58 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:54:58 - db_utils - INFO -   Database version: 0
2024-10-29 09:54:58 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:54:58 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:54:58 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:54:58 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:54:58 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:54:58 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:54:58 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:54:58 - db_utils - INFO -   Database version: 0
2024-10-29 09:54:58 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:54:58 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:54:58 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:54:58 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:54:58 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:54:58 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:54:58 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:54:58 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:54:58 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:54:58 - db_utils - INFO -   Database version: 0
2024-10-29 09:54:58 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:54:58 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:54:58 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:54:58 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:54:58 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:54:58 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:54:58 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:54:58 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 09:54:58 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:54:58 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:54:58 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:54:58 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:54:58 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:54:58 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:54:58 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:54:58 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:54:58 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:54:58 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:54:58 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:54:58 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:54:58 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:54:58 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:54:58 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:54:58 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:54:58 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:54:58 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:54:58 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:54:58 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:54:58 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:54:58 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:54:58 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:54:58 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:54:58 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:54:58 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:54:58 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:54:58 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:54:58 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:54:58 - db_utils - INFO - Database index creation completed
2024-10-29 09:54:58 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:54:58 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:54:58 - __main__ - INFO - Application setup complete
2024-10-29 09:54:58 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:54:59 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-29 09:54:59 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 09:54:59 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 09:54:59 - __main__ - INFO - Application shutting down
2024-10-29 09:55:07 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:55:07 - __main__ - INFO - Starting application initialization
2024-10-29 09:55:07 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:55:07 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:55:07 - db_utils - INFO -   Database version: 0
2024-10-29 09:55:07 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:55:07 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:55:07 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:55:07 - db_utils - INFO -   Row count in login_history: 265
2024-10-29 09:55:07 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:55:07 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:55:07 - db_utils - INFO -   Database version: 0
2024-10-29 09:55:07 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:55:07 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:55:07 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:55:07 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:55:07 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:55:07 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:55:07 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:55:07 - db_utils - INFO -   Database version: 0
2024-10-29 09:55:07 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:55:07 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:55:07 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:55:07 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:55:07 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:55:07 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:55:07 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:55:07 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:55:07 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:55:07 - db_utils - INFO -   Database version: 0
2024-10-29 09:55:07 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:55:07 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:55:07 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:55:07 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:55:07 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:07 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:55:07 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:55:07 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 09:55:07 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:55:07 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:55:07 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:55:07 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:55:07 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:55:07 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:55:07 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:55:07 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:55:07 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:55:07 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:55:07 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:55:07 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:55:07 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:55:07 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:55:07 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:55:07 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:55:07 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:55:07 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:55:07 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:55:07 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:55:07 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:55:07 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:55:07 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:55:07 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:55:07 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:55:07 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:55:07 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:55:07 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:55:07 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:55:07 - db_utils - INFO - Database index creation completed
2024-10-29 09:55:07 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:55:07 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:55:07 - __main__ - INFO - Application setup complete
2024-10-29 09:55:07 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:55:07 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:55:07 - __main__ - INFO - Application shutting down
2024-10-29 09:55:10 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:55:10 - __main__ - INFO - Starting application initialization
2024-10-29 09:55:10 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:55:10 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:55:10 - db_utils - INFO -   Database version: 0
2024-10-29 09:55:10 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:55:10 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:55:10 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:55:10 - db_utils - INFO -   Row count in login_history: 265
2024-10-29 09:55:10 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:55:10 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:55:10 - db_utils - INFO -   Database version: 0
2024-10-29 09:55:10 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:55:10 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:55:10 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:55:10 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:55:10 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:55:10 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:55:10 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:55:10 - db_utils - INFO -   Database version: 0
2024-10-29 09:55:10 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:55:10 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:55:10 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:55:10 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:55:10 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:55:10 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:55:10 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:55:10 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:55:10 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:55:10 - db_utils - INFO -   Database version: 0
2024-10-29 09:55:10 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:55:10 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:55:10 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:55:10 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:55:10 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:10 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:55:10 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:55:10 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 09:55:10 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:55:10 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:55:10 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:55:10 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:55:10 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:55:10 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:55:10 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:55:10 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:55:10 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:55:10 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:55:10 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:55:10 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:55:10 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:55:10 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:55:10 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:55:10 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:55:10 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:55:10 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:55:10 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:55:10 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:55:10 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:55:10 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:55:10 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:55:10 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:55:10 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:55:10 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:55:10 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:55:10 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:55:10 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:55:10 - db_utils - INFO - Database index creation completed
2024-10-29 09:55:10 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:55:10 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:55:10 - __main__ - INFO - Application setup complete
2024-10-29 09:55:10 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:55:10 - __main__ - INFO - Application shutting down
2024-10-29 09:55:13 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 09:55:13 - __main__ - INFO - Starting application initialization
2024-10-29 09:55:13 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 09:55:13 - db_utils - INFO - Debugging login_history database:
2024-10-29 09:55:13 - db_utils - INFO -   Database version: 0
2024-10-29 09:55:13 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 09:55:13 - db_utils - INFO -   Structure of login_history table:
2024-10-29 09:55:13 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 09:55:13 - db_utils - INFO -   Row count in login_history: 265
2024-10-29 09:55:13 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:55:13 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 09:55:13 - db_utils - INFO -   Database version: 0
2024-10-29 09:55:13 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 09:55:13 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 09:55:13 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:55:13 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 09:55:13 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 09:55:13 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:55:13 - db_utils - INFO - Debugging stroing database:
2024-10-29 09:55:13 - db_utils - INFO -   Database version: 0
2024-10-29 09:55:13 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 09:55:13 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:55:13 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 09:55:13 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:55:13 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 09:55:13 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:55:13 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 09:55:13 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:55:13 - db_utils - INFO - Debugging feedback database:
2024-10-29 09:55:13 - db_utils - INFO -   Database version: 0
2024-10-29 09:55:13 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 09:55:13 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 09:55:13 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -   Structure of feedback table:
2024-10-29 09:55:13 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 09:55:13 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 09:55:13 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 09:55:13 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 09:55:13 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 09:55:13 - db_utils - INFO -   Test query result: (1,)
2024-10-29 09:55:13 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 09:55:13 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:55:13 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:55:13 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:55:13 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:55:13 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:55:13 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:55:13 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 09:55:13 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 09:55:13 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 09:55:13 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 09:55:13 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 09:55:13 - db_utils - INFO - All database schemas verified and updated
2024-10-29 09:55:13 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 09:55:13 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 09:55:13 - db_utils - INFO - login_history table structure is correct
2024-10-29 09:55:13 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:55:13 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:55:13 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 09:55:13 - customer_utils - INFO - Validating customers and passwords
2024-10-29 09:55:13 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 09:55:13 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 09:55:13 - customer_utils - INFO - Customer and password validation complete
2024-10-29 09:55:13 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 09:55:13 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 09:55:13 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 09:55:13 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 09:55:13 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 09:55:13 - db_utils - INFO - Database index creation completed
2024-10-29 09:55:13 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:55:13 - __main__ - INFO - Application initialization completed successfully
2024-10-29 09:55:13 - __main__ - INFO - Application setup complete
2024-10-29 09:55:13 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 09:55:13 - feedback_utils - ERROR - Feil ved henting av feedback: time data "2024-10-22T18:06:32.314741+02:00" doesn't match format "%Y-%m-%dT%H:%M:%S%z", at position 1. You might want to try:
    - passing `format` if your strings have a consistent format;
    - passing `format='ISO8601'` if your strings are all ISO8601 but not necessarily in exactly the same format;
    - passing `format='mixed'`, and the format will be inferred for each element individually. You might want to use `dayfirst` alongside this.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/feedback_utils.py", line 88, in get_feedback
    df['datetime'] = pd.to_datetime(df['datetime'])
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/tools/datetimes.py", line 1067, in to_datetime
    values = convert_listlike(arg._values, format)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/tools/datetimes.py", line 433, in _convert_listlike_datetimes
    return _array_strptime_with_fallback(arg, name, utc, format, exact, errors)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/tools/datetimes.py", line 467, in _array_strptime_with_fallback
    result, tz_out = array_strptime(arg, fmt, exact=exact, errors=errors, utc=utc)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "strptime.pyx", line 501, in pandas._libs.tslibs.strptime.array_strptime
  File "strptime.pyx", line 451, in pandas._libs.tslibs.strptime.array_strptime
  File "strptime.pyx", line 583, in pandas._libs.tslibs.strptime._parse_with_format
ValueError: time data "2024-10-22T18:06:32.314741+02:00" doesn't match format "%Y-%m-%dT%H:%M:%S%z", at position 1. You might want to try:
    - passing `format` if your strings have a consistent format;
    - passing `format='ISO8601'` if your strings are all ISO8601 but not necessarily in exactly the same format;
    - passing `format='mixed'`, and the format will be inferred for each element individually. You might want to use `dayfirst` alongside this.
2024-10-29 09:55:13 - __main__ - INFO - Application shutting down
2024-10-29 11:34:12 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 11:34:12 - __main__ - INFO - Starting application initialization
2024-10-29 11:34:12 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 11:34:12 - db_utils - INFO - Debugging login_history database:
2024-10-29 11:34:12 - db_utils - INFO -   Database version: 0
2024-10-29 11:34:12 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 11:34:12 - db_utils - INFO -   Structure of login_history table:
2024-10-29 11:34:12 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 11:34:12 - db_utils - INFO -   Row count in login_history: 265
2024-10-29 11:34:12 - db_utils - INFO -   Test query result: (1,)
2024-10-29 11:34:12 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 11:34:12 - db_utils - INFO -   Database version: 0
2024-10-29 11:34:12 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 11:34:12 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 11:34:12 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 11:34:12 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 11:34:12 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 11:34:12 - db_utils - INFO -   Test query result: (1,)
2024-10-29 11:34:12 - db_utils - INFO - Debugging stroing database:
2024-10-29 11:34:12 - db_utils - INFO -   Database version: 0
2024-10-29 11:34:12 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 11:34:12 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 11:34:12 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 11:34:12 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 11:34:12 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 11:34:12 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 11:34:12 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 11:34:12 - db_utils - INFO -   Test query result: (1,)
2024-10-29 11:34:12 - db_utils - INFO - Debugging feedback database:
2024-10-29 11:34:12 - db_utils - INFO -   Database version: 0
2024-10-29 11:34:12 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 11:34:12 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 11:34:12 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -   Structure of feedback table:
2024-10-29 11:34:12 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 11:34:12 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:12 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 11:34:12 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 11:34:12 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 11:34:12 - db_utils - INFO -   Test query result: (1,)
2024-10-29 11:34:12 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 11:34:12 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 11:34:12 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 11:34:12 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 11:34:12 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 11:34:12 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 11:34:12 - db_utils - INFO - All database schemas verified and updated
2024-10-29 11:34:12 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 11:34:12 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 11:34:12 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 11:34:12 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 11:34:12 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 11:34:12 - db_utils - INFO - All database schemas verified and updated
2024-10-29 11:34:12 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 11:34:12 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 11:34:12 - db_utils - INFO - login_history table structure is correct
2024-10-29 11:34:12 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 11:34:12 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 11:34:12 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 11:34:12 - customer_utils - INFO - Validating customers and passwords
2024-10-29 11:34:12 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 11:34:12 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 11:34:12 - customer_utils - INFO - Customer and password validation complete
2024-10-29 11:34:12 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 11:34:12 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 11:34:12 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 11:34:12 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 11:34:12 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 11:34:12 - db_utils - INFO - Database index creation completed
2024-10-29 11:34:12 - __main__ - INFO - Application initialization completed successfully
2024-10-29 11:34:12 - __main__ - INFO - Application initialization completed successfully
2024-10-29 11:34:12 - __main__ - INFO - Application setup complete
2024-10-29 11:34:12 - __main__ - INFO - Application shutting down
2024-10-29 11:34:18 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 11:34:18 - __main__ - INFO - Starting application initialization
2024-10-29 11:34:18 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 11:34:18 - db_utils - INFO - Debugging login_history database:
2024-10-29 11:34:18 - db_utils - INFO -   Database version: 0
2024-10-29 11:34:18 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 11:34:18 - db_utils - INFO -   Structure of login_history table:
2024-10-29 11:34:18 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 11:34:18 - db_utils - INFO -   Row count in login_history: 265
2024-10-29 11:34:18 - db_utils - INFO -   Test query result: (1,)
2024-10-29 11:34:18 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 11:34:18 - db_utils - INFO -   Database version: 0
2024-10-29 11:34:18 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 11:34:18 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 11:34:18 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 11:34:18 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 11:34:18 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 11:34:18 - db_utils - INFO -   Test query result: (1,)
2024-10-29 11:34:18 - db_utils - INFO - Debugging stroing database:
2024-10-29 11:34:18 - db_utils - INFO -   Database version: 0
2024-10-29 11:34:18 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 11:34:18 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 11:34:18 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 11:34:18 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 11:34:18 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 11:34:18 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 11:34:18 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 11:34:18 - db_utils - INFO -   Test query result: (1,)
2024-10-29 11:34:18 - db_utils - INFO - Debugging feedback database:
2024-10-29 11:34:18 - db_utils - INFO -   Database version: 0
2024-10-29 11:34:18 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 11:34:18 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 11:34:18 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -   Structure of feedback table:
2024-10-29 11:34:18 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 11:34:18 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 11:34:18 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 11:34:18 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 11:34:18 - db_utils - INFO -   Test query result: (1,)
2024-10-29 11:34:18 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 11:34:18 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 11:34:18 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 11:34:18 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 11:34:18 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 11:34:18 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 11:34:18 - db_utils - INFO - All database schemas verified and updated
2024-10-29 11:34:18 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 11:34:18 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 11:34:18 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 11:34:18 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 11:34:18 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 11:34:18 - db_utils - INFO - All database schemas verified and updated
2024-10-29 11:34:18 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 11:34:18 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 11:34:18 - db_utils - INFO - login_history table structure is correct
2024-10-29 11:34:18 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 11:34:18 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 11:34:18 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 11:34:18 - customer_utils - INFO - Validating customers and passwords
2024-10-29 11:34:18 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 11:34:18 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 11:34:18 - customer_utils - INFO - Customer and password validation complete
2024-10-29 11:34:18 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 11:34:18 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 11:34:18 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 11:34:18 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 11:34:18 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 11:34:18 - db_utils - INFO - Database index creation completed
2024-10-29 11:34:18 - __main__ - INFO - Application initialization completed successfully
2024-10-29 11:34:18 - __main__ - INFO - Application initialization completed successfully
2024-10-29 11:34:18 - __main__ - INFO - Application setup complete
2024-10-29 11:34:18 - auth_utils - INFO - Login attempt for ID: 999
2024-10-29 11:34:18 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 11:34:18 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 11:34:18 - db_utils - INFO - Attempting to create database engine...
2024-10-29 11:34:18 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 11:34:18 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-29 11:34:18 - auth_utils - INFO - User 999 authenticated successfully
2024-10-29 11:34:18 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 11:34:18 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-29 11:34:18 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-29 11:34:18 - auth_utils - INFO - Successful login for ID: 999
2024-10-29 11:34:18 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-29 11:34:18 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 11:34:18 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 11:34:18 - db_utils - INFO - Attempting to create database engine...
2024-10-29 11:34:18 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 11:34:18 - auth_utils - INFO - Rate limit reset for user 999
2024-10-29 11:34:18 - __main__ - INFO - Application shutting down
2024-10-29 11:34:18 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 11:34:18 - __main__ - INFO - Starting application initialization
2024-10-29 11:34:18 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 11:34:18 - db_utils - INFO - Debugging login_history database:
2024-10-29 11:34:18 - db_utils - INFO -   Database version: 0
2024-10-29 11:34:18 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 11:34:18 - db_utils - INFO -   Structure of login_history table:
2024-10-29 11:34:18 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 11:34:18 - db_utils - INFO -   Row count in login_history: 266
2024-10-29 11:34:18 - db_utils - INFO -   Test query result: (1,)
2024-10-29 11:34:18 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 11:34:18 - db_utils - INFO -   Database version: 0
2024-10-29 11:34:18 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 11:34:18 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 11:34:18 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 11:34:18 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 11:34:18 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 11:34:18 - db_utils - INFO -   Test query result: (1,)
2024-10-29 11:34:18 - db_utils - INFO - Debugging stroing database:
2024-10-29 11:34:18 - db_utils - INFO -   Database version: 0
2024-10-29 11:34:18 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 11:34:18 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 11:34:18 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 11:34:18 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 11:34:18 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 11:34:18 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 11:34:18 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 11:34:18 - db_utils - INFO -   Test query result: (1,)
2024-10-29 11:34:18 - db_utils - INFO - Debugging feedback database:
2024-10-29 11:34:18 - db_utils - INFO -   Database version: 0
2024-10-29 11:34:18 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 11:34:18 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 11:34:18 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -   Structure of feedback table:
2024-10-29 11:34:18 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 11:34:18 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 11:34:18 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 11:34:18 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 11:34:18 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 11:34:18 - db_utils - INFO -   Test query result: (1,)
2024-10-29 11:34:18 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 11:34:18 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 11:34:18 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 11:34:18 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 11:34:18 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 11:34:18 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 11:34:18 - db_utils - INFO - All database schemas verified and updated
2024-10-29 11:34:18 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 11:34:18 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 11:34:18 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 11:34:18 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 11:34:18 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 11:34:18 - db_utils - INFO - All database schemas verified and updated
2024-10-29 11:34:18 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 11:34:18 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 11:34:18 - db_utils - INFO - login_history table structure is correct
2024-10-29 11:34:18 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 11:34:18 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 11:34:18 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 11:34:18 - customer_utils - INFO - Validating customers and passwords
2024-10-29 11:34:18 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 11:34:18 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 11:34:18 - customer_utils - INFO - Customer and password validation complete
2024-10-29 11:34:18 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 11:34:18 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 11:34:18 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 11:34:18 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 11:34:18 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 11:34:18 - db_utils - INFO - Database index creation completed
2024-10-29 11:34:18 - __main__ - INFO - Application initialization completed successfully
2024-10-29 11:34:18 - __main__ - INFO - Application initialization completed successfully
2024-10-29 11:34:18 - __main__ - INFO - Application setup complete
2024-10-29 11:34:18 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 11:34:18 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-29 11:34:19 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 11:34:19 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 11:34:19 - __main__ - INFO - Application shutting down
2024-10-29 12:06:44 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:06:44 - __main__ - INFO - Starting application initialization
2024-10-29 12:06:44 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:06:44 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:06:44 - db_utils - INFO -   Database version: 0
2024-10-29 12:06:44 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:06:44 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:06:44 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:06:44 - db_utils - INFO -   Row count in login_history: 266
2024-10-29 12:06:44 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:06:44 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:06:44 - db_utils - INFO -   Database version: 0
2024-10-29 12:06:44 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:06:44 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:06:44 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:06:44 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:06:44 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:06:44 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:06:44 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:06:44 - db_utils - INFO -   Database version: 0
2024-10-29 12:06:44 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:06:44 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:06:44 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:06:44 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:06:44 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:06:44 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:06:44 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:06:44 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:06:44 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:06:44 - db_utils - INFO -   Database version: 0
2024-10-29 12:06:44 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:06:44 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:06:44 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:06:44 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:06:44 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:44 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:06:44 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:06:44 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 12:06:44 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:06:44 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:06:44 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:06:44 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:06:44 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:06:44 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:06:44 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:06:44 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:06:44 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:06:44 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:06:44 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:06:44 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:06:44 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:06:44 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:06:44 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:06:44 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:06:44 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:06:44 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:06:44 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:06:44 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:06:44 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:06:44 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:06:44 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:06:44 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:06:44 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:06:44 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:06:44 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:06:44 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:06:44 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:06:44 - db_utils - INFO - Database index creation completed
2024-10-29 12:06:44 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:06:44 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:06:44 - __main__ - INFO - Application setup complete
2024-10-29 12:06:44 - __main__ - INFO - Application shutting down
2024-10-29 12:06:48 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:06:48 - __main__ - INFO - Starting application initialization
2024-10-29 12:06:48 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:06:48 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:06:48 - db_utils - INFO -   Database version: 0
2024-10-29 12:06:48 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:06:48 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:06:48 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:06:48 - db_utils - INFO -   Row count in login_history: 266
2024-10-29 12:06:48 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:06:48 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:06:48 - db_utils - INFO -   Database version: 0
2024-10-29 12:06:48 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:06:48 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:06:48 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:06:48 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:06:48 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:06:48 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:06:48 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:06:48 - db_utils - INFO -   Database version: 0
2024-10-29 12:06:48 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:06:48 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:06:48 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:06:48 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:06:48 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:06:48 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:06:48 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:06:48 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:06:48 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:06:48 - db_utils - INFO -   Database version: 0
2024-10-29 12:06:48 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:06:48 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:06:48 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:06:48 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:06:48 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:06:48 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:06:48 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 12:06:48 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:06:48 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:06:48 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:06:48 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:06:48 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:06:48 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:06:48 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:06:48 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:06:48 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:06:48 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:06:48 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:06:48 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:06:48 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:06:48 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:06:48 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:06:48 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:06:48 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:06:48 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:06:48 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:06:48 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:06:48 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:06:48 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:06:48 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:06:48 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:06:48 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:06:48 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:06:48 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:06:48 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:06:48 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:06:48 - db_utils - INFO - Database index creation completed
2024-10-29 12:06:48 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:06:48 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:06:48 - __main__ - INFO - Application setup complete
2024-10-29 12:06:48 - auth_utils - INFO - Login attempt for ID: 999
2024-10-29 12:06:48 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 12:06:48 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 12:06:48 - db_utils - INFO - Attempting to create database engine...
2024-10-29 12:06:48 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 12:06:48 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-29 12:06:48 - auth_utils - INFO - User 999 authenticated successfully
2024-10-29 12:06:48 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:06:48 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-29 12:06:48 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-29 12:06:48 - auth_utils - INFO - Successful login for ID: 999
2024-10-29 12:06:48 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-29 12:06:48 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 12:06:48 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 12:06:48 - db_utils - INFO - Attempting to create database engine...
2024-10-29 12:06:48 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 12:06:48 - auth_utils - INFO - Rate limit reset for user 999
2024-10-29 12:06:48 - __main__ - INFO - Application shutting down
2024-10-29 12:06:48 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:06:48 - __main__ - INFO - Starting application initialization
2024-10-29 12:06:48 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:06:48 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:06:48 - db_utils - INFO -   Database version: 0
2024-10-29 12:06:48 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:06:48 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:06:48 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:06:48 - db_utils - INFO -   Row count in login_history: 267
2024-10-29 12:06:48 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:06:48 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:06:48 - db_utils - INFO -   Database version: 0
2024-10-29 12:06:48 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:06:48 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:06:48 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:06:48 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:06:48 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:06:48 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:06:48 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:06:48 - db_utils - INFO -   Database version: 0
2024-10-29 12:06:48 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:06:48 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:06:48 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:06:48 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:06:48 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:06:48 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:06:48 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:06:48 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:06:48 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:06:48 - db_utils - INFO -   Database version: 0
2024-10-29 12:06:48 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:06:48 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:06:48 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:06:48 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:06:48 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:06:48 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:06:48 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:06:48 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 12:06:48 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:06:48 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:06:48 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:06:48 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:06:48 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:06:48 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:06:48 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:06:48 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:06:48 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:06:48 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:06:48 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:06:48 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:06:48 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:06:48 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:06:48 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:06:48 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:06:48 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:06:48 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:06:48 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:06:48 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:06:48 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:06:48 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:06:48 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:06:48 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:06:48 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:06:48 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:06:48 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:06:48 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:06:48 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:06:48 - db_utils - INFO - Database index creation completed
2024-10-29 12:06:48 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:06:48 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:06:48 - __main__ - INFO - Application setup complete
2024-10-29 12:06:48 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:06:48 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-29 12:06:49 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 12:06:49 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 12:06:49 - __main__ - INFO - Application shutting down
2024-10-29 12:09:05 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:09:05 - __main__ - INFO - Starting application initialization
2024-10-29 12:09:05 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:09:05 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:09:05 - db_utils - INFO -   Database version: 0
2024-10-29 12:09:05 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:09:05 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:09:05 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:09:05 - db_utils - INFO -   Row count in login_history: 267
2024-10-29 12:09:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:09:05 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:09:05 - db_utils - INFO -   Database version: 0
2024-10-29 12:09:05 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:09:05 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:09:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:09:05 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:09:05 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:09:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:09:05 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:09:05 - db_utils - INFO -   Database version: 0
2024-10-29 12:09:05 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:09:05 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:09:05 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:09:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:09:05 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:09:05 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:09:05 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:09:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:09:05 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:09:05 - db_utils - INFO -   Database version: 0
2024-10-29 12:09:05 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:09:05 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:09:05 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:09:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:09:05 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:05 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:09:05 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:09:05 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 12:09:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:09:05 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:09:05 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:09:05 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:09:05 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:09:05 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:09:05 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:09:05 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:09:05 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:09:05 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:09:05 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:09:05 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:09:05 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:09:05 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:09:05 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:09:05 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:09:05 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:09:05 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:09:05 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:09:05 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:09:05 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:09:05 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:09:05 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:09:05 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:09:05 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:09:05 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:09:05 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:09:05 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:09:05 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:09:05 - db_utils - INFO - Database index creation completed
2024-10-29 12:09:05 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:09:05 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:09:05 - __main__ - INFO - Application setup complete
2024-10-29 12:09:05 - __main__ - INFO - Application shutting down
2024-10-29 12:09:07 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:09:07 - __main__ - INFO - Starting application initialization
2024-10-29 12:09:07 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:09:07 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:09:07 - db_utils - INFO -   Database version: 0
2024-10-29 12:09:07 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:09:07 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:09:07 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:09:07 - db_utils - INFO -   Row count in login_history: 267
2024-10-29 12:09:07 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:09:07 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:09:07 - db_utils - INFO -   Database version: 0
2024-10-29 12:09:07 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:09:07 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:09:07 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:09:07 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:09:07 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:09:07 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:09:07 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:09:07 - db_utils - INFO -   Database version: 0
2024-10-29 12:09:07 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:09:07 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:09:07 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:09:07 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:09:07 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:09:07 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:09:07 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:09:07 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:09:07 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:09:07 - db_utils - INFO -   Database version: 0
2024-10-29 12:09:07 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:09:07 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:09:07 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:09:07 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:09:07 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:07 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:09:07 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:09:07 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 12:09:07 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:09:07 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:09:07 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:09:07 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:09:07 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:09:07 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:09:07 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:09:07 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:09:07 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:09:07 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:09:07 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:09:07 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:09:07 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:09:07 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:09:07 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:09:07 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:09:07 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:09:07 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:09:07 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:09:07 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:09:07 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:09:07 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:09:07 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:09:07 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:09:07 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:09:07 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:09:07 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:09:07 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:09:07 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:09:07 - db_utils - INFO - Database index creation completed
2024-10-29 12:09:07 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:09:07 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:09:07 - __main__ - INFO - Application setup complete
2024-10-29 12:09:07 - auth_utils - INFO - Login attempt for ID: 999
2024-10-29 12:09:07 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 12:09:07 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 12:09:07 - db_utils - INFO - Attempting to create database engine...
2024-10-29 12:09:07 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 12:09:07 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-29 12:09:07 - auth_utils - INFO - User 999 authenticated successfully
2024-10-29 12:09:07 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:09:07 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-29 12:09:07 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-29 12:09:07 - auth_utils - INFO - Successful login for ID: 999
2024-10-29 12:09:07 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-29 12:09:07 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 12:09:07 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 12:09:07 - db_utils - INFO - Attempting to create database engine...
2024-10-29 12:09:07 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 12:09:07 - auth_utils - INFO - Rate limit reset for user 999
2024-10-29 12:09:07 - __main__ - INFO - Application shutting down
2024-10-29 12:09:08 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:09:08 - __main__ - INFO - Starting application initialization
2024-10-29 12:09:08 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:09:08 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:09:08 - db_utils - INFO -   Database version: 0
2024-10-29 12:09:08 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:09:08 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:09:08 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:09:08 - db_utils - INFO -   Row count in login_history: 268
2024-10-29 12:09:08 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:09:08 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:09:08 - db_utils - INFO -   Database version: 0
2024-10-29 12:09:08 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:09:08 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:09:08 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:09:08 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:09:08 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:09:08 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:09:08 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:09:08 - db_utils - INFO -   Database version: 0
2024-10-29 12:09:08 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:09:08 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:09:08 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:09:08 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:09:08 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:09:08 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:09:08 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:09:08 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:09:08 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:09:08 - db_utils - INFO -   Database version: 0
2024-10-29 12:09:08 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:09:08 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:09:08 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:09:08 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:09:08 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:08 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:09:08 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:09:08 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 12:09:08 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:09:08 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:09:08 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:09:08 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:09:08 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:09:08 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:09:08 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:09:08 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:09:08 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:09:08 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:09:08 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:09:08 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:09:08 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:09:08 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:09:08 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:09:08 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:09:08 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:09:08 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:09:08 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:09:08 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:09:08 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:09:08 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:09:08 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:09:08 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:09:08 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:09:08 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:09:08 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:09:08 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:09:08 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:09:08 - db_utils - INFO - Database index creation completed
2024-10-29 12:09:08 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:09:08 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:09:08 - __main__ - INFO - Application setup complete
2024-10-29 12:09:08 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:09:08 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-29 12:09:08 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 12:09:08 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 12:09:08 - __main__ - INFO - Application shutting down
2024-10-29 12:09:18 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:09:18 - __main__ - INFO - Starting application initialization
2024-10-29 12:09:18 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:09:18 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:09:18 - db_utils - INFO -   Database version: 0
2024-10-29 12:09:18 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:09:18 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:09:18 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:09:18 - db_utils - INFO -   Row count in login_history: 268
2024-10-29 12:09:18 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:09:18 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:09:18 - db_utils - INFO -   Database version: 0
2024-10-29 12:09:18 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:09:18 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:09:18 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:09:18 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:09:18 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:09:18 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:09:18 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:09:18 - db_utils - INFO -   Database version: 0
2024-10-29 12:09:18 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:09:18 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:09:18 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:09:18 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:09:18 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:09:18 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:09:18 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:09:18 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:09:18 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:09:18 - db_utils - INFO -   Database version: 0
2024-10-29 12:09:18 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:09:18 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:09:18 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:09:18 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:09:18 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:18 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:09:18 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:09:18 - db_utils - INFO -   Row count in feedback: 7
2024-10-29 12:09:18 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:09:18 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:09:18 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:09:18 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:09:18 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:09:18 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:09:18 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:09:18 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:09:18 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:09:18 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:09:18 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:09:18 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:09:18 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:09:18 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:09:18 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:09:18 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:09:18 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:09:18 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:09:18 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:09:18 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:09:18 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:09:18 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:09:18 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:09:18 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:09:18 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:09:18 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:09:18 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:09:18 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:09:18 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:09:18 - db_utils - INFO - Database index creation completed
2024-10-29 12:09:18 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:09:18 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:09:18 - __main__ - INFO - Application setup complete
2024-10-29 12:09:18 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:09:18 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 12:09:18 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 12:09:18 - db_utils - INFO - Query executed successfully on feedback.db. Rows affected: 1
2024-10-29 12:09:18 - feedback_utils - INFO - Feedback saved successfully: Vintervedlikehold, 2024-10-29T00:00:00+01:00, Cabin: 999, hidden: False
2024-10-29 12:09:18 - feedback_utils - INFO - Vedlikeholdsreaksjon lagret for hytte 999: positive
2024-10-29 12:09:18 - __main__ - INFO - Application shutting down
2024-10-29 12:09:19 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:09:19 - __main__ - INFO - Starting application initialization
2024-10-29 12:09:19 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:09:19 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:09:19 - db_utils - INFO -   Database version: 0
2024-10-29 12:09:19 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:09:19 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:09:19 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:09:19 - db_utils - INFO -   Row count in login_history: 268
2024-10-29 12:09:19 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:09:19 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:09:19 - db_utils - INFO -   Database version: 0
2024-10-29 12:09:19 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:09:19 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:09:19 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:09:19 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:09:19 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:09:19 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:09:19 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:09:19 - db_utils - INFO -   Database version: 0
2024-10-29 12:09:19 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:09:19 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:09:19 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:09:19 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:09:19 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:09:19 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:09:19 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:09:19 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:09:19 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:09:19 - db_utils - INFO -   Database version: 0
2024-10-29 12:09:19 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:09:19 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:09:19 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:09:19 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:09:19 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:09:19 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:09:19 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:09:19 - db_utils - INFO -   Row count in feedback: 8
2024-10-29 12:09:19 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:09:19 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:09:19 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:09:19 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:09:19 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:09:19 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:09:19 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:09:19 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:09:19 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:09:19 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:09:19 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:09:19 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:09:19 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:09:19 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:09:19 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:09:19 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:09:19 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:09:19 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:09:19 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:09:19 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:09:19 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:09:19 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:09:19 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:09:19 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:09:19 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:09:19 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:09:19 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:09:19 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:09:19 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:09:19 - db_utils - INFO - Database index creation completed
2024-10-29 12:09:19 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:09:19 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:09:19 - __main__ - INFO - Application setup complete
2024-10-29 12:09:19 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:09:19 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 12:09:19 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 12:09:19 - __main__ - INFO - Application shutting down
2024-10-29 12:10:31 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:10:31 - __main__ - INFO - Starting application initialization
2024-10-29 12:10:31 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:10:31 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:10:31 - db_utils - INFO -   Database version: 0
2024-10-29 12:10:31 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:10:31 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:10:31 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:10:31 - db_utils - INFO -   Row count in login_history: 268
2024-10-29 12:10:31 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:10:31 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:10:31 - db_utils - INFO -   Database version: 0
2024-10-29 12:10:31 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:10:31 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:10:31 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:10:31 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:10:31 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:10:31 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:10:31 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:10:31 - db_utils - INFO -   Database version: 0
2024-10-29 12:10:31 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:10:31 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:10:31 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:10:31 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:10:31 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:10:31 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:10:31 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:10:31 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:10:31 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:10:31 - db_utils - INFO -   Database version: 0
2024-10-29 12:10:31 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:10:31 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:10:31 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:10:31 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:10:31 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:31 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:10:31 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:10:31 - db_utils - INFO -   Row count in feedback: 8
2024-10-29 12:10:31 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:10:31 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:10:31 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:10:31 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:10:31 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:10:31 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:10:31 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:10:31 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:10:31 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:10:31 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:10:31 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:10:31 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:10:31 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:10:31 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:10:31 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:10:31 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:10:31 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:10:31 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:10:31 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:10:31 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:10:31 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:10:31 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:10:31 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:10:31 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:10:31 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:10:31 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:10:31 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:10:31 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:10:31 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:10:31 - db_utils - INFO - Database index creation completed
2024-10-29 12:10:31 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:10:31 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:10:31 - __main__ - INFO - Application setup complete
2024-10-29 12:10:31 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:10:31 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-29 12:10:32 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 12:10:32 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 12:10:32 - db_utils - INFO - Query executed successfully on feedback.db. Rows affected: 1
2024-10-29 12:10:32 - feedback_utils - INFO - Feedback saved successfully: Vintervedlikehold, 2024-10-29T00:00:00+01:00, Cabin: 999, hidden: False
2024-10-29 12:10:32 - feedback_utils - INFO - Vedlikeholdsreaksjon lagret for hytte 999: positive
2024-10-29 12:10:32 - __main__ - INFO - Application shutting down
2024-10-29 12:10:32 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:10:32 - __main__ - INFO - Starting application initialization
2024-10-29 12:10:32 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:10:32 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:10:32 - db_utils - INFO -   Database version: 0
2024-10-29 12:10:32 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:10:32 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:10:32 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:10:32 - db_utils - INFO -   Row count in login_history: 268
2024-10-29 12:10:32 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:10:32 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:10:32 - db_utils - INFO -   Database version: 0
2024-10-29 12:10:32 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:10:32 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:10:32 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:10:32 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:10:32 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:10:32 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:10:32 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:10:32 - db_utils - INFO -   Database version: 0
2024-10-29 12:10:32 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:10:32 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:10:32 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:10:32 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:10:32 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:10:32 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:10:32 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:10:32 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:10:32 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:10:32 - db_utils - INFO -   Database version: 0
2024-10-29 12:10:32 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:10:32 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:10:32 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:10:32 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:10:32 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:10:32 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:10:32 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:10:32 - db_utils - INFO -   Row count in feedback: 9
2024-10-29 12:10:32 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:10:32 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:10:32 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:10:32 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:10:32 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:10:32 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:10:32 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:10:32 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:10:32 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:10:32 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:10:32 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:10:32 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:10:32 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:10:32 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:10:32 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:10:32 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:10:32 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:10:32 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:10:32 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:10:32 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:10:32 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:10:32 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:10:32 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:10:32 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:10:32 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:10:32 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:10:32 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:10:32 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:10:32 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:10:32 - db_utils - INFO - Database index creation completed
2024-10-29 12:10:32 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:10:32 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:10:32 - __main__ - INFO - Application setup complete
2024-10-29 12:10:32 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:10:33 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 12:10:33 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 12:10:33 - __main__ - INFO - Application shutting down
2024-10-29 12:12:13 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:12:13 - __main__ - INFO - Starting application initialization
2024-10-29 12:12:13 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:12:13 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:12:13 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:13 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:12:13 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:12:13 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:12:13 - db_utils - INFO -   Row count in login_history: 268
2024-10-29 12:12:13 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:13 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:12:13 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:13 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:12:13 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:12:13 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:13 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:12:13 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:12:13 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:13 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:12:13 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:13 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:12:13 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:12:13 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:12:13 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:13 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:12:13 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:12:13 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:12:13 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:13 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:12:13 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:13 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:12:13 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:12:13 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:12:13 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:13 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:13 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:12:13 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:12:13 - db_utils - INFO -   Row count in feedback: 9
2024-10-29 12:12:13 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:13 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:12:13 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:12:13 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:12:13 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:12:13 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:12:13 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:12:13 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:12:13 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:12:13 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:12:13 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:12:13 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:12:13 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:12:13 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:12:13 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:12:13 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:12:13 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:12:13 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:12:13 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:12:13 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:12:13 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:12:13 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:12:13 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:12:13 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:12:13 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:12:13 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:12:13 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:12:13 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:12:13 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:12:13 - db_utils - INFO - Database index creation completed
2024-10-29 12:12:13 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:12:13 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:12:13 - __main__ - INFO - Application setup complete
2024-10-29 12:12:13 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:12:14 - __main__ - INFO - Application shutting down
2024-10-29 12:12:14 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:12:14 - __main__ - INFO - Starting application initialization
2024-10-29 12:12:14 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:12:14 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:12:14 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:14 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:12:14 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:12:14 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:12:14 - db_utils - INFO -   Row count in login_history: 268
2024-10-29 12:12:14 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:14 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:12:14 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:14 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:12:14 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:12:14 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:14 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:12:14 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:12:14 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:14 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:12:14 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:14 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:12:14 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:12:14 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:12:14 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:14 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:12:14 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:12:14 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:12:14 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:14 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:12:14 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:14 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:12:14 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:12:14 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:12:14 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:14 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:14 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:12:14 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:12:14 - db_utils - INFO -   Row count in feedback: 9
2024-10-29 12:12:14 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:14 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:12:14 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:12:14 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:12:14 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:12:14 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:12:14 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:12:14 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:12:14 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:12:14 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:12:14 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:12:14 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:12:14 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:12:14 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:12:14 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:12:14 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:12:14 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:12:14 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:12:14 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:12:14 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:12:14 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:12:14 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:12:14 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:12:14 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:12:14 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:12:14 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:12:14 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:12:14 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:12:14 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:12:14 - db_utils - INFO - Database index creation completed
2024-10-29 12:12:14 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:12:14 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:12:14 - __main__ - INFO - Application setup complete
2024-10-29 12:12:14 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:12:14 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-29 12:12:15 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 12:12:15 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 12:12:15 - __main__ - INFO - Application shutting down
2024-10-29 12:12:19 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:12:19 - __main__ - INFO - Starting application initialization
2024-10-29 12:12:19 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:12:19 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:12:19 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:19 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:12:19 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:12:19 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:12:19 - db_utils - INFO -   Row count in login_history: 268
2024-10-29 12:12:19 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:19 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:12:19 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:19 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:12:19 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:12:19 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:19 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:12:19 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:12:19 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:19 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:12:19 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:19 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:12:19 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:12:19 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:12:19 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:19 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:12:19 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:12:19 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:12:19 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:19 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:12:19 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:19 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:12:19 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:12:19 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:12:19 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:19 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:19 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:12:19 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:12:19 - db_utils - INFO -   Row count in feedback: 9
2024-10-29 12:12:19 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:19 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:12:19 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:12:19 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:12:19 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:12:19 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:12:19 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:12:19 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:12:19 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:12:19 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:12:19 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:12:19 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:12:19 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:12:19 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:12:19 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:12:19 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:12:19 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:12:19 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:12:19 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:12:19 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:12:19 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:12:19 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:12:19 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:12:19 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:12:19 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:12:19 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:12:19 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:12:19 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:12:19 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:12:19 - db_utils - INFO - Database index creation completed
2024-10-29 12:12:19 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:12:19 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:12:19 - __main__ - INFO - Application setup complete
2024-10-29 12:12:19 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:12:19 - tun_utils - INFO - Filtering bookings for date: 2024-10-29 00:00:00+01:00
2024-10-29 12:12:19 - tun_utils - INFO - Filtering bookings for date: 2024-10-29 00:00:00+01:00
2024-10-29 12:12:19 - map_utils - INFO - Starter vis_dagens_tunkart med 0 bestillinger
2024-10-29 12:12:19 - customer_utils - INFO - Successfully loaded 94 customers from database
2024-10-29 12:12:19 - customer_utils - INFO - Kolonner i kundedatabasen: ['Id', 'Latitude', 'Longitude', 'Subscription', 'Type']
2024-10-29 12:12:19 - __main__ - INFO - Application shutting down
2024-10-29 12:12:20 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:12:20 - __main__ - INFO - Starting application initialization
2024-10-29 12:12:20 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:12:20 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:12:20 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:20 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:12:20 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:12:20 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:12:20 - db_utils - INFO -   Row count in login_history: 268
2024-10-29 12:12:20 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:20 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:12:20 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:20 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:12:20 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:12:20 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:20 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:12:20 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:12:20 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:20 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:12:20 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:20 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:12:20 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:12:20 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:12:20 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:20 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:12:20 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:12:20 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:12:20 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:20 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:12:20 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:20 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:12:20 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:12:20 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:12:20 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:20 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:20 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:12:20 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:12:20 - db_utils - INFO -   Row count in feedback: 9
2024-10-29 12:12:20 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:20 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:12:20 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:12:20 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:12:20 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:12:20 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:12:20 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:12:20 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:12:20 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:12:20 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:12:20 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:12:20 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:12:20 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:12:20 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:12:20 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:12:20 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:12:20 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:12:20 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:12:20 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:12:20 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:12:20 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:12:20 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:12:20 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:12:20 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:12:20 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:12:20 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:12:20 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:12:20 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:12:20 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:12:20 - db_utils - INFO - Database index creation completed
2024-10-29 12:12:20 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:12:20 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:12:20 - __main__ - INFO - Application setup complete
2024-10-29 12:12:20 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:12:21 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 12:12:21 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 12:12:21 - __main__ - INFO - Application shutting down
2024-10-29 12:12:34 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:12:34 - __main__ - INFO - Starting application initialization
2024-10-29 12:12:34 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:12:34 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:12:34 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:34 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:12:34 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:12:34 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:12:34 - db_utils - INFO -   Row count in login_history: 268
2024-10-29 12:12:34 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:34 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:12:34 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:34 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:12:34 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:12:34 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:34 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:12:34 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:12:34 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:34 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:12:34 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:34 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:12:34 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:12:34 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:12:34 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:34 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:12:34 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:12:34 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:12:34 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:34 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:12:34 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:34 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:12:34 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:12:34 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:12:34 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:34 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:34 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:12:34 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:12:34 - db_utils - INFO -   Row count in feedback: 9
2024-10-29 12:12:34 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:34 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:12:34 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:12:34 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:12:34 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:12:34 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:12:34 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:12:34 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:12:34 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:12:34 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:12:34 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:12:34 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:12:34 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:12:34 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:12:34 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:12:34 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:12:34 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:12:34 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:12:34 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:12:34 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:12:34 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:12:34 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:12:34 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:12:34 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:12:34 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:12:34 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:12:34 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:12:34 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:12:34 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:12:34 - db_utils - INFO - Database index creation completed
2024-10-29 12:12:34 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:12:34 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:12:34 - __main__ - INFO - Application setup complete
2024-10-29 12:12:34 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:12:35 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 12:12:35 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 12:12:35 - db_utils - INFO - Query executed successfully on feedback.db. Rows affected: 1
2024-10-29 12:12:35 - feedback_utils - INFO - Feedback saved successfully: Vintervedlikehold, 2024-10-29T00:00:00+01:00, Cabin: 999, hidden: False
2024-10-29 12:12:35 - feedback_utils - INFO - Vedlikeholdsreaksjon lagret for hytte 999: positive
2024-10-29 12:12:35 - __main__ - INFO - Application shutting down
2024-10-29 12:12:35 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:12:35 - __main__ - INFO - Starting application initialization
2024-10-29 12:12:35 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:12:35 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:12:35 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:35 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:12:35 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:12:35 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:12:35 - db_utils - INFO -   Row count in login_history: 268
2024-10-29 12:12:35 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:35 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:12:35 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:35 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:12:35 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:12:35 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:35 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:12:35 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:12:35 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:35 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:12:35 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:35 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:12:35 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:12:35 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:12:35 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:35 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:12:35 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:12:35 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:12:35 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:35 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:12:35 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:35 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:12:35 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:12:35 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:12:35 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:35 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:35 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:12:35 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:12:35 - db_utils - INFO -   Row count in feedback: 10
2024-10-29 12:12:35 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:35 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:12:35 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:12:35 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:12:35 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:12:35 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:12:35 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:12:35 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:12:35 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:12:35 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:12:35 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:12:35 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:12:35 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:12:35 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:12:35 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:12:35 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:12:35 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:12:35 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:12:35 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:12:35 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:12:35 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:12:35 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:12:35 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:12:35 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:12:35 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:12:35 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:12:35 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:12:35 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:12:35 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:12:35 - db_utils - INFO - Database index creation completed
2024-10-29 12:12:35 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:12:35 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:12:35 - __main__ - INFO - Application setup complete
2024-10-29 12:12:35 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:12:36 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 12:12:36 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 12:12:36 - __main__ - INFO - Application shutting down
2024-10-29 12:12:43 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:12:43 - __main__ - INFO - Starting application initialization
2024-10-29 12:12:43 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:12:43 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:12:43 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:43 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:12:43 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:12:43 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:12:43 - db_utils - INFO -   Row count in login_history: 268
2024-10-29 12:12:43 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:43 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:12:43 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:43 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:12:43 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:12:43 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:43 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:12:43 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:12:43 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:43 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:12:43 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:43 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:12:43 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:12:43 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:12:43 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:43 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:12:43 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:12:43 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:12:43 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:43 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:12:43 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:43 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:12:43 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:12:43 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:12:43 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:43 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:43 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:12:43 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:12:43 - db_utils - INFO -   Row count in feedback: 10
2024-10-29 12:12:43 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:43 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:12:43 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:12:43 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:12:43 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:12:43 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:12:43 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:12:43 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:12:43 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:12:43 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:12:43 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:12:43 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:12:43 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:12:43 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:12:43 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:12:43 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:12:43 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:12:43 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:12:43 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:12:43 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:12:43 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:12:43 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:12:43 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:12:43 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:12:43 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:12:43 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:12:43 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:12:43 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:12:43 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:12:43 - db_utils - INFO - Database index creation completed
2024-10-29 12:12:43 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:12:43 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:12:43 - __main__ - INFO - Application setup complete
2024-10-29 12:12:43 - __main__ - INFO - Application shutting down
2024-10-29 12:12:46 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:12:46 - __main__ - INFO - Starting application initialization
2024-10-29 12:12:46 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:12:46 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:12:46 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:46 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:12:46 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:12:46 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:12:46 - db_utils - INFO -   Row count in login_history: 268
2024-10-29 12:12:46 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:46 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:12:46 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:46 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:12:46 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:12:46 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:46 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:12:46 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:12:46 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:46 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:12:46 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:46 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:12:46 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:12:46 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:12:46 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:46 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:12:46 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:12:46 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:12:46 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:46 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:12:46 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:46 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:12:46 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:12:46 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:12:46 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:46 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:12:46 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:12:46 - db_utils - INFO -   Row count in feedback: 10
2024-10-29 12:12:46 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:46 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:12:46 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:12:46 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:12:46 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:12:46 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:12:46 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:12:46 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:12:46 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:12:46 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:12:46 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:12:46 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:12:46 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:12:46 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:12:46 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:12:46 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:12:46 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:12:46 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:12:46 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:12:46 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:12:46 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:12:46 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:12:46 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:12:46 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:12:46 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:12:46 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:12:46 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:12:46 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:12:46 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:12:46 - db_utils - INFO - Database index creation completed
2024-10-29 12:12:46 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:12:46 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:12:46 - __main__ - INFO - Application setup complete
2024-10-29 12:12:46 - auth_utils - INFO - Login attempt for ID: 999
2024-10-29 12:12:46 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 12:12:46 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 12:12:46 - db_utils - INFO - Attempting to create database engine...
2024-10-29 12:12:46 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 12:12:46 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-29 12:12:46 - auth_utils - INFO - User 999 authenticated successfully
2024-10-29 12:12:46 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:12:46 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-29 12:12:46 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-29 12:12:46 - auth_utils - INFO - Successful login for ID: 999
2024-10-29 12:12:46 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-29 12:12:46 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 12:12:46 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 12:12:46 - db_utils - INFO - Attempting to create database engine...
2024-10-29 12:12:46 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 12:12:46 - auth_utils - INFO - Rate limit reset for user 999
2024-10-29 12:12:46 - __main__ - INFO - Application shutting down
2024-10-29 12:12:46 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:12:46 - __main__ - INFO - Starting application initialization
2024-10-29 12:12:46 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:12:46 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:12:46 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:46 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:12:46 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:12:46 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:12:46 - db_utils - INFO -   Row count in login_history: 269
2024-10-29 12:12:46 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:46 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:12:46 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:46 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:12:46 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:12:46 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:46 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:12:46 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:12:46 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:46 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:12:46 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:46 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:12:46 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:12:46 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:12:46 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:46 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:12:46 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:12:46 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:12:46 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:46 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:12:46 - db_utils - INFO -   Database version: 0
2024-10-29 12:12:46 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:12:46 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:12:46 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:12:46 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:12:46 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:12:46 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:12:46 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:12:46 - db_utils - INFO -   Row count in feedback: 10
2024-10-29 12:12:46 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:12:46 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:12:46 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:12:46 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:12:46 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:12:46 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:12:46 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:12:46 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:12:46 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:12:46 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:12:46 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:12:46 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:12:46 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:12:46 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:12:46 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:12:46 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:12:46 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:12:46 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:12:46 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:12:46 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:12:46 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:12:46 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:12:46 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:12:46 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:12:46 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:12:46 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:12:46 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:12:46 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:12:46 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:12:46 - db_utils - INFO - Database index creation completed
2024-10-29 12:12:46 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:12:46 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:12:46 - __main__ - INFO - Application setup complete
2024-10-29 12:12:46 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:12:46 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-29 12:12:47 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 12:12:47 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 12:12:47 - __main__ - INFO - Application shutting down
2024-10-29 12:14:03 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:14:03 - __main__ - INFO - Starting application initialization
2024-10-29 12:14:03 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:14:03 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:14:03 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:03 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:14:03 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:14:03 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:14:03 - db_utils - INFO -   Row count in login_history: 269
2024-10-29 12:14:03 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:03 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:14:03 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:03 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:14:03 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:14:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:03 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:14:03 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:14:03 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:03 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:14:03 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:03 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:14:03 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:14:03 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:14:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:03 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:14:03 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:14:03 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:14:03 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:03 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:14:03 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:03 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:14:03 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:14:03 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:14:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:03 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:03 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:14:03 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:14:03 - db_utils - INFO -   Row count in feedback: 10
2024-10-29 12:14:03 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:03 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:14:03 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:14:03 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:14:03 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:14:03 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:14:03 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:14:03 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:14:03 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:14:03 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:14:03 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:14:03 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:14:03 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:14:03 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:14:03 - db_utils - INFO - Database login_history initialized, updated, and optimized
2024-10-29 12:14:03 - db_utils - INFO - Database tunbroyting initialized, updated, and optimized
2024-10-29 12:14:03 - db_utils - INFO - Database stroing initialized, updated, and optimized
2024-10-29 12:14:03 - db_utils - INFO - Database feedback initialized, updated, and optimized
2024-10-29 12:14:03 - db_utils - INFO - Database customer initialized, updated, and optimized
2024-10-29 12:14:03 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:14:03 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:14:03 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:14:03 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:14:03 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:14:03 - db_utils - INFO - Database index creation completed
2024-10-29 12:14:03 - db_utils - INFO - Database indexes created
2024-10-29 12:14:03 - db_utils - INFO - Successfully verified connection to stroing.db
2024-10-29 12:14:03 - db_utils - INFO - Successfully verified connection to tunbroyting.db
2024-10-29 12:14:03 - db_utils - INFO - Successfully verified connection to feedback.db
2024-10-29 12:14:03 - db_utils - INFO - Successfully verified connection to login_history.db
2024-10-29 12:14:03 - db_utils - INFO - Successfully verified connection to customer.db
2024-10-29 12:14:03 - db_utils - INFO - Database connections verified
2024-10-29 12:14:03 - db_utils - INFO - All databases initialized, updated, and verified
2024-10-29 12:14:03 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:14:03 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:14:03 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:14:03 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:14:03 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:14:03 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:14:03 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:14:03 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:14:03 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:14:03 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:14:03 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:14:03 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:14:03 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:14:03 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:14:03 - db_utils - INFO - Database index creation completed
2024-10-29 12:14:03 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:14:03 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:14:03 - __main__ - INFO - Application setup complete
2024-10-29 12:14:03 - __main__ - INFO - Application shutting down
2024-10-29 12:14:05 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:14:05 - __main__ - INFO - Starting application initialization
2024-10-29 12:14:05 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:14:05 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:14:05 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:05 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:14:05 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:14:05 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:14:05 - db_utils - INFO -   Row count in login_history: 269
2024-10-29 12:14:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:05 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:14:05 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:05 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:14:05 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:14:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:05 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:14:05 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:14:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:05 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:14:05 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:05 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:14:05 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:14:05 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:14:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:05 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:14:05 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:14:05 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:14:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:05 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:14:05 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:05 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:14:05 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:14:05 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:14:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:05 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:05 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:14:05 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:14:05 - db_utils - INFO -   Row count in feedback: 10
2024-10-29 12:14:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:05 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:14:05 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:14:05 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:14:05 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:14:05 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:14:05 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:14:05 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:14:05 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:14:05 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:14:05 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:14:05 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:14:05 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:14:05 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:14:05 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:14:05 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:14:05 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:14:05 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:14:05 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:14:05 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:14:05 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:14:05 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:14:05 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:14:05 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:14:05 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:14:05 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:14:05 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:14:05 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:14:05 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:14:05 - db_utils - INFO - Database index creation completed
2024-10-29 12:14:05 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:14:05 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:14:05 - __main__ - INFO - Application setup complete
2024-10-29 12:14:05 - auth_utils - INFO - Login attempt for ID: 999
2024-10-29 12:14:05 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 12:14:05 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 12:14:05 - db_utils - INFO - Attempting to create database engine...
2024-10-29 12:14:05 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 12:14:06 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-29 12:14:06 - auth_utils - INFO - User 999 authenticated successfully
2024-10-29 12:14:06 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:14:06 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-29 12:14:06 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-29 12:14:06 - auth_utils - INFO - Successful login for ID: 999
2024-10-29 12:14:06 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-29 12:14:06 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 12:14:06 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 12:14:06 - db_utils - INFO - Attempting to create database engine...
2024-10-29 12:14:06 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 12:14:06 - auth_utils - INFO - Rate limit reset for user 999
2024-10-29 12:14:06 - __main__ - INFO - Application shutting down
2024-10-29 12:14:06 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:14:06 - __main__ - INFO - Starting application initialization
2024-10-29 12:14:06 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:14:06 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:14:06 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:06 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:14:06 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:14:06 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:14:06 - db_utils - INFO -   Row count in login_history: 270
2024-10-29 12:14:06 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:06 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:14:06 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:06 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:14:06 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:14:06 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:06 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:14:06 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:14:06 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:06 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:14:06 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:06 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:14:06 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:14:06 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:14:06 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:06 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:14:06 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:14:06 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:14:06 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:06 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:14:06 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:06 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:14:06 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:14:06 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:14:06 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:06 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:06 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:14:06 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:14:06 - db_utils - INFO -   Row count in feedback: 10
2024-10-29 12:14:06 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:06 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:14:06 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:14:06 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:14:06 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:14:06 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:14:06 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:14:06 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:14:06 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:14:06 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:14:06 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:14:06 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:14:06 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:14:06 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:14:06 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:14:06 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:14:06 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:14:06 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:14:06 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:14:06 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:14:06 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:14:06 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:14:06 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:14:06 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:14:06 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:14:06 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:14:06 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:14:06 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:14:06 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:14:06 - db_utils - INFO - Database index creation completed
2024-10-29 12:14:06 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:14:06 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:14:06 - __main__ - INFO - Application setup complete
2024-10-29 12:14:06 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:14:06 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-29 12:14:06 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 12:14:06 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 12:14:06 - __main__ - INFO - Application shutting down
2024-10-29 12:14:28 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:14:28 - __main__ - INFO - Starting application initialization
2024-10-29 12:14:28 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:14:28 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:14:28 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:28 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:14:28 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:14:28 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:14:28 - db_utils - INFO -   Row count in login_history: 270
2024-10-29 12:14:28 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:28 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:14:28 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:28 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:14:28 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:14:28 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:28 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:14:28 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:14:28 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:28 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:14:28 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:28 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:14:28 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:14:28 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:14:28 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:28 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:14:28 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:14:28 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:14:28 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:28 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:14:28 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:28 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:14:28 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:14:28 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:14:28 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:28 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:28 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:14:28 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:14:28 - db_utils - INFO -   Row count in feedback: 10
2024-10-29 12:14:28 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:28 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:14:28 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:14:28 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:14:28 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:14:28 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:14:28 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:14:28 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:14:28 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:14:28 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:14:28 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:14:28 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:14:28 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:14:28 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:14:28 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:14:28 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:14:28 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:14:28 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:14:28 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:14:28 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:14:28 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:14:28 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:14:28 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:14:28 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:14:28 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:14:28 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:14:28 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:14:28 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:14:28 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:14:28 - db_utils - INFO - Database index creation completed
2024-10-29 12:14:28 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:14:28 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:14:28 - __main__ - INFO - Application setup complete
2024-10-29 12:14:28 - __main__ - INFO - Application shutting down
2024-10-29 12:14:30 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:14:30 - __main__ - INFO - Starting application initialization
2024-10-29 12:14:30 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:14:30 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:14:30 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:30 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:14:30 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:14:30 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:14:30 - db_utils - INFO -   Row count in login_history: 270
2024-10-29 12:14:30 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:30 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:14:30 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:30 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:14:30 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:14:30 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:30 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:14:30 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:14:30 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:30 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:14:30 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:30 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:14:30 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:14:30 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:14:30 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:30 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:14:30 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:14:30 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:14:30 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:30 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:14:30 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:30 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:14:30 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:14:30 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:14:30 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:30 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:14:30 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:14:30 - db_utils - INFO -   Row count in feedback: 10
2024-10-29 12:14:30 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:30 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:14:30 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:14:30 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:14:30 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:14:30 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:14:30 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:14:30 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:14:30 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:14:30 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:14:30 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:14:30 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:14:30 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:14:30 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:14:30 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:14:30 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:14:30 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:14:30 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:14:30 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:14:30 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:14:30 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:14:30 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:14:30 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:14:30 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:14:30 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:14:30 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:14:30 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:14:30 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:14:30 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:14:30 - db_utils - INFO - Database index creation completed
2024-10-29 12:14:30 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:14:30 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:14:30 - __main__ - INFO - Application setup complete
2024-10-29 12:14:30 - auth_utils - INFO - Login attempt for ID: 999
2024-10-29 12:14:30 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 12:14:30 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 12:14:30 - db_utils - INFO - Attempting to create database engine...
2024-10-29 12:14:30 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 12:14:30 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-29 12:14:30 - auth_utils - INFO - User 999 authenticated successfully
2024-10-29 12:14:30 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:14:30 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-29 12:14:30 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-29 12:14:30 - auth_utils - INFO - Successful login for ID: 999
2024-10-29 12:14:30 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-29 12:14:30 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 12:14:30 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 12:14:30 - db_utils - INFO - Attempting to create database engine...
2024-10-29 12:14:30 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 12:14:30 - auth_utils - INFO - Rate limit reset for user 999
2024-10-29 12:14:30 - __main__ - INFO - Application shutting down
2024-10-29 12:14:30 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:14:30 - __main__ - INFO - Starting application initialization
2024-10-29 12:14:30 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:14:30 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:14:30 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:30 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:14:30 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:14:30 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:14:30 - db_utils - INFO -   Row count in login_history: 271
2024-10-29 12:14:30 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:30 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:14:30 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:30 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:14:30 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:14:30 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:30 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:14:30 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:14:30 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:30 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:14:30 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:30 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:14:30 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:14:30 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:14:30 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:30 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:14:30 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:14:30 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:14:30 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:30 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:14:30 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:30 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:14:30 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:14:30 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:14:30 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:30 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:30 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:14:30 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:14:30 - db_utils - INFO -   Row count in feedback: 10
2024-10-29 12:14:30 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:30 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:14:30 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:14:30 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:14:30 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:14:30 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:14:30 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:14:30 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:14:30 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:14:30 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:14:30 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:14:30 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:14:30 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:14:30 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:14:30 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:14:30 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:14:30 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:14:30 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:14:30 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:14:30 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:14:30 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:14:30 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:14:30 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:14:30 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:14:30 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:14:30 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:14:30 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:14:30 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:14:30 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:14:30 - db_utils - INFO - Database index creation completed
2024-10-29 12:14:30 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:14:30 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:14:30 - __main__ - INFO - Application setup complete
2024-10-29 12:14:30 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:14:31 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 12:14:31 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 12:14:31 - __main__ - INFO - Application shutting down
2024-10-29 12:14:51 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:14:51 - __main__ - INFO - Starting application initialization
2024-10-29 12:14:51 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:14:51 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:14:51 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:51 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:14:51 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:14:51 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:14:51 - db_utils - INFO -   Row count in login_history: 271
2024-10-29 12:14:51 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:51 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:14:51 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:51 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:14:51 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:14:51 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:51 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:14:51 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:14:51 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:51 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:14:51 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:51 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:14:51 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:14:51 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:14:51 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:51 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:14:51 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:14:51 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:14:51 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:51 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:14:51 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:51 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:14:51 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:14:51 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:14:51 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:51 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:51 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:14:51 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:14:51 - db_utils - INFO -   Row count in feedback: 10
2024-10-29 12:14:51 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:51 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:14:51 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:14:51 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:14:51 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:14:51 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:14:51 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:14:51 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:14:51 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:14:51 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:14:51 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:14:51 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:14:51 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:14:51 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:14:51 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:14:51 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:14:51 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:14:51 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:14:51 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:14:51 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:14:51 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:14:51 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:14:51 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:14:51 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:14:51 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:14:51 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:14:51 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:14:51 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:14:51 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:14:51 - db_utils - INFO - Database index creation completed
2024-10-29 12:14:51 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:14:51 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:14:51 - __main__ - INFO - Application setup complete
2024-10-29 12:14:51 - __main__ - INFO - Application shutting down
2024-10-29 12:14:54 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:14:54 - __main__ - INFO - Starting application initialization
2024-10-29 12:14:54 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:14:54 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:14:54 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:54 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:14:54 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:14:54 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:14:54 - db_utils - INFO -   Row count in login_history: 271
2024-10-29 12:14:54 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:54 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:14:54 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:54 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:14:54 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:14:54 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:54 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:14:54 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:14:54 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:54 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:14:54 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:54 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:14:54 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:14:54 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:14:54 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:54 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:14:54 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:14:54 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:14:54 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:54 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:14:54 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:54 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:14:54 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:14:54 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:14:54 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:54 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:14:54 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:14:54 - db_utils - INFO -   Row count in feedback: 10
2024-10-29 12:14:54 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:54 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:14:54 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:14:54 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:14:54 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:14:54 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:14:54 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:14:54 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:14:54 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:14:54 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:14:54 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:14:54 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:14:54 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:14:54 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:14:54 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:14:54 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:14:54 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:14:54 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:14:54 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:14:54 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:14:54 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:14:54 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:14:54 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:14:54 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:14:54 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:14:54 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:14:54 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:14:54 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:14:54 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:14:54 - db_utils - INFO - Database index creation completed
2024-10-29 12:14:54 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:14:54 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:14:54 - __main__ - INFO - Application setup complete
2024-10-29 12:14:54 - auth_utils - INFO - Login attempt for ID: 999
2024-10-29 12:14:54 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 12:14:54 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 12:14:54 - db_utils - INFO - Attempting to create database engine...
2024-10-29 12:14:54 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 12:14:54 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-29 12:14:54 - auth_utils - INFO - User 999 authenticated successfully
2024-10-29 12:14:54 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:14:54 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-29 12:14:54 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-29 12:14:54 - auth_utils - INFO - Successful login for ID: 999
2024-10-29 12:14:54 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-29 12:14:54 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 12:14:54 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 12:14:54 - db_utils - INFO - Attempting to create database engine...
2024-10-29 12:14:54 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 12:14:54 - auth_utils - INFO - Rate limit reset for user 999
2024-10-29 12:14:54 - __main__ - INFO - Application shutting down
2024-10-29 12:14:54 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:14:54 - __main__ - INFO - Starting application initialization
2024-10-29 12:14:54 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:14:54 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:14:54 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:54 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:14:54 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:14:54 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:14:54 - db_utils - INFO -   Row count in login_history: 272
2024-10-29 12:14:54 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:54 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:14:54 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:54 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:14:54 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:14:54 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:54 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:14:54 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:14:54 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:54 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:14:54 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:54 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:14:54 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:14:54 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:14:54 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:54 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:14:54 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:14:54 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:14:54 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:54 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:14:54 - db_utils - INFO -   Database version: 0
2024-10-29 12:14:54 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:14:54 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:14:54 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:14:54 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:14:54 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:14:54 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:14:54 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:14:54 - db_utils - INFO -   Row count in feedback: 10
2024-10-29 12:14:54 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:14:54 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:14:54 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:14:54 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:14:54 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:14:54 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:14:54 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:14:54 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:14:54 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:14:54 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:14:54 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:14:54 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:14:54 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:14:54 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:14:54 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:14:54 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:14:54 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:14:54 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:14:54 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:14:54 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:14:54 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:14:54 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:14:54 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:14:54 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:14:54 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:14:54 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:14:54 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:14:54 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:14:54 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:14:54 - db_utils - INFO - Database index creation completed
2024-10-29 12:14:54 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:14:54 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:14:54 - __main__ - INFO - Application setup complete
2024-10-29 12:14:54 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:14:55 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 12:14:55 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 12:14:55 - __main__ - INFO - Application shutting down
2024-10-29 12:15:03 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:15:03 - __main__ - INFO - Starting application initialization
2024-10-29 12:15:03 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:15:03 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:15:03 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:03 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:15:03 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:15:03 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:15:03 - db_utils - INFO -   Row count in login_history: 272
2024-10-29 12:15:03 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:03 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:15:03 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:03 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:15:03 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:15:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:03 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:15:03 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:15:03 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:03 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:15:03 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:03 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:15:03 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:15:03 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:15:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:03 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:15:03 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:15:03 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:15:03 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:03 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:15:03 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:03 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:15:03 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:15:03 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:15:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:03 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:15:03 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:15:03 - db_utils - INFO -   Row count in feedback: 10
2024-10-29 12:15:03 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:03 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:15:03 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:15:03 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:15:03 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:15:03 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:15:03 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:15:03 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:15:03 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:15:03 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:15:03 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:15:03 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:15:03 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:15:03 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:15:03 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:15:03 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:15:03 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:15:03 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:15:03 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:15:03 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:15:03 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:15:03 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:15:03 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:15:03 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:15:03 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:15:03 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:15:03 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:15:03 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:15:03 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:15:03 - db_utils - INFO - Database index creation completed
2024-10-29 12:15:03 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:15:03 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:15:03 - __main__ - INFO - Application setup complete
2024-10-29 12:15:03 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:15:03 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:15:03 - __main__ - INFO - Starting application initialization
2024-10-29 12:15:03 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:15:03 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:15:03 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:03 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:15:03 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:15:03 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:15:03 - db_utils - INFO -   Row count in login_history: 272
2024-10-29 12:15:03 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:03 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:15:03 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:03 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:15:03 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:15:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:03 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:15:03 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:15:03 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:03 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:15:03 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:03 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:15:03 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:15:03 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:15:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:03 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:15:03 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:15:03 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:15:03 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:03 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:15:03 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:03 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:15:03 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:15:03 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:15:03 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:03 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:03 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:15:03 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:15:03 - db_utils - INFO -   Row count in feedback: 10
2024-10-29 12:15:03 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:03 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:15:03 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:15:03 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:15:03 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:15:03 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:15:03 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:15:03 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:15:03 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:15:03 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:15:03 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:15:03 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:15:03 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:15:03 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:15:03 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:15:03 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:15:03 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:15:03 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:15:03 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:15:04 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:15:04 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:15:04 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:15:04 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:15:04 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:15:04 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:15:04 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:15:04 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:15:04 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:15:04 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:15:04 - db_utils - INFO - Database index creation completed
2024-10-29 12:15:04 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:15:04 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:15:04 - __main__ - INFO - Application setup complete
2024-10-29 12:15:04 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:15:04 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:15:04 - __main__ - INFO - Starting application initialization
2024-10-29 12:15:04 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:15:04 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:15:04 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:04 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:15:04 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:15:04 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:15:04 - db_utils - INFO -   Row count in login_history: 272
2024-10-29 12:15:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:04 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:15:04 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:04 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:15:04 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:15:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:04 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:15:04 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:15:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:04 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:15:04 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:15:04 - __main__ - INFO - Starting application initialization
2024-10-29 12:15:04 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:15:04 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:15:04 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:04 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:04 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:15:04 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:15:04 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:15:04 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:15:04 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:15:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:04 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:15:04 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:15:04 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:15:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:04 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:15:04 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:15:04 - db_utils - INFO -   Row count in login_history: 272
2024-10-29 12:15:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:04 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:15:04 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:04 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:15:04 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:15:04 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:15:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:04 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:15:04 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:15:04 - db_utils - INFO -   Row count in feedback: 10
2024-10-29 12:15:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:04 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:15:04 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:04 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:15:04 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:15:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:15:04 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:15:04 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:15:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:04 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:15:04 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:04 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:15:04 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:15:04 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:15:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:04 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:15:04 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:15:04 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:15:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:04 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:15:04 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:15:04 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:04 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:15:04 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:15:04 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:15:04 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:15:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:04 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:15:04 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 12:15:04 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 12:15:04 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:15:04 - __main__ - INFO - Application shutting down
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:15:04 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:15:04 - db_utils - INFO -   Row count in feedback: 10
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:15:04 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:15:04 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:15:04 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:15:04 - __main__ - INFO - Starting application initialization
2024-10-29 12:15:04 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:15:04 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:15:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:04 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:15:04 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:15:04 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:15:04 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:15:04 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:15:04 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:15:04 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:15:04 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:15:04 - db_utils - INFO -   Row count in login_history: 272
2024-10-29 12:15:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:04 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:15:04 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:15:04 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:15:04 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:04 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:15:04 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:15:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:04 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:15:04 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:15:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:04 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:15:04 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:15:04 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:15:04 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:15:04 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:15:04 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:15:04 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:15:04 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:15:04 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:15:04 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:15:04 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:15:04 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:15:04 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:15:04 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:15:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:15:04 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:15:04 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:15:04 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:15:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:04 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:15:04 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:04 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:15:04 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:15:04 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:15:04 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:15:04 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:15:04 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:15:04 - __main__ - INFO - Starting application initialization
2024-10-29 12:15:04 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:15:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:04 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:15:04 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:15:04 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:15:04 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:15:04 - db_utils - INFO - Database index creation completed
2024-10-29 12:15:04 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:15:04 - __main__ - INFO - Application shutting down
2024-10-29 12:15:04 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:15:04 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:15:04 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:15:04 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:15:04 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:15:04 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:15:04 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:15:04 - db_utils - INFO -   Row count in feedback: 10
2024-10-29 12:15:04 - db_utils - INFO -   Row count in login_history: 272
2024-10-29 12:15:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:04 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:15:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:04 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:15:04 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:15:04 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:15:04 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:15:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:04 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:15:04 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:15:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:04 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:15:04 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:15:04 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:15:04 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:04 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:15:04 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:15:04 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:15:04 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:15:04 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:15:04 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:15:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:04 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:15:04 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:15:04 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:15:04 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:15:04 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:15:04 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:15:04 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:15:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:04 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:15:04 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:15:04 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:15:04 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:15:04 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:15:04 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:15:04 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:15:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:04 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:15:04 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:15:04 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:15:04 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:15:04 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:15:04 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:15:04 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:15:04 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:15:04 - db_utils - INFO -   Row count in feedback: 10
2024-10-29 12:15:04 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:15:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:04 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:15:04 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:15:04 - db_utils - INFO - Database index creation completed
2024-10-29 12:15:04 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:15:04 - __main__ - INFO - Application shutting down
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:15:04 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:15:04 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:15:04 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:15:04 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:15:04 - __main__ - INFO - Starting application initialization
2024-10-29 12:15:04 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:15:04 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:15:04 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:15:04 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:15:04 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:15:04 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:15:04 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:04 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:15:04 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:15:04 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:15:04 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:15:04 - db_utils - INFO -   Row count in login_history: 272
2024-10-29 12:15:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:04 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:15:04 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:04 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:15:04 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:15:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:04 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:15:04 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:15:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:04 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:15:04 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:15:04 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:04 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:15:04 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:15:04 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:15:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:04 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:15:04 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:15:04 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:15:04 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:15:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:04 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:15:04 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:15:04 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:15:04 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:15:04 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:15:04 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:15:04 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:15:04 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:15:04 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:15:04 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:15:04 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:04 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:04 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:15:04 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:15:04 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:15:04 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:15:04 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:15:04 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:15:04 - db_utils - INFO - Database index creation completed
2024-10-29 12:15:04 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:15:04 - db_utils - INFO -   Row count in feedback: 10
2024-10-29 12:15:04 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:04 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:15:04 - __main__ - INFO - Application shutting down
2024-10-29 12:15:04 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:15:04 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:15:04 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:15:04 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:15:04 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:15:04 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:15:04 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 12:15:04 - __main__ - INFO - Application shutting down
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:15:04 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:15:04 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:15:04 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:15:04 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:15:04 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:15:04 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:15:04 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:15:04 - db_utils - INFO - Database index creation completed
2024-10-29 12:15:04 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:15:04 - __main__ - INFO - Application shutting down
2024-10-29 12:15:05 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:15:05 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:15:05 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:15:05 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:15:05 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:15:05 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:15:05 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:15:05 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:15:05 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:15:05 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:15:05 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:15:05 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:15:05 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:15:05 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:15:05 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:15:05 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:15:05 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:15:05 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:15:05 - db_utils - INFO - Database index creation completed
2024-10-29 12:15:05 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:15:05 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:15:05 - __main__ - INFO - Application setup complete
2024-10-29 12:15:05 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:15:05 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:15:05 - __main__ - INFO - Starting application initialization
2024-10-29 12:15:05 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:15:05 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:15:05 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:05 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:15:05 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:15:05 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:15:05 - db_utils - INFO -   Row count in login_history: 272
2024-10-29 12:15:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:05 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:15:05 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:05 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:15:05 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:15:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:05 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:15:05 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:15:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:05 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:15:05 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:05 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:15:05 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:15:05 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:15:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:05 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:15:05 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:15:05 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:15:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:05 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:15:05 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:05 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:15:05 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:15:05 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:15:05 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:05 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:05 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:15:05 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:15:05 - db_utils - INFO -   Row count in feedback: 10
2024-10-29 12:15:05 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:05 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:15:05 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:15:05 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:15:05 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:15:05 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:15:05 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:15:05 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:15:05 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:15:05 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:15:05 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:15:05 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:15:05 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:15:05 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:15:05 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:15:05 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:15:05 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:15:05 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:15:05 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:15:05 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:15:05 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:15:05 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:15:05 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:15:05 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:15:05 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:15:05 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:15:05 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:15:05 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:15:05 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:15:05 - db_utils - INFO - Database index creation completed
2024-10-29 12:15:05 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:15:05 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:15:05 - __main__ - INFO - Application setup complete
2024-10-29 12:15:05 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:15:05 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:15:05 - __main__ - INFO - Application shutting down
2024-10-29 12:15:05 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 12:15:05 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 12:15:05 - __main__ - INFO - Application shutting down
2024-10-29 12:15:06 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:15:06 - __main__ - INFO - Starting application initialization
2024-10-29 12:15:06 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:15:06 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:15:06 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:06 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:15:06 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:15:06 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:15:06 - db_utils - INFO -   Row count in login_history: 272
2024-10-29 12:15:06 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:06 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:15:06 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:06 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:15:06 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:15:06 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:06 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:15:06 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:15:06 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:06 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:15:06 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:06 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:15:06 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:15:06 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:15:06 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:06 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:15:06 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:15:06 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:15:06 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:06 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:15:06 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:06 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:15:06 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:15:06 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:15:06 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:06 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:06 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:15:06 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:15:06 - db_utils - INFO -   Row count in feedback: 10
2024-10-29 12:15:06 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:06 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:15:06 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:15:06 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:15:06 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:15:06 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:15:06 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:15:06 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:15:06 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:15:06 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:15:06 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:15:06 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:15:06 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:15:06 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:15:06 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:15:06 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:15:06 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:15:06 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:15:06 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:15:06 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:15:06 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:15:06 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:15:06 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:15:06 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:15:06 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:15:06 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:15:06 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:15:06 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:15:06 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:15:06 - db_utils - INFO - Database index creation completed
2024-10-29 12:15:06 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:15:06 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:15:06 - __main__ - INFO - Application setup complete
2024-10-29 12:15:06 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:15:06 - alert_utils - INFO - Fetched 1 alerts. only_today=False, include_expired=False
2024-10-29 12:15:09 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 12:15:09 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 12:15:09 - __main__ - INFO - Application shutting down
2024-10-29 12:15:11 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:15:11 - __main__ - INFO - Starting application initialization
2024-10-29 12:15:11 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:15:11 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:15:11 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:11 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:15:11 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:15:11 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:15:11 - db_utils - INFO -   Row count in login_history: 272
2024-10-29 12:15:11 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:11 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:15:11 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:11 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:15:11 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:15:11 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:11 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:15:11 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:15:11 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:11 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:15:11 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:11 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:15:11 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:15:11 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:15:11 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:11 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:15:11 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:15:11 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:15:11 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:11 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:15:11 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:11 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:15:11 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:15:11 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:15:11 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:11 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:11 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:15:11 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:15:11 - db_utils - INFO -   Row count in feedback: 10
2024-10-29 12:15:11 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:11 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:15:11 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:15:11 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:15:11 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:15:11 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:15:11 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:15:11 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:15:11 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:15:11 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:15:11 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:15:11 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:15:11 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:15:11 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:15:11 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:15:11 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:15:11 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:15:11 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:15:11 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:15:11 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:15:11 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:15:11 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:15:11 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:15:11 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:15:11 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:15:11 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:15:11 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:15:11 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:15:11 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:15:11 - db_utils - INFO - Database index creation completed
2024-10-29 12:15:11 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:15:11 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:15:11 - __main__ - INFO - Application setup complete
2024-10-29 12:15:11 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:15:11 - tun_utils - INFO - Filtering bookings for date: 2024-10-29 00:00:00+01:00
2024-10-29 12:15:11 - tun_utils - INFO - Filtering bookings for date: 2024-10-29 00:00:00+01:00
2024-10-29 12:15:11 - map_utils - INFO - Starter vis_dagens_tunkart med 0 bestillinger
2024-10-29 12:15:12 - customer_utils - INFO - Successfully loaded 94 customers from database
2024-10-29 12:15:12 - customer_utils - INFO - Kolonner i kundedatabasen: ['Id', 'Latitude', 'Longitude', 'Subscription', 'Type']
2024-10-29 12:15:12 - __main__ - INFO - Application shutting down
2024-10-29 12:15:13 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:15:13 - __main__ - INFO - Starting application initialization
2024-10-29 12:15:13 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:15:13 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:15:13 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:13 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:15:13 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:15:13 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:15:13 - db_utils - INFO -   Row count in login_history: 272
2024-10-29 12:15:13 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:13 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:15:13 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:13 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:15:13 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:15:13 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:13 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:15:13 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:15:13 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:13 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:15:13 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:13 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:15:13 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:15:13 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:15:13 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:13 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:15:13 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:15:13 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:15:13 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:13 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:15:13 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:13 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:15:13 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:15:13 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:15:13 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:13 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:13 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:15:13 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:15:13 - db_utils - INFO -   Row count in feedback: 10
2024-10-29 12:15:13 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:13 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:15:13 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:15:13 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:15:13 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:15:13 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:15:13 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:15:13 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:15:13 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:15:13 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:15:13 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:15:13 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:15:13 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:15:13 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:15:13 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:15:13 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:15:13 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:15:13 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:15:13 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:15:13 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:15:13 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:15:13 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:15:13 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:15:13 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:15:13 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:15:13 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:15:13 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:15:13 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:15:13 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:15:13 - db_utils - INFO - Database index creation completed
2024-10-29 12:15:13 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:15:13 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:15:13 - __main__ - INFO - Application setup complete
2024-10-29 12:15:13 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:15:14 - weather_utils - ERROR - Uventet feil ved datahenting eller -behandling: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
Traceback (most recent call last):
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 74, in fetch_and_process_data
    processed_data[column] = handle_missing_data(df.index, processed_data[column], method='time')
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/weather_utils.py", line 225, in handle_missing_data
    interpolated = data_series.interpolate(method='time')
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/generic.py", line 8498, in interpolate
    index = missing.get_interp_index(method, obj.index)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/new_clean_env/lib/python3.12/site-packages/pandas/core/missing.py", line 335, in get_interp_index
    raise NotImplementedError(
NotImplementedError: Interpolation with NaNs in the index has not been implemented. Try filling those NaNs before interpolating.
2024-10-29 12:15:14 - weather_utils - ERROR - Kunne ikke hente værdata for alarmer
2024-10-29 12:15:14 - __main__ - INFO - Application shutting down
2024-10-29 12:15:21 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:15:21 - __main__ - INFO - Starting application initialization
2024-10-29 12:15:21 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:15:21 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:15:21 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:21 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:15:21 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:15:21 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:15:21 - db_utils - INFO -   Row count in login_history: 272
2024-10-29 12:15:21 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:21 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:15:21 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:21 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:15:21 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:15:21 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:21 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:15:21 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:15:21 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:21 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:15:21 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:21 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:15:21 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:15:21 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:15:21 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:21 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:15:21 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:15:21 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:15:21 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:21 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:15:21 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:21 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:15:21 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:15:21 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:15:21 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:21 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:21 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:15:21 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:15:21 - db_utils - INFO -   Row count in feedback: 10
2024-10-29 12:15:21 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:21 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:15:21 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:15:21 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:15:21 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:15:21 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:15:21 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:15:21 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:15:21 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:15:21 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:15:21 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:15:21 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:15:21 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:15:21 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:15:21 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:15:21 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:15:21 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:15:21 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:15:21 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:15:21 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:15:21 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:15:21 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:15:21 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:15:21 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:15:21 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:15:21 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:15:21 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:15:21 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:15:21 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:15:21 - db_utils - INFO - Database index creation completed
2024-10-29 12:15:21 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:15:21 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:15:21 - __main__ - INFO - Application setup complete
2024-10-29 12:15:21 - __main__ - INFO - Application shutting down
2024-10-29 12:15:24 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:15:24 - __main__ - INFO - Starting application initialization
2024-10-29 12:15:24 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:15:24 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:15:24 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:24 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:15:24 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:15:24 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:15:24 - db_utils - INFO -   Row count in login_history: 272
2024-10-29 12:15:24 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:24 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:15:24 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:24 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:15:24 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:15:24 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:24 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -     Column: ankomst_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -     Column: avreise_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -     Column: avreise_tid, Type: TIME, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -     Column: abonnement_type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -   Indexes in tunbroyting.db: ['idx_tunbroyting_bruker', 'idx_tunbroyting_ankomst_dato', 'idx_tunbroyting_avreise_dato', 'idx_tunbroyting_abonnement']
2024-10-29 12:15:24 - db_utils - INFO -   Row count in tunbroyting_bestillinger: 2
2024-10-29 12:15:24 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:24 - db_utils - INFO - Debugging stroing database:
2024-10-29 12:15:24 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:24 - db_utils - INFO -   Tables in stroing.db: ['sqlite_sequence', 'stroing_bestillinger']
2024-10-29 12:15:24 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:15:24 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -   Structure of stroing_bestillinger table:
2024-10-29 12:15:24 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:24 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -     Column: bestillings_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -     Column: onske_dato, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -   Indexes in stroing.db: ['idx_stroing_bruker', 'idx_stroing_onske_dato', 'idx_stroing_bestillings_dato']
2024-10-29 12:15:24 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:15:24 - db_utils - INFO -   Row count in stroing_bestillinger: 3
2024-10-29 12:15:24 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:24 - db_utils - INFO - Debugging feedback database:
2024-10-29 12:15:24 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:24 - db_utils - INFO -   Tables in feedback.db: ['sqlite_sequence', 'feedback']
2024-10-29 12:15:24 - db_utils - INFO -   Structure of sqlite_sequence table:
2024-10-29 12:15:24 - db_utils - INFO -     Column: name, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -     Column: seq, Type: , NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -   Structure of feedback table:
2024-10-29 12:15:24 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:24 - db_utils - INFO -     Column: type, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -     Column: datetime, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -     Column: comment, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -     Column: innsender, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -     Column: status, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -     Column: status_changed_by, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -     Column: status_changed_at, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -     Column: hidden, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -     Column: is_alert, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -     Column: display_on_weather, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -     Column: expiry_date, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -     Column: target_group, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -   Indexes in feedback.db: ['idx_feedback_datetime', 'idx_feedback_innsender', 'idx_feedback_status', 'idx_feedback_type']
2024-10-29 12:15:24 - db_utils - INFO -   Row count in sqlite_sequence: 1
2024-10-29 12:15:24 - db_utils - INFO -   Row count in feedback: 10
2024-10-29 12:15:24 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:24 - db_utils - INFO - Detailed database operations debugging completed
2024-10-29 12:15:24 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:15:24 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:15:24 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:15:24 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:15:24 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:15:24 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:15:24 - db_utils - INFO - Oppdatert skjema for customer
2024-10-29 12:15:24 - db_utils - INFO - Oppdatert skjema for feedback
2024-10-29 12:15:24 - db_utils - INFO - Oppdatert skjema for login_history
2024-10-29 12:15:24 - db_utils - INFO - Oppdatert skjema for stroing
2024-10-29 12:15:24 - db_utils - INFO - Oppdatert skjema for tunbroyting
2024-10-29 12:15:24 - db_utils - INFO - All database schemas verified and updated
2024-10-29 12:15:24 - db_utils - INFO - Database already initialized. Skipping.
2024-10-29 12:15:24 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: -1
2024-10-29 12:15:24 - db_utils - INFO - login_history table structure is correct
2024-10-29 12:15:24 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:15:24 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:15:24 - customer_utils - INFO - Konsistenssjekk fullført
2024-10-29 12:15:24 - customer_utils - INFO - Validating customers and passwords
2024-10-29 12:15:24 - utils - INFO - Attempting to load passwords from secrets
2024-10-29 12:15:24 - utils - INFO - Successfully loaded passwords. Number of entries: 94
2024-10-29 12:15:24 - customer_utils - INFO - Customer and password validation complete
2024-10-29 12:15:24 - db_utils - INFO - Successfully created indexes for tunbroyting database
2024-10-29 12:15:24 - db_utils - INFO - Successfully created indexes for stroing database
2024-10-29 12:15:24 - db_utils - INFO - Successfully created indexes for feedback database
2024-10-29 12:15:24 - db_utils - INFO - Successfully created indexes for login_history database
2024-10-29 12:15:24 - db_utils - INFO - Successfully created indexes for customer database
2024-10-29 12:15:24 - db_utils - INFO - Database index creation completed
2024-10-29 12:15:24 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:15:24 - __main__ - INFO - Application initialization completed successfully
2024-10-29 12:15:24 - __main__ - INFO - Application setup complete
2024-10-29 12:15:24 - auth_utils - INFO - Login attempt for ID: 999
2024-10-29 12:15:24 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 12:15:24 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 12:15:24 - db_utils - INFO - Attempting to create database engine...
2024-10-29 12:15:24 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 12:15:24 - auth_utils - INFO - Rate limit check passed for user 999
2024-10-29 12:15:24 - auth_utils - INFO - User 999 authenticated successfully
2024-10-29 12:15:24 - customer_utils - INFO - Successfully retrieved customer with ID: 999
2024-10-29 12:15:24 - db_utils - INFO - Database file /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db exists.
2024-10-29 12:15:24 - db_utils - INFO - Query executed successfully on login_history.db. Rows affected: 1
2024-10-29 12:15:24 - auth_utils - INFO - Successful login for ID: 999
2024-10-29 12:15:24 - auth_utils - INFO - Successful login and logging for ID: 999
2024-10-29 12:15:24 - db_utils - INFO - DATABASE_PATH: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen
2024-10-29 12:15:24 - db_utils - INFO - Full database path: /Users/tor.inge.jossang@aftenbladet.no/dev/gullingen/login_history.db
2024-10-29 12:15:24 - db_utils - INFO - Attempting to create database engine...
2024-10-29 12:15:24 - db_utils - INFO - Database engine created successfully for login_history.db
2024-10-29 12:15:24 - auth_utils - INFO - Rate limit reset for user 999
2024-10-29 12:15:24 - __main__ - INFO - Application shutting down
2024-10-29 12:15:24 - __main__ - INFO - Added validate_user_input function to app.py
2024-10-29 12:15:24 - __main__ - INFO - Starting application initialization
2024-10-29 12:15:24 - db_utils - INFO - Starting detailed database operations debugging
2024-10-29 12:15:24 - db_utils - INFO - Debugging login_history database:
2024-10-29 12:15:24 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:24 - db_utils - INFO -   Tables in login_history.db: ['login_history']
2024-10-29 12:15:24 - db_utils - INFO -   Structure of login_history table:
2024-10-29 12:15:24 - db_utils - INFO -     Column: id, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -     Column: login_time, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -     Column: success, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -   Indexes in login_history.db: ['idx_login_id', 'idx_login_time']
2024-10-29 12:15:24 - db_utils - INFO -   Row count in login_history: 273
2024-10-29 12:15:24 - db_utils - INFO -   Test query result: (1,)
2024-10-29 12:15:24 - db_utils - INFO - Debugging tunbroyting database:
2024-10-29 12:15:24 - db_utils - INFO -   Database version: 0
2024-10-29 12:15:24 - db_utils - INFO -   Tables in tunbroyting.db: ['tunbroyting_bestillinger']
2024-10-29 12:15:24 - db_utils - INFO -   Structure of tunbroyting_bestillinger table:
2024-10-29 12:15:24 - db_utils - INFO -     Column: id, Type: INTEGER, NotNull: 0, DefaultValue: None, PK: 1
2024-10-29 12:15:24 - db_utils - INFO -     Column: bruker, Type: TEXT, NotNull: 0, DefaultValue: None, PK: 0
2024-10-29 12:15:24 - db_utils - INFO -     Column: ankomst_dato, Type: DATE, NotNull: 0, DefaultValue: None, PK: 0
